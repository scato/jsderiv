<!DOCTYPE HTML>
<html>
<head>
  <title>ECMAScript Language Specification (ECMA-262 5th Edition)</title>
  <style type="text/css">
    /* Basics */
    body {
        margin-left: 8em;
        margin-right: 8em;
        background-color: #fdfdfc;
        color: #333333;
        font-family: Cambria, Palatino Linotype, Palatino, Liberation Serif,
            serif;
        font-size: 17px;
        line-height: 135%;
    }
    section { display: block; }
    h1 { line-height: normal; }
    #everything {
        margin: 0 auto;
        max-width: 800px;
    }
    #everything > section { margin-top: 5em; }
    #everything > section > section { margin-top: 4em; }
    #everything > section > section section { margin-top: 2.5em; }
    #everything > .inner-title {
        font-size: 160%;
        font-weight: bold;
        margin-top: 6em;
    }
    #everything section h1 { font-size: 110%; margin-bottom: 1em; }
    h1 span.secnum {
        width: 6em;
        margin-left: -6.8em;
        text-align: right;
        float: left;
    }
    h2 { font-size: 100%; margin-bottom: 1em; }

    h1 > span.section-status { display: block; }

    b, em.jargon-first-use, span.this, span.value, span.libname,
    span.errorname, code, pre {
        color: #555555;
        font-weight: bold;
    }

    code, pre, .string.value { font-family: "Courier New", monospace; }
    code, .string, .math { white-space: nowrap; }

    #sec4\.3 section h1 { font-size: 100%; margin-bottom: 0; }

    sup, sub { font-size: smaller; }
    .gp sub, .prod sub, sub.gopt {  /* Specifically for "opt". */
        position: relative;  /* Forgive me -- but this works. */
        bottom: 0.3em;
        font-size: 65%;
    }

    pre {
        margin-left: 2em;
        font-size: 85%;
    }

    a:link {
        text-decoration: none;
        color: #3333bb;
    }
    a:hover {
        text-decoration: underline;
        color: blue;
    }
    a:link b, a:link span.value, a:link span.this, a:link span.value,
    a:link span.libname, a:link span.errorname, a:link code {
        color: #5555bb;
    }
    a:hover b, a:hover span.value, a:hover span.this, a:hover span.value,
    a:hover span.libname, a:hover span.errorname, a:hover code {
        color: #0000ee;
    }
    a:visited b, a:visited span.value, a:visited span.this,
    a:visited span.value, a:visited span.libname, a:visited span.errorname,
    a:visited code {
        color: inherit;
    }
    span.secnum a:link, span.secnum a:visited { color: inherit; }
    h1:hover span.secnum a:link, h1:hover span.secnum a:visited {
        color:#5555bb;
        text-decoration: underline;
    }

    em { font-style: italic; }
    p.formal-reference { margin-left: 3em; text-indent: -1em; }
    span.book-title { font-style: italic; }
    span.abstractopname { font-style: italic; }
    span.typename { font-style: italic; }
    span.typecombinator { font-style: italic; }
    dfn { font-style: italic; }

    /* Ridiculous page numbers */
    span.pagemark {
        width: 8em;
        line-height: normal;
        float: right;
        margin-right: -9em;
        font-style: italic;
        color: #ccc;
        border-top: 1px solid #eee;
        font-size: 10pt; /* not just "smaller" -- see note below */

        /* Restore defaults rather than inherit from parent element for CSS
           properties where the default is to inherit.  These are only needed
           in case the pagemark lands in some element that has them set.  */
        font-weight: normal;
        font-family: Times New Roman, Times, FreeSerif, serif;
    }
    div.blank-page:after {
        content: '\0000a0';
        clear: both;
        margin-bottom: 1em;
    }

    /* Front matter */
    ol.toc { padding-left: 0; }
    ol.toc > li { list-style-type: none; padding-left: 1em; text-indent: -1em;}
    ol.toc > li span.secnum {
        float: left; margin-left: -5em; width: 3.4em; text-align: right;
    }
    #unofficial {
        margin: 4em 0;
        background-color: #eed4bb;
        border-radius: 6px;
        padding: 2em 4em;
    }
    #ecma-disclaimer {
        font-style: italic;
        border: 1px solid;
        margin: 2em 0 3em 0;
    }
    .stern.warning {
        font-weight: bold;
        text-transform: uppercase;
    }

    /* Notes */
    div.note {
        margin: 1em 0 1em 6em;
    }
    span.nh {
        float: left;
        width: 6em;
        margin-left: -6em;
    }

    /* Figures and tables */
    figure { display: block; margin: 1em 0 3em 0; }
    figure object { display: block; margin: 0 auto; }
    figure table.real-table { margin: 0 auto; }
    figure figcaption {
        display: block;
        color: #555555;
        font-weight: bold;
        text-align: center;
    }

    table.real-table {
        border-collapse: collapse;
    }
    table.real-table td, table.real-table th {
        border: 1px solid black;
        padding: 0.4em;
        vertical-align: baseline;
    }
    table.real-table th {
        background-color: #eeeeee;
    }

    /* Note: the left content edges of table.lightweight-table >tbody >tr >td
       and div.display line up. */
    table.lightweight-table {
        border-collapse: collapse;
        margin: 0 0 0 1.5em;
    }
    table.lightweight-table td, table.lightweight-table th {
        border: none;
        padding: 0 0.5em;
        vertical-align: baseline;
    }
    div.display { margin: 1em 0 1em 2em; }

    /* Grammar productions */
    div.gp { margin-left: 2.4em; margin-top: 0.9em; }
    div.rhs { margin-left: 2.4em; }  /* right-hand side */
    div.pile { margin-left: 2.4em; max-width: 40em; }
    div.keyword.pile code { float: left; width: 25%; }
    div.keyword5.pile code { float: left; width: 20%; }
    div.operator.pile code { float: left; width: 16%; }
    div.end-pile { clear: both; }

    code { /* including code.t, meaning "terminal" or "token" */
        font-weight: bold;
        color: #555555;
    }
    span.nt {  /* nonterminal */
        font-family: Times New Roman, Times, FreeSerif, serif;
        font-style: italic;
    }
    span.geq { font-weight: bold; }  /* grammar equal-sign, like "::" */
    span.grhsmod {  /* right-hand side modifier, like "one of", "but not" */
        font-weight: bold;
        color: #555555;
    }
    span.grhsannot {   /* right-hand side annotation, like "[empty]" */
        font-family: Helvetica, Arial, Liberation Sans, sans-serif;
        font-size: smaller;
    }
    span.chgloss {  /* gloss for a character, like "asterisk" */
        font-style: italic;
    }
    span.gprose {
        font-family: Helvetica, Arial, Liberation Sans, sans-serif;
        font-size: 90%;
    }

    div.gsumxref {     /* grammar summary cross-reference, used in Annex A */
        width: 8em;
        float: right;
    }

    span.prod { margin-left: 5pt; margin-right: 5pt; }

    div.rhs > code.t,
    div.rhs > span.nt,
    div.rhs > span.grhsannot,
    div.rhs > span.grhsmod,
    div.rhs > span.chgloss,
    div.rhs > var,
    span.prod > span.geq,
    span.prod > code.t,
    span.prod > span.nt,
    span.prod > span.grhsannot,
    span.prod > span.grhsmod,
    span.prod > span.chgloss,
    div.rhs > var {
        margin-left: 5pt;
    }

    div.rhs > code.t:first-child,
    div.rhs > span.nt:first-child,
    div.rhs > span.grhsannot:first-child,
    div.rhs > span.grhsmod:first-child,
    div.rhs > span.chgloss:first-child,
    div.rhs > var:first-child,
    span.prod > span.geq:first-child,
    span.prod > code.t:first-child,
    span.prod > span.nt:first-child,
    span.prod > span.grhsannot:first-child,
    span.prod > span.grhsmod:first-child,
    span.prod > span.chgloss:first-child,
    span.prod > var:first-child {
        margin-left: 0;
    }

    ul > li { list-style-type: disc; }

    /* Procedures */
    ol.proc > li { list-style-type: decimal; }
    ol.proc > li > ol.block > li { list-style-type: lower-latin; }
    ol.proc > li > ol.block > li > ol.block > li
      { list-style-type: lower-roman; }
    ol.proc > li > ol.block > li > ol.block > li >
      ol.block > li { list-style-type: decimal; }
    ol.proc > li > ol.block > li > ol.block > li >
      ol.block > li > ol.block > li { list-style-type: lower-latin; }
    ol.proc > li > ol.block > li > ol.block > li >
      ol.block > li > ol.block > li > ol.block > li
      { list-style-type: lower-roman; }

    /* Bibliography */
    ol.bibliography { margin-left: 0; }
    ol.bibliography > li {
        margin-left: 3em; list-style-type: none; margin-bottom: 1.1em; }
    ol.bibliography > li > span.num {
        float: left; margin-left: -3em; width: 2.5em; text-align: right; }
  </style>
</head>

<body>
<section id="everything">

<div id="unofficial">
  <p><strong>This is <em>not</em> the official ECMAScript Language
  Specification.</strong></p>

  <p>The official specification is the PDF document located at
  <a href="http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-262.pdf"
  >http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-262.pdf</a>.</p>

  <p>This HTML version was created from the original PDF version by a
  preposterous concatenation of hacks. It very likely contains errors and the
  official standard and errata are of course definitive. For copyright
  information, see <a href="#ecma-disclaimer">ECMA's legal disclaimer</a> in
  the document itself.</p>

   <p>This version was created by Jason Orendorff and incorporates the official
   <a href="http://wiki.ecmascript.org/lib/exe/fetch.php?id=es3.1%3Aes3.1_proposal_working_draft&amp;cache=cache&amp;media=resources:es5_errata_7-31-10.pdf">errata</a>
   as of 31&nbsp;July 2010.</p>

  <p>Last updated: 5 November 2010.</p>
</div>

<span class="pagemark" id="page1">PDF page 1</span>
<h1>ECMA-262
  <span style="display:block">5th Edition / December 2009</span>
  <span style="display:block">ECMAScript Language Specification</span></h1>

<div class="ecma-reference-number">Reference number ECMA-123:2009</div>

<span class="pagemark" id="page2">PDF page 2</span>
<div class="warning stern">COPYRIGHT PROTECTED DOCUMENT</div>
<div class="copyright">&copy; Ecma International 2009</div>

<section id="contents">
<h1>Contents</h1>

<ol class="toc">
  <li><a href="#introduction">Introduction</a></li>

  <li><a href="#sec-1"><span class="secnum">1</span> Scope</a></li>

  <li><a href="#sec-2"><span class="secnum">2</span> Conformance</a></li>

  <li><a href="#sec-3"><span class="secnum">3</span> Normative
      references</a></li>

  <li><a href="#sec-4"><span class="secnum">4</span> Overview</a></li>

  <li><a href="#sec-5"><span class="secnum">5</span> Notational
      Conventions</a></li>

  <li><a href="#sec-6"><span class="secnum">6</span> Source Text</a></li>

  <li><a href="#sec-7"><span class="secnum">7</span> Lexical
      Conventions</a></li>

  <li><a href="#sec-8"><span class="secnum">8</span> Types</a></li>

  <li><a href="#sec-9"><span class="secnum">9</span> Type Conversion and
      Testing</a></li>

  <li><a href="#sec-10"><span class="secnum">10</span> Executable Code and
      Execution Contexts</a></li>

  <li><a href="#sec-11"><span class="secnum">11</span> Expressions</a></li>

  <li><a href="#sec-12"><span class="secnum">12</span> Statements</a></li>

  <li><a href="#sec-13"><span class="secnum">13</span> Function
      Definition</a></li>

  <li><a href="#sec-14"><span class="secnum">14</span> Program</a></li>

  <li><a href="#sec-15"><span class="secnum">15</span> Standard Built-in
      ECMAScript Objects</a></li>

  <li><a href="#sec-16"><span class="secnum">16</span> Errors</a></li>

  <li><a href="#sec-A">Annex A
      <span class="section-status">(informative)</span> Grammar
      Summary</a></li>

  <li><a href="#sec-B">Annex B
      <span class="section-status">(informative)</span> Compatibility</a></li>

  <li><a href="#sec-C">Annex C
      <span class="section-status">(informative)</span> The Strict Mode of
      ECMAScript</a></li>

  <li><a href="#sec-D">Annex D
      <span class="section-status">(informative)</span> Corrections and
      Clarifications in the 5th Edition with Possible 3rd Edition Compatibility
      Impact</a></li>

  <li><a href="#sec-E">Annex E
      <span class="section-status">(informative)</span> Additions and Changes
      in the 5th Edition that Introduce Incompatibilities with the 3rd
      Edition</a></li>

  <li><a href="#bibliography">Bibliography</a></li>
</ol>

</section>

<section id="introduction">
<span class="pagemark" id="page9">PDF page 9 / printed page vii</span>
<h1>Introduction</h1>

<p>This Ecma Standard is based on several originating technologies, the most
well known being JavaScript (Netscape) and JScript (Microsoft). The language
was invented by Brendan Eich at Netscape and first appeared in that
company&rsquo;s Navigator 2.0 browser. It has appeared in all subsequent
browsers from Netscape and in all browsers from Microsoft starting with
Internet Explorer 3.0.</p>

<p>The development of this Standard started in November 1996. The first edition
of this Ecma Standard was adopted by the Ecma General Assembly of June
1997.</p>

<p>That Ecma Standard was submitted to ISO/IEC JTC 1 for adoption under the
fast-track procedure, and approved as international standard ISO/IEC 16262, in
April 1998. The Ecma General Assembly of June 1998 approved the second edition
of ECMA-262 to keep it fully aligned with ISO/IEC 16262. Changes between the
first and the second edition are editorial in nature.</p>

<p>The third edition of the Standard introduced powerful regular expressions,
better string handling, new control statements, try/catch exception handling,
tighter definition of errors, formatting for numeric output and minor changes
in anticipation of forthcoming internationalisation facilities and future
language growth. The third edition of the ECMAScript standard was adopted by
the Ecma General Assembly of December 1999 and published as ISO/IEC 16262:2002
in June 2002.</p>

<p>Since publication of the third edition, ECMAScript has achieved massive
adoption in conjunction with the World Wide Web where it has become the
programming language that is supported by essentially all web browsers.
Significant work was done to develop a fourth edition of ECMAScript. Although
that work was not completed and not
published<sup><a href="#footnote1">1</a></sup> as the fourth edition of
ECMAScript, it informs continuing evolution of the language. The present fifth
edition of ECMAScript (published as ECMA-262 5th edition) codifies de facto
interpretations of the language specification that have become common among
browser implementations and adds support for new features that have emerged
since the publication of the third edition. Such features include accessor
properties, reflective creation and inspection of objects, program control of
property attributes, additional array manipulation functions, support for the
<a href="#sec-15.12">JSON</a> object encoding format, and a strict mode that
provides enhanced error checking and program security.</p>

<p>ECMAScript is a vibrant language and the evolution of the language is not
complete. Significant technical enhancement will continue with future editions
of this specification.</p>

<p style="margin-top: 5em;">This Ecma Standard has been adopted by the General
Assembly of December 2009.</p>

<div id="footnote1">
  <p><sup>1</sup>Note: Please note that for ECMAScript Edition 4 the Ecma
  standard number &ldquo;ECMA-262 Edition 4&rdquo; was reserved but not used in
  the Ecma publication process. Therefore &ldquo;ECMA-262 Edition 4&rdquo; as
  an Ecma International publication does not exist.</p>
</div>
</section>



<span class="pagemark" id="page10">PDF page 10 / printed page viii</span>
<div id="ecma-disclaimer">
<p>"DISCLAIMER</p>

<p>This document and possible translations of it may be copied and furnished to
others, and derivative works that comment on or otherwise explain it or assist
in its implementation may be prepared, copied, published, and distributed, in
whole or in part, without restriction of any kind, provided that the above
copyright notice and this section are included on all such copies and
derivative works. However, this document itself may not be modified in any way,
including by removing the copyright notice or references to Ecma International,
except as needed for the purpose of developing any document or deliverable
produced by Ecma International (in which case the rules applied to copyrights
must be followed) or as required to translate it into languages other than
English.</p>

<p>The limited permissions granted above are perpetual and will not be revoked
by Ecma International or its successors or assigns.</p>

<p>This document and the information contained herein is provided on an "AS IS"
basis and ECMA INTERNATIONAL DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED,
INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
HEREIN WILL NOT INFRINGE ANY OWNERSHIP RIGHTS OR ANY IMPLIED WARRANTIES OF
MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."</p>
</div>



<div class="inner-title"><span class="pagemark" id="page11">PDF page 11 /
printed page 1</span>ECMAScript Language Specification</div>


<section id="sec-1">
<h1><span class="secnum"><a href="#sec-1"
    title="link to this section">1</a></span>
    Scope</h1>

<p>This Standard defines the ECMAScript scripting language.</p>
</section>



<section id="sec-2">
<h1><span class="secnum"><a href="#sec-2"
    title="link to this section">2</a></span>
    Conformance</h1>

<p>A conforming implementation of ECMAScript must provide and support all the
types, values, objects, properties, functions, and program syntax and semantics
described in this specification.</p>

<p>A conforming implementation of this International standard shall interpret
characters in conformance with the Unicode Standard, Version 3.0 or later and
ISO/IEC 10646-1 with either UCS-2 or UTF-16 as the adopted encoding form,
implementation level 3. If the adopted ISO/IEC 10646-1 subset is not otherwise
specified, it is presumed to be the BMP subset, collection 300. If the adopted
encoding form is not otherwise specified, it presumed to be the UTF-16 encoding
form.</p>

<p>A conforming implementation of ECMAScript is permitted to provide additional
types, values, objects, properties, and functions beyond those described in
this specification. In particular, a conforming implementation of ECMAScript is
permitted to provide properties not described in this specification, and values
for those properties, for objects that are described in this specification.</p>

<p>A conforming implementation of ECMAScript is permitted to support program
and regular expression syntax not described in this specification. In
particular, a conforming implementation of ECMAScript is permitted to support
program syntax that makes use of the &ldquo;future reserved words&rdquo; listed
in <a href="#sec-7.6.1.2">7.6.1.2</a> of this specification.</p>
</section>



<section id="sec-3">
<h1><span class="secnum"><a href="#sec-3"
    title="link to this section">3</a></span>
    Normative references</h1>

<p>The following referenced documents are indispensable for the application of
this document. For dated references, only the edition cited applies. For
undated references, the latest edition of the referenced document (including
any amendments) applies.</p>

<p class="formal-reference">ISO/IEC 9899:1996,
<span class="book-title">Programming Languages &ndash; C, including amendment 1
and technical corrigenda 1 and&nbsp;2</span></p>

<p class="formal-reference">ISO/IEC 10646-1:1993,
<span class="book-title">Information Technology &ndash; Universal
Multiple-Octet Coded Character Set (UCS) plus its amendments and
corrigenda</span></p>
</section>



<section id="sec-4">
<h1><span class="secnum"><a href="#sec-4"
    title="link to this section">4</a></span>
    Overview</h1>

<p>This section contains a non-normative overview of the ECMAScript
language.</p>

<p>ECMAScript is an object-oriented programming language for performing
computations and manipulating computational objects within a host environment.
ECMAScript as defined here is not intended to be computationally
self-sufficient; indeed, there are no provisions in this specification for
input of external data or output of computed results. Instead, it is expected
that the computational environment of an ECMAScript program will provide not
only the objects and other facilities described in this specification but also
certain environment-specific <dfn>host</dfn> objects, whose description and
behaviour are beyond the scope of this specification except to indicate that
they may provide certain properties that can be accessed and certain functions
that can be called from an ECMAScript program.</p>

<p><span class="pagemark" id="page12">PDF page 12 / printed page 2</span> A
<em class="jargon-first-use">scripting language</em> is a programming language
that is used to manipulate, customise, and automate the facilities of an
existing system. In such systems, useful functionality is already available
through a user interface, and the scripting language is a mechanism for
exposing that functionality to program control. In this way, the existing
system is said to provide a host environment of objects and facilities, which
completes the capabilities of the scripting language. A scripting language is
intended for use by both professional and non-professional programmers.</p>

<p>ECMAScript was originally designed to be a <em class="jargon-first-use">Web
scripting language</em>, providing a mechanism to enliven Web pages in browsers
and to perform server computation as part of a Web-based client-server
architecture. ECMAScript can provide core scripting capabilities for a variety
of host environments, and therefore the core scripting language is specified in
this document apart from any particular host environment.</p>

<p>Some of the facilities of ECMAScript are similar to those used in other
programming languages; in particular Java&trade;, Self, and Scheme as described
in:</p>

<p class="formal-reference">Gosling, James, Bill Joy and Guy Steele.
<span class="book-title">The Java&trade; Language Specification</span>. Addison
Wesley Publishing Co., 1996.</p>

<p class="formal-reference">Ungar, David, and Smith, Randall B.
<span class="book-title">Self: The Power of Simplicity</span>. OOPSLA &rsquo;87
Conference Proceedings, pp.&nbsp;227-241, Orlando,&nbsp;FL, October 1987.</p>

<p class="formal-reference"><span class="book-title">IEEE Standard for the
Scheme Programming Language</span>. IEEE Std 1178-1990.</p>


<section id="sec-4.1">
<h1><span class="secnum"><a href="#sec-4.1"
    title="link to this section">4.1</a></span>
    Web Scripting</h1>

<p>A web browser provides an ECMAScript host environment for client-side
computation including, for instance, objects that represent windows, menus,
pop-ups, dialog boxes, text areas, anchors, frames, history, cookies, and
input/output. Further, the host environment provides a means to attach
scripting code to events such as change of focus, page and image loading,
unloading, error and abort, selection, form submission, and mouse actions.
Scripting code appears within the HTML and the displayed page is a combination
of user interface elements and fixed and computed text and images. The
scripting code is reactive to user interaction and there is no need for a main
program.</p>

<p>A web server provides a different host environment for server-side
computation including objects representing requests, clients, and files; and
mechanisms to lock and share data. By using browser-side and server-side
scripting together, it is possible to distribute computation between the client
and server while providing a customised user interface for a Web-based
application.</p>

<p>Each Web browser and server that supports ECMAScript supplies its own host
environment, completing the ECMAScript execution environment.</p>
</section>


<section id="sec-4.2">
<h1><span class="secnum"><a href="#sec-4.2"
    title="link to this section">4.2</a></span>
    Language Overview</h1>

<p>The following is an informal overview of ECMAScript&mdash;not all parts of
the language are described. This overview is not part of the standard
proper.</p>

<p>ECMAScript is object-based: basic language and host facilities are provided
by objects, and an ECMAScript program is a cluster of communicating objects. An
ECMAScript <em class="jargon-first-use">object</em> is a collection of
<em class="jargon-first-use">properties</em> each with zero or more
<em class="jargon-first-use">attributes</em> that determine how each property
can be used&mdash;for example, when the Writable attribute for a property is
set to <span class="value">false</span>, any attempt by executed ECMAScript
code to change the value of the property fails. Properties are containers that
hold other objects, <em class="jargon-first-use">primitive values</em>, or
<em class="jargon-first-use">functions</em>. A primitive value is a member of
one of the following built-in types: <b>Undefined</b>, <b>Null</b>,
<b>Boolean</b>, <b>Number</b>, and <b>String</b>; an object is a member of the
remaining built-in type <b>Object</b>; and a function is a callable object. A
function that is associated with an object via a property is a
<em class="jargon-first-use">method</em>.</p>

<p>ECMAScript defines a collection of <em class="jargon-first-use">built-in
objects</em> that round out the definition of ECMAScript entities. These
built-in objects include the <a href="#sec-15.1">global</a> object, the
<a href="#sec-15.2"><span class="libname">Object</span></a> object, the
<a href="#sec-15.3"><span class="libname">Function</span></a> object, the
<a href="#sec-15.4"><span class="libname">Array</span></a> object, the
<a href="#sec-15.5"><span class="libname">String</span></a> object, the
<a href="#sec-15.6"><span class="libname">Boolean</span></a> object, the
<a href="#sec-15.7"><span class="libname">Number</span></a> object, the
<a href="#sec-15.8"><span class="libname">Math</span></a> object, the
<a href="#sec-15.9"><span class="libname">Date</span></a> object, the
<a href="#sec-15.10"><span class="libname">RegExp</span></a> object, the
<span class="pagemark" id="page13">PDF page 13 / printed page 3</span>
<a href="#sec-15.12"><span class="libname">JSON</span></a> object, and the
Error objects <a href="#sec-15.11"><span class="errorname">Error</span></a>,
<a href="#sec-15.11.6.1"><span class="errorname">EvalError</span></a>,
<a href="#sec-15.11.6.2"><span class="errorname">RangeError</span></a>,
<a href="#sec-15.11.6.3"><span class="errorname">ReferenceError</span></a>,
<a href="#sec-15.11.6.4"><span class="errorname">SyntaxError</span></a>,
<a href="#sec-15.11.6.5"><span class="errorname">TypeError</span></a> and
<a href="#sec-15.11.6.6"><span class="errorname">URIError</span></a>.</p>

<p>ECMAScript also defines a set of built-in
<em class="jargon-first-use">operators</em>. ECMAScript operators include
various unary operations, multiplicative operators, additive operators, bitwise
shift operators, relational operators, equality operators, binary bitwise
operators, binary logical operators, assignment operators, and the comma
operator.</p>

<p>ECMAScript syntax intentionally resembles Java syntax. ECMAScript syntax is
relaxed to enable it to serve as an easy-to-use scripting language. For
example, a variable is not required to have its type declared nor are types
associated with properties, and defined functions are not required to have
their declarations appear textually before calls to them.</p>


<section id="sec-4.2.1">
<h1><span class="secnum"><a href="#sec-4.2.1"
    title="link to this section">4.2.1</a></span>
    Objects</h1>

<p>ECMAScript does not use classes such as those in C++, Smalltalk, or Java.
Instead objects may be created in various ways including via a literal notation
or via <em class="jargon-first-use">constructors</em> which create objects and
then execute code that initialises all or part of them by assigning initial
values to their properties. Each constructor is a function that has a property
named &ldquo;<code class="propname">prototype</code>&rdquo; that is used to
implement <em class="jargon-first-use">prototype-based inheritance</em> and
<em class="jargon-first-use">shared properties</em>. Objects are created by
using constructors in <code class="t">new</code> expressions; for example,
<code class="expr">new&nbsp;Date(2009,11)</code> creates a new Date object.
Invoking a constructor without using <code class="t">new</code> has
consequences that depend on the constructor. For example,
<code class="expr">Date()</code> produces a string representation of the
current date and time rather than an object.</p>

<p>Every object created by a constructor has an implicit reference (called the
object&rsquo;s <dfn>prototype</dfn>) to the value of its constructor&rsquo;s
&ldquo;<code class="propname">prototype</code>&rdquo; property. Furthermore, a
prototype may have a non-null implicit reference to its prototype, and so on;
this is called the <dfn>prototype chain</dfn>. When a reference is made to a
property in an object, that reference is to the property of that name in the
first object in the prototype chain that contains a property of that name. In
other words, first the object mentioned directly is examined for such a
property; if that object contains the named property, that is the property to
which the reference refers; if that object does not contain the named property,
the prototype for that object is examined next; and so on.</p>

<figure id="figure1">
  <object type="image/svg+xml" width="719" height="354" data="figure-1.svg">
    <img src="figure-1.png" width="719" height="354"
         alt="An image of lots of boxes and arrows." />
  </object>
  <figcaption>Figure 1 &mdash; Object/Prototype Relationships</figcaption>
</figure>

<p>In a class-based object-oriented language, in general, state is carried by
instances, methods are carried by classes, and inheritance is only of structure
and behaviour. In ECMAScript, the state and methods are carried by objects, and
structure, behaviour, and state are all inherited.</p>

<p><span class="pagemark" id="page14">PDF page 14 / printed page 4</span> All
objects that do not directly contain a particular property that their prototype
contains share that property and its value. Figure 1 illustrates this:</p>

<p><b>CF</b> is a constructor (and also an object). Five objects have been
created by using <code class="t">new</code> expressions: <b>cf<sub>1</sub></b>,
<b>cf<sub>2</sub></b>, <b>cf<sub>3</sub></b>, <b>cf<sub>4</sub></b>, and
<b>cf<sub>5</sub></b>. Each of these objects contains properties named
<code class="propname">q1</code> and <code class="propname">q2</code>. The
dashed lines represent the implicit prototype relationship; so, for example,
<b>cf<sub>3</sub></b>&rsquo;s prototype is <b>CF<sub>p</sub></b>. The
constructor, <b>CF</b>, has two properties itself, named
<code class="propname">P1</code> and <code class="propname">P2</code>, which
are not visible to <b>CF<sub>p</sub></b>, <b>cf<sub>1</sub></b>,
<b>cf<sub>2</sub></b>, <b>cf<sub>3</sub></b>, <b>cf<sub>4</sub></b>, or
<b>cf<sub>5</sub></b>. The property named <code class="propname">CFP1</code> in
<b>CF<sub>p</sub></b> is shared by <b>cf<sub>1</sub></b>,
<b>cf<sub>2</sub></b>, <b>cf<sub>3</sub></b>, <b>cf<sub>4</sub></b>, and
<b>cf<sub>5</sub></b> (but not by <b>CF</b>), as are any properties found in
<b>CF<sub>p</sub></b>&rsquo;s implicit prototype chain that are not named
<code class="propname">q1</code>, <code class="propname">q2</code>, or
<code class="propname">CFP1</code>. Notice that there is no implicit prototype
link between <b>CF</b> and <b>CF<sub>p</sub></b>.</p>

<p>Unlike class-based object languages, properties can be added to objects
dynamically by assigning values to them. That is, constructors are not required
to name or assign values to all or any of the constructed object&rsquo;s
properties. In the above diagram, one could add a new shared property for
<b>cf<sub>1</sub></b>, <b>cf<sub>2</sub></b>, <b>cf<sub>3</sub></b>,
<b>cf<sub>4</sub></b>, and <b>cf<sub>5</sub></b> by assigning a new value to
the property in <b>CF<sub>p</sub></b>.</p>
</section>

<section id="sec-4.2.2">
<h1><span class="secnum"><a href="#sec-4.2.2"
    title="link to this section">4.2.2</a></span>
    The Strict Variant of ECMAScript</h1>

<p>The ECMAScript Language recognizes the possibility that some users of the
language may wish to restrict their usage of some features available in the
language. They might do so in the interests of security, to avoid what they
consider to be error-prone features, to get enhanced error checking, or for
other reasons of their choosing. In support of this possibility, ECMAScript
defines a strict variant of the language. The strict variant of the language
excludes some specific syntactic and semantic features of the regular
ECMAScript language and modifies the detailed semantics of some features. The
strict variant also specifies additional error conditions that must be reported
by throwing error exceptions in situations that are not specified as errors by
the non-strict form of the language.</p>

<p>The strict variant of ECMAScript is commonly referred to as the <dfn>strict
mode</dfn> of the language. Strict mode selection and use of the strict mode
syntax and semantics of ECMAScript is explicitly made at the level of
individual ECMAScript code units. Because strict mode is selected at the level
of a syntactic code unit, strict mode only imposes restrictions that have local
effect within such a code unit. Strict mode does not restrict or modify any
aspect of the ECMAScript semantics that must operate consistently across
multiple code units. A complete ECMAScript program may be composed for both
strict mode and non-strict mode ECMAScript code units. In this case, strict
mode only applies when actually executing code that is defined within a
<a href="#sec-10.1.1">strict mode code</a> unit.</p>

<p>In order to conform to this specification, an ECMAScript implementation must
implement both the full unrestricted ECMAScript language and the strict mode
variant of the ECMAScript language as defined by this specification. In
addition, an implementation must support the combination of unrestricted and
<a href="#sec-10.1.1">strict mode code</a> units into a single composite
program.</p>
</section>
</section>


<section id="sec-4.3">
<h1><span class="secnum"><a href="#sec-4.3"
    title="link to this section">4.3</a></span>
    Definitions</h1>

<p>For the purposes of this document, the following terms and definitions
apply.</p>

<section id="sec-4.3.1">
<h1><span class="secnum"><a href="#sec-4.3.1"
    title="link to this section">4.3.1</a></span>
    type</h1>

<p class="definition">set of data values as defined in <a href="#sec-8">Clause
8</a> of this specification.</p>
</section>

<section id="sec-4.3.2">
<h1><span class="secnum"><a href="#sec-4.3.2"
    title="link to this section">4.3.2</a></span>
    primitive value</h1>

<p class="definition">member of one of the types Undefined, Null, Boolean,
Number, or String as defined in <a href="#sec-8">Clause 8</a>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> A primitive value is a datum that is
  represented directly at the lowest level of the language implementation.</p>
</div>
</section>

<section id="sec-4.3.3">
<h1><span class="secnum"><a href="#sec-4.3.3"
    title="link to this section">4.3.3</a></span>
    object</h1>

<p class="definition">member of the type Object.</p>

<div class="note">
  <p><span class="nh">NOTE</span> An object is a collection of properties and
  has a single prototype object. The prototype may be the null value.</p>
</div>
</section>

<section id="sec-4.3.4">
<span class="pagemark" id="page15">PDF page 15 / printed page 5</span>
<h1><span class="secnum"><a href="#sec-4.3.4"
    title="link to this section">4.3.4</a></span>
    constructor</h1>

<p class="definition">Function object that creates and initialises objects.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The value of a constructor&rsquo;s
  &ldquo;<code class="propname">prototype</code>&rdquo; property is a prototype
  object that is used to implement inheritance and shared properties.</p>
</div>
</section>

<section id="sec-4.3.5">
<h1><span class="secnum"><a href="#sec-4.3.5"
    title="link to this section">4.3.5</a></span>
    prototype</h1>

<p class="definition">object that provides shared properties for other
objects.</p>

<div class="note">
  <p><span class="nh">NOTE</span> When a constructor creates an object, that
  object implicitly references the constructor&rsquo;s
  &ldquo;<code class="propname">prototype</code>&rdquo; property for the
  purpose of resolving property references. The constructor&rsquo;s
  &ldquo;<code class="propname">prototype</code>&rdquo; property can be
  referenced by the program expression
  <code class="expr"><var>constructor</var>.prototype</code>, and properties
  added to an object&rsquo;s prototype are shared, through inheritance, by all
  objects sharing the prototype. Alternatively, a new object may be created
  with an explicitly specified prototype by using the
  <a href="#sec-15.2.3.5"><span class="libname">Object.create</span></a>
  built-in function.</p>
</div>
</section>

<section id="sec-4.3.6">
<h1><span class="secnum"><a href="#sec-4.3.6"
    title="link to this section">4.3.6</a></span>
    native object</h1>

<p class="definition">object in an ECMAScript implementation whose semantics
are fully defined by this specification rather than by the host
environment.</p>

<div class="note">
  <p><span class="nh">NOTE</span> Standard native objects are defined in this
  specification. Some native objects are built-in; others may be constructed
  during the course of execution of an ECMAScript program.</p>
</div>
</section>

<section id="sec-4.3.7">
<h1><span class="secnum"><a href="#sec-4.3.7"
    title="link to this section">4.3.7</a></span>
    built-in object</h1>

<p class="definition">object supplied by an ECMAScript implementation,
independent of the host environment, that is present at the start of the
execution of an ECMAScript program.</p>

<div class="note">
  <p><span class="nh">NOTE</span> Standard built-in objects are defined in this
  specification, and an ECMAScript implementation may specify and define
  others. Every built-in object is a native object. A <dfn>built-in
  constructor</dfn> is a built-in object that is also a constructor.</p>
</div>
</section>

<section id="sec-4.3.8">
<h1><span class="secnum"><a href="#sec-4.3.8"
    title="link to this section">4.3.8</a></span>
    host object</h1>

<p class="definition">object supplied by the host environment to complete the
execution environment of ECMAScript.</p>

<div class="note">
  <p><span class="nh">NOTE</span> Any object that is not native is a host
  object.</p>
</div>
</section>

<section id="sec-4.3.9">
<h1><span class="secnum"><a href="#sec-4.3.9"
    title="link to this section">4.3.9</a></span>
    undefined value</h1>

<p class="definition">primitive value used when a variable has not been
assigned a value.</p>
</section>

<section id="sec-4.3.10">
<h1><span class="secnum"><a href="#sec-4.3.10"
    title="link to this section">4.3.10</a></span>
    Undefined type</h1>

<p class="definition">type whose sole value is the undefined value.</p>
</section>

<section id="sec-4.3.11">
<h1><span class="secnum"><a href="#sec-4.3.11"
    title="link to this section">4.3.11</a></span>
    null value</h1>

<p class="definition">primitive value that represents the intentional absence
of any object value.</p>
</section>

<section id="sec-4.3.12">
<h1><span class="secnum"><a href="#sec-4.3.12"
    title="link to this section">4.3.12</a></span>
    Null type</h1>

<p class="definition">type whose sole value is the null value.</p>
</section>

<section id="sec-4.3.13">
<h1><span class="secnum"><a href="#sec-4.3.13"
    title="link to this section">4.3.13</a></span>
    Boolean value</h1>

<p class="definition">member of the Boolean type.</p>

<div class="note">
  <p><span class="nh">NOTE</span> There are only two Boolean values,
  <span class="value">true</span> and <span class="value">false</span>.</p>
</div>
</section>

<section id="sec-4.3.14">
<span class="pagemark" id="page16">PDF page 16 / printed page 6</span>
<h1><span class="secnum"><a href="#sec-4.3.14"
    title="link to this section">4.3.14</a></span>
    Boolean type</h1>

<p class="definition">type consisting of the primitive values
<span class="value">true</span> and <span class="value">false</span>.</p>
</section>

<section id="sec-4.3.15">
<h1><span class="secnum"><a href="#sec-4.3.15"
    title="link to this section">4.3.15</a></span>
    Boolean object</h1>

<p class="definition">member of the Object type that is an instance of the
standard built-in <a href="#sec-15.6"><span class="libname">Boolean</span></a>
constructor.</p>

<div class="note">
  <p><span class="nh">NOTE</span> A Boolean object is created by using the
  <a href="#sec-15.6"><span class="libname">Boolean</span></a> constructor in a
  <code class="t">new</code> expression, supplying a Boolean value as an
  argument. The resulting object has an internal property whose value is the
  Boolean value. A Boolean object can be coerced to a Boolean value.</p>
</div>
</section>

<section id="sec-4.3.16">
<h1><span class="secnum"><a href="#sec-4.3.16"
    title="link to this section">4.3.16</a></span>
    String value</h1>

<p class="definition">primitive value that is a finite ordered sequence of zero
or more 16-bit unsigned integer.</p>

<div class="note">
  <p><span class="nh">NOTE</span> A String value is a member of the String
  type. Each integer value in the sequence usually represents a single 16-bit
  unit of UTF-16 text. However, ECMAScript does not place any restrictions or
  requirements on the values except that they must be 16-bit unsigned
  integers.</p>
</div>
</section>

<section id="sec-4.3.17">
<h1><span class="secnum"><a href="#sec-4.3.17"
    title="link to this section">4.3.17</a></span>
    String type</h1>

<p class="definition">set of all possible String values.</p>
</section>

<section id="sec-4.3.18">
<h1><span class="secnum"><a href="#sec-4.3.18"
    title="link to this section">4.3.18</a></span>
    String object</h1>

<p class="definition">member of the Object type that is an instance of the
standard built-in <a href="#sec-15.5"><span class="libname">String</span></a>
constructor.</p>

<div class="note">
  <p><span class="nh">NOTE</span> A String object is created by using the
  <a href="#sec-15.5"><span class="libname">String</span></a> constructor in a
  <code class="t">new</code> expression, supplying a String value as an
  argument. The resulting object has an internal property whose value is the
  String value. A String object can be coerced to a String value by calling the
  <span class="libname">String</span> constructor as a function
  (<a href="#sec-15.5.1">15.5.1</a>).</p>
</div>
</section>

<section id="sec-4.3.19">
<h1><span class="secnum"><a href="#sec-4.3.19"
    title="link to this section">4.3.19</a></span>
    Number value</h1>

<p class="definition">primitive value corresponding to a double-precision
64-bit binary format IEEE 754 value.</p>

<div class="note">
  <p><span class="nh">NOTE</span> A Number value is a member of the Number type
  and is a direct representation of a number.</p>
</div>
</section>

<section id="sec-4.3.20">
<h1><span class="secnum"><a href="#sec-4.3.20"
    title="link to this section">4.3.20</a></span>
    Number type</h1>

<p class="definition">set of all possible Number values including the special
&ldquo;Not-a-Number&rdquo; (NaN) values, positive infinity, and negative
infinity.</p>
</section>

<section id="sec-4.3.21">
<h1><span class="secnum"><a href="#sec-4.3.21"
    title="link to this section">4.3.21</a></span>
    Number object</h1>

<p class="definition">member of the Object type that is an instance of the
standard built-in <a href="#sec-15.7"><span class="libname">Number</span></a>
constructor.</p>

<div class="note">
  <p><span class="nh">NOTE</span> A Number object is created by using the
  <a href="#sec-15.7"><span class="libname">Number</span></a> constructor in a
  <code class="t">new</code> expression, supplying a Number value as an
  argument. The resulting object has an internal property whose value is the
  Number value. A Number object can be coerced to a Number value by calling the
  <span class="libname">Number</span> constructor as a function
  (<a href="#sec-15.7.1">15.7.1</a>).</p>
</div>
</section>

<section id="sec-4.3.22">
<h1><span class="secnum"><a href="#sec-4.3.22"
    title="link to this section">4.3.22</a></span>
    Infinity</h1>

<p class="definition">Number value that is the positive infinite Number
value.</p>
</section>

<section id="sec-4.3.23">
<h1><span class="secnum"><a href="#sec-4.3.23"
    title="link to this section">4.3.23</a></span>
    NaN</h1>

<p class="definition">Number value that is a IEEE 754
&ldquo;Not-a-Number&rdquo; value.</p>
</section>

<section id="sec-4.3.24">
<span class="pagemark" id="page17">PDF page 17 / printed page 7</span>
<h1><span class="secnum"><a href="#sec-4.3.24"
    title="link to this section">4.3.24</a></span>
    function</h1>

<p class="definition">member of the Object type that is an instance of the
standard built-in <a href="#sec-15.3"><span class="libname">Function</span></a>
constructor and that may be invoked as a subroutine.</p>

<div class="note">
  <p><span class="nh">NOTE</span> In addition to its named properties, a
  function contains executable code and state that determine how it behaves
  when invoked. A function&rsquo;s code may or may not be written in
  ECMAScript.</p>
</div>
</section>

<section id="sec-4.3.25">
<h1><span class="secnum"><a href="#sec-4.3.25"
    title="link to this section">4.3.25</a></span>
    built-in function</h1>

<p class="definition">built-in object that is a function.</p>

<div class="note">
  <p><span class="nh">NOTE</span> Examples of built-in functions include
  <a href="#sec-15.1.2.2"><span class="libname">parseInt</span></a> and
  <a href="#sec-15.8.2.8"><span class="libname">Math.exp</span></a>. An
  implementation may provide implementation-dependent built-in functions that
  are not described in this specification.</p>
</div>
</section>

<section id="sec-4.3.26">
<h1><span class="secnum"><a href="#sec-4.3.26"
    title="link to this section">4.3.26</a></span>
    property</h1>

<p class="definition">association between a name and a value that is a part of
an object.</p>

<div class="note">
  <p><span class="nh">NOTE</span> Depending upon the form of the property the
  value may be represented either directly as a data value (a primitive value,
  an object, or a function object) or indirectly by a pair of accessor
  functions.</p>
</div>
</section>

<section id="sec-4.3.27">
<h1><span class="secnum"><a href="#sec-4.3.27"
    title="link to this section">4.3.27</a></span>
    method</h1>

<p class="definition">function that is the value of a property.</p>

<div class="note">
  <p><span class="nh">NOTE</span> When a function is called as a method of an
  object, the object is passed to the function as its
  <span class="this">this</span> value.</p>
</div>
</section>

<section id="sec-4.3.28">
<h1><span class="secnum"><a href="#sec-4.3.28"
    title="link to this section">4.3.28</a></span>
    built-in method</h1>

<p class="definition"><a href="#sec-4.3.27">method</a> that is a
<a href="#sec-4.3.25">built-in function</a>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> Standard built-in methods are defined in this
  specification, and an ECMAScript implementation may specify and provide other
  additional built-in methods.</p>
</div>
</section>

<section id="sec-4.3.29">
<h1><span class="secnum"><a href="#sec-4.3.29"
    title="link to this section">4.3.29</a></span>
    attribute</h1>

<p class="definition">internal value that defines some characteristic of a
property.</p>
</section>

<section id="sec-4.3.30">
<h1><span class="secnum"><a href="#sec-4.3.30"
    title="link to this section">4.3.30</a></span>
    own property</h1>

<p class="definition">property that is directly contained by its object.</p>
</section>

<section id="sec-4.3.31">
<h1><span class="secnum"><a href="#sec-4.3.31"
    title="link to this section">4.3.31</a></span>
    inherited property</h1>

<p class="definition">property of an object that is not an own property but is
a property (either own or inherited) of the object&rsquo;s prototype.</p>
</section>
</section>
</section>



<section id="sec-5">
<h1><span class="secnum"><a href="#sec-5"
    title="link to this section">5</a></span>
    Notational Conventions</h1>

<section id="sec-5.1">
<h1><span class="secnum"><a href="#sec-5.1"
    title="link to this section">5.1</a></span>
    Syntactic and Lexical Grammars</h1>

<section id="sec-5.1.1">
<h1><span class="secnum"><a href="#sec-5.1.1"
    title="link to this section">5.1.1</a></span>
    Context-Free Grammars</h1>

<p>A <dfn>context-free grammar</dfn> consists of a number
of <dfn>productions</dfn>. Each production has an abstract symbol called
a <dfn>nonterminal</dfn> as its <dfn>left-hand side</dfn>, and a sequence of
zero or more nonterminal and <dfn>terminal</dfn> symbols as its <dfn>right-hand
side</dfn>. For each grammar, the terminal symbols are drawn from a specified
alphabet.</p>

<p><span class="pagemark" id="page18">PDF page 18 / printed page 8</span>
Starting from a sentence consisting of a single distinguished nonterminal,
called the <dfn>goal symbol</dfn>, a given context-free grammar specifies
a <dfn>language</dfn>, namely, the (perhaps infinite) set of possible sequences
of terminal symbols that can result from repeatedly replacing any nonterminal
in the sequence with a right-hand side of a production for which the
nonterminal is the left-hand side.</p>
</section>

<section id="sec-5.1.2">
<h1><span class="secnum"><a href="#sec-5.1.2"
    title="link to this section">5.1.2</a></span>
    The Lexical and RegExp Grammars</h1>

<p>A <dfn>lexical grammar</dfn> for ECMAScript is given in
<a href="#sec-7">clause 7</a>. This grammar has as its terminal symbols
characters (Unicode code units) that conform to the rules for
<span class="nt">SourceCharacter</span> defined in <a href="#sec-6">Clause
6</a>. It defines a set of productions, starting from the goal symbol
<span class="nt">InputElementDiv</span> or
<span class="nt">InputElementRegExp</span>, that describe how sequences of such
characters are translated into a sequence of input elements.</p>

<p>Input elements other than white space and comments form the terminal symbols
for the syntactic grammar for ECMAScript and are called ECMAScript
<dfn>tokens</dfn>. These tokens are the reserved words, identifiers, literals,
and punctuators of the ECMAScript language. Moreover, line terminators,
although not considered to be tokens, also become part of the stream of input
elements and guide the process of <a href="#sec-7.9">automatic semicolon
insertion (7.9)</a>. Simple white space and single-line comments are discarded
and do not appear in the stream of input elements for the syntactic grammar. A
<span class="nt">MultiLineComment</span> (that is, a comment of the form
&ldquo;<code>/*...*/</code>&rdquo; regardless of whether it spans more than one
line) is likewise simply discarded if it contains no line terminator; but if a
<span class="nt">MultiLineComment</span> contains one or more line terminators,
then it is replaced by a single line terminator, which becomes part of the
stream of input elements for the syntactic grammar.</p>

<p>A <dfn>RegExp grammar</dfn> for ECMAScript is given in
<a href="#sec-15.10">15.10</a>. This grammar also has as its terminal symbols
the characters as defined by <span>SourceCharacter</span>. It defines a set of
productions, starting from the goal symbol <span>Pattern</span>, that describe
how sequences of characters are translated into regular expression
patterns.</p>

<p>Productions of the lexical and RegExp grammars are distinguished by having
two colons &ldquo;<span class="example geq">::</span>&rdquo; as separating
punctuation. The lexical and RegExp grammars share some productions.</p>
</section>

<section id="sec-5.1.3">
<h1><span class="secnum"><a href="#sec-5.1.3"
    title="link to this section">5.1.3</a></span>
    The Numeric String Grammar</h1>

<p>Another grammar is used for translating Strings into numeric values. This
grammar is similar to the part of the lexical grammar having to do with numeric
literals and has as its terminal symbols
<span class="nt">SourceCharacter</span>. This grammar appears in
<a href="#sec-9.3.1">9.3.1</a>.</p>

<p>Productions of the numeric string grammar are distinguished by having three
colons &ldquo;<span class="example geq">:::</span>&rdquo; as punctuation.</p>
</section>

<section id="sec-5.1.4">
<h1><span class="secnum"><a href="#sec-5.1.4"
    title="link to this section">5.1.4</a></span>
    The Syntactic Grammar</h1>

<p>The <dfn>syntactic grammar</dfn> for ECMAScript is given in clauses
<a href="#sec-11">11</a>, <a href="#sec-12">12</a>, <a href="#sec-13">13</a>
and <a href="#sec-14">14</a>. This grammar has ECMAScript tokens defined by the
lexical grammar as its terminal symbols (<a href="#sec-5.1.2">5.1.2</a>). It
defines a set of productions, starting from the goal symbol
<span class="nt">Program</span>, that describe how sequences of tokens can form
syntactically correct ECMAScript programs.</p>

<p>When a stream of characters is to be parsed as an ECMAScript program, it is
first converted to a stream of input elements by repeated application of the
lexical grammar; this stream of input elements is then parsed by a single
application of the syntactic grammar. The program is syntactically in error if
the tokens in the stream of input elements cannot be parsed as a single
instance of the goal nonterminal <span class="nt">Program</span>, with no
tokens left over.</p>

<p>Productions of the syntactic grammar are distinguished by having just one
colon &ldquo;<span class="example geq">:</span>&rdquo; as punctuation.</p>

<p>The syntactic grammar as presented in clauses <a href="#sec-11">11</a>,
<a href="#sec-12">12</a>, <a href="#sec-13">13</a> and <a href="#sec-14">14</a>
is actually not a complete account of which token sequences are accepted as
correct ECMAScript programs. Certain additional token sequences are also
accepted, namely, those that would be described by the grammar if only
semicolons were added to the sequence in certain places (such as before line
terminator characters). Furthermore, certain token sequences that are described
by the grammar are not considered acceptable if a terminator character appears
in certain &ldquo;awkward&rdquo; places.</p>
</section>

<section id="sec-5.1.5">
<span class="pagemark" id="page19">PDF page 19 / printed page 9</span>
<h1><span class="secnum"><a href="#sec-5.1.5"
    title="link to this section">5.1.5</a></span>
    The JSON Grammar</h1>

<p>The JSON grammar is used to translate a String describing a set of
ECMAScript objects into actual objects. The JSON grammar is given in
<a href="#sec-15.12.1">15.12.1</a>.</p>

<p>The JSON grammar consists of the JSON lexical grammar and the JSON syntactic
grammar. The JSON lexical grammar is used to translate character sequences into
tokens and is similar to parts of the ECMAScript lexical grammar. The JSON
syntactic grammar describes how sequences of tokens from the JSON lexical
grammar can form syntactically correct JSON object descriptions.</p>

<p>Productions of the JSON lexical grammar are distinguished by having two
colons &ldquo;<span class="example geq">::</span>&rdquo; as separating
punctuation. The JSON lexical grammar uses some productions from the ECMAScript
lexical grammar. The JSON syntactic grammar is similar to parts of the
ECMAScript syntactic grammar. Productions of the JSON syntactic grammar are
distinguished by using one colon &ldquo;<span class="example
geq">:</span>&rdquo; as separating punctuation.</p>
</section>

<section id="sec-5.1.6">
<h1><span class="secnum"><a href="#sec-5.1.6"
    title="link to this section">5.1.6</a></span>
    Grammar Notation</h1>

<p>Terminal symbols of the lexical and string grammars, and some of the
terminal symbols of the syntactic grammar, are shown in <code class="bogus
t">fixed width</code> font, both in the productions of the grammars and
throughout this specification whenever the text directly refers to such a
terminal symbol. These are to appear in a program exactly as written. All
terminal symbol characters specified in this way are to be understood as the
appropriate Unicode character from the ASCII range, as opposed to any
similar-looking characters from other Unicode ranges.</p>

<p>Nonterminal symbols are shown in <span class="bogus nt">italic</span> type.
The definition of a nonterminal is introduced by the name of the nonterminal
being defined followed by one or more colons. (The number of colons indicates
to which grammar the production belongs.) One or more alternative right-hand
sides for the nonterminal then follow on succeeding lines. For example, the
syntactic definition:</p>

<div class="example gp">
  <div class="lhs">
    <span class="nt">WhileStatement</span> <span class="geq">:</span>
  </div>
  <div class="rhs">
    <code class="t">while</code>
    <code class="t">(</code>
    <span class="nt">Expression</span>
    <code class="t">)</code>
    <span class="nt">Statement</span>
  </div>
</div>

<p>states that the nonterminal <span class="nt">WhileStatement</span>
represents the token <code class="t">while</code>, followed by a left
parenthesis token, followed by an <span class="nt">Expression</span>, followed
by a right parenthesis token, followed by a <span class="nt">Statement</span>.
The occurrences of <span class="nt">Expression</span> and
<span class="nt">Statement</span> are themselves nonterminals. As another
example, the syntactic definition:</p>

<div class="example gp">
  <div class="lhs">
    <span class="nt">ArgumentList</span> <span class="geq">:</span>
  </div>
  <div class="rhs">
    <span class="nt">AssignmentExpression</span>
  </div>
  <div class="rhs">
    <span class="nt">ArgumentList</span>
    <code class="t">,</code>
    <span class="nt">AssignmentExpression</span>
  </div>
</div>

<p>states that an <span class="nt">ArgumentList</span> may represent either a
single <span class="nt">AssignmentExpression</span> or an
<span class="nt">ArgumentList</span>, followed by a comma, followed by an
<span class="nt">AssignmentExpression</span>. This definition of
<span class="nt">ArgumentList</span> is recursive, that is, it is defined in
terms of itself. The result is that an <span class="nt">ArgumentList</span> may
contain any positive number of arguments, separated by commas, where each
argument expression is an <span class="nt">AssignmentExpression</span>. Such
recursive definitions of nonterminals are common.</p>

<p>The subscripted suffix &ldquo;<sub class="gopt">opt</sub>&rdquo;, which may
appear after a terminal or nonterminal, indicates an optional symbol. The
alternative containing the optional symbol actually specifies two right-hand
sides, one that omits the optional element and one that includes it. This means
that:</p>

<div class="example gp">
  <div class="lhs">
    <span class="nt">VariableDeclaration</span> <span class="geq">:</span>
  </div>
  <div class="rhs">
    <span class="nt">Identifier</span>
    <span class="nt">Initialiser</span><sub>opt</sub>
  </div>
</div>

<p>is a convenient abbreviation for:</p>

<div class="example gp">
  <div class="lhs">
    <span class="nt">VariableDeclaration</span> <span class="geq">:</span>
  </div>
  <div class="rhs">
    <span class="nt">Identifier</span>
  </div>
  <div class="rhs">
    <span class="nt">Identifier</span> <span class="nt">Initialiser</span>
  </div>
</div>

<p><span class="pagemark" id="page20">PDF page 20 / printed page 10</span> and
that:</p>

<div class="example gp">
  <div class="lhs">
    <span class="nt">IterationStatement</span> <span class="geq">:</span>
  </div>
  <div class="rhs">
    <code class="t">for</code> <code class="t">(</code>
    <span class="nt">ExpressionNoIn</span><sub>opt</sub>
    <code class="t">;</code>
    <span class="nt">Expression</span><sub>opt</sub> <code class="t">;</code>
    <span class="nt">Expression</span><sub>opt</sub> <code class="t">)</code>
    <span class="nt">Statement</span>
  </div>
</div>

<p>is a convenient abbreviation for:</p>

<div class="example gp">
  <div class="lhs">
    <span class="nt">IterationStatement</span> <span class="geq">:</span>
  </div>
  <div class="rhs">
    <code class="t">for</code> <code class="t">(</code>
    <code class="t">;</code>
    <span class="nt">Expression</span><sub>opt</sub> <code class="t">;</code>
    <span class="nt">Expression</span><sub>opt</sub> <code class="t">)</code>
    <span class="nt">Statement</span>
  </div>
  <div class="rhs">
    <code class="t">for</code> <code class="t">(</code>
    <span class="nt">ExpressionNoIn</span> <code class="t">;</code>
    <span class="nt">Expression</span><sub>opt</sub> <code class="t">;</code>
    <span class="nt">Expression</span><sub>opt</sub> <code class="t">)</code>
    <span class="nt">Statement</span>
  </div>
</div>

<p>which in turn is an abbreviation for:</p>

<div class="example gp">
  <div class="lhs">
    <span class="nt">IterationStatement</span> <span class="geq">:</span>
  </div>
  <div class="rhs">
    <code class="t">for</code> <code class="t">(</code>
    <code class="t">;</code> <code class="t">;</code>
    <span class="nt">Expression</span><sub>opt</sub> <code class="t">)</code>
    <span class="nt">Statement</span>
  </div>
  <div class="rhs">
    <code class="t">for</code> <code class="t">(</code>
    <code class="t">;</code>
    <span class="nt">Expression</span> <code class="t">;</code>
    <span class="nt">Expression</span><sub>opt</sub> <code class="t">)</code>
    <span class="nt">Statement</span>
  </div>
  <div class="rhs">
    <code class="t">for</code> <code class="t">(</code>
    <span class="nt">ExpressionNoIn</span> <code class="t">;</code>
    <code class="t">;</code>
    <span class="nt">Expression</span><sub>opt</sub> <code class="t">)</code>
    <span class="nt">Statement</span>
  </div>
  <div class="rhs">
    <code class="t">for</code> <code class="t">(</code>
    <span class="nt">ExpressionNoIn</span> <code class="t">;</code>
    <span class="nt">Expression</span> <code class="t">;</code>
    <span class="nt">Expression</span><sub>opt</sub> <code class="t">)</code>
    <span class="nt">Statement</span>
  </div>
</div>

<p>which in turn is an abbreviation for:</p>

<div class="example gp">
  <div class="lhs">
    <span class="nt">IterationStatement</span> <span class="geq">:</span>
  </div>
  <div class="rhs">
    <code class="t">for</code> <code class="t">(</code>
    <code class="t">;</code>
    <code class="t">;</code>
    <code class="t">)</code>
    <span class="nt">Statement</span>
  </div>
  <div class="rhs">
    <code class="t">for</code> <code class="t">(</code>
    <code class="t">;</code>
    <code class="t">;</code>
    <span class="nt">Expression</span> <code class="t">)</code>
    <span class="nt">Statement</span>
  </div>
  <div class="rhs">
    <code class="t">for</code> <code class="t">(</code>
    <code class="t">;</code>
    <span class="nt">Expression</span> <code class="t">;</code>
    <code class="t">)</code>
    <span class="nt">Statement</span>
  </div>
  <div class="rhs">
    <code class="t">for</code> <code class="t">(</code>
    <code class="t">;</code>
    <span class="nt">Expression</span> <code class="t">;</code>
    <span class="nt">Expression</span> <code class="t">)</code>
    <span class="nt">Statement</span>
  </div>
  <div class="rhs">
    <code class="t">for</code> <code class="t">(</code>
    <span class="nt">ExpressionNoIn</span> <code class="t">;</code>
    <code class="t">;</code>
    <code class="t">)</code>
    <span class="nt">Statement</span>
  </div>
  <div class="rhs">
    <code class="t">for</code> <code class="t">(</code>
    <span class="nt">ExpressionNoIn</span> <code class="t">;</code>
    <code class="t">;</code>
    <span class="nt">Expression</span> <code class="t">)</code>
    <span class="nt">Statement</span>
  </div>
  <div class="rhs">
    <code class="t">for</code> <code class="t">(</code>
    <span class="nt">ExpressionNoIn</span> <code class="t">;</code>
    <span class="nt">Expression</span> <code class="t">;</code>
    <code class="t">)</code>
    <span class="nt">Statement</span>
  </div>
  <div class="rhs">
    <code class="t">for</code> <code class="t">(</code>
    <span class="nt">ExpressionNoIn</span> <code class="t">;</code>
    <span class="nt">Expression</span> <code class="t">;</code>
    <span class="nt">Expression</span> <code class="t">)</code>
    <span class="nt">Statement</span>
  </div>
</div>

<p>so the nonterminal <span class="nt">IterationStatement</span> actually has
eight alternative right-hand sides.</p>

<p>If the phrase &ldquo;<span class="grhsannot">[empty]</span>&rdquo; appears
as the right-hand side of a production, it indicates that the
production&rsquo;s right-hand side contains no terminals or nonterminals.</p>

<p id="def-lookahead-notin">If the phrase
&ldquo;<span class="grhsannot">[lookahead &notin; <var>set</var>]</span>&rdquo;
appears in the right-hand side of a production, it indicates that the
production may not be used if the immediately following input token is a member
of the given <var>set</var>. The <var>set</var> can be written as a list of
terminals enclosed in curly braces. For convenience, the set can also be
written as a nonterminal, in which case it represents the set of all terminals
to which that nonterminal could expand. For example, given the definitions</p>

<div class="example gp">
  <div class="lhs">
    <span class="nt">DecimalDigit</span> <span class="geq">::</span>
    <span class="grhsmod">one of</span>
  </div>
  <div class="rhs">
    <code class="t">0</code>
    <code class="t">1</code>
    <code class="t">2</code>
    <code class="t">3</code>
    <code class="t">4</code>
    <code class="t">5</code>
    <code class="t">6</code>
    <code class="t">7</code>
    <code class="t">8</code>
    <code class="t">9</code>
  </div>
</div>

<div class="example gp">
  <div class="lhs">
    <span class="nt">DecimalDigits</span> <span class="geq">::</span>
  </div>
  <div class="rhs">
    <span class="nt">DecimalDigit</span>
  </div>
  <div class="rhs">
    <span class="nt">DecimalDigits</span> <span class="nt">DecimalDigit</span>
  </div>
</div>

<p>the definition</p>

<div class="example gp">
  <div class="lhs">
    <span class="nt">LookaheadExample</span> <span class="geq">::</span>
  </div>
  <div class="rhs">
    <code class="t">n</code>
    <span class="grhsannot">[lookahead &notin; {<code class="t">1</code>,
      <code class="t">3</code>, <code class="t">5</code>,
      <code class="t">7</code>, <code class="t">9</code>}]</span>
    <span class="nt">DecimalDigits</span>
  </div>
  <div class="rhs">
    <span class="nt">DecimalDigit</span>
    <span class="grhsannot">[lookahead &notin;
        <span class="nt">DecimalDigit</span>]</span>
  </div>
</div>

<p>matches either the letter <code class="t">n</code> followed by one or more
decimal digits the first of which is even, or a decimal digit not followed by
another decimal digit.</p>

<p id="def-restricted-production"><span class="pagemark" id="page21">PDF page
21 / printed page 11</span> If the phrase &ldquo;<span class="grhsannot">[no
<span class="nt">LineTerminator</span> here]</span>&rdquo; appears in the
right-hand side of a production of the syntactic grammar, it indicates that the
production is a <dfn>restricted production</dfn>: it may not be used if a
<span class="nt">LineTerminator</span> occurs in the input stream at the
indicated position. For example, the production:</p>

<div class="example gp">
  <div class="lhs">
    <span class="nt">ReturnStatement</span> <span class="geq">:</span>
  </div>
  <div class="rhs">
    <code class="t">return</code> <span class="grhsannot">[no
    <span class="nt">LineTerminator</span> here]</span>
    <span class="nt">Expression</span><sub>opt</sub> <code class="t">;</code>
  </div>
</div>

<p>indicates that the production may not be used if a
<span class="nt">LineTerminator</span> occurs in the program between the
<code class="t">return</code> token and the
<span class="nt">Expression</span>.</p>

<p>Unless the presence of a <span class="nt">LineTerminator</span> is forbidden
by a restricted production, any number of occurrences of
<span class="nt">LineTerminator</span> may appear between any two consecutive
tokens in the stream of input elements without affecting the syntactic
acceptability of the program.</p>

<p>When the words &ldquo;<span class="grhsmod">one of</span>&rdquo; follow the
colon(s) in a grammar definition, they signify that each of the terminal
symbols on the following line or lines is an alternative definition. For
example, the lexical grammar for ECMAScript contains the production:</p>

<div class="gp example">
  <div class="lhs">
    <span class="nt">NonZeroDigit</span> <span class="geq">::</span>
    <span class="grhsmod">one of</span>
  </div>
  <div class="rhs">
    <code class="t">1  2  3  4  5  6  7  8  9</code>
  </div>
</div>

<p>which is merely a convenient abbreviation for:</p>

<div class="gp example">
  <div class="lhs">
    <span class="nt">NonZeroDigit</span> <span class="geq">::</span>
  </div>
  <div class="rhs">
    <code class="t">1</code>
  </div>
  <div class="rhs">
    <code class="t">2</code>
  </div>
  <div class="rhs">
    <code class="t">3</code>
  </div>
  <div class="rhs">
    <code class="t">4</code>
  </div>
  <div class="rhs">
    <code class="t">5</code>
  </div>
  <div class="rhs">
    <code class="t">6</code>
  </div>
  <div class="rhs">
    <code class="t">7</code>
  </div>
  <div class="rhs">
    <code class="t">8</code>
  </div>
  <div class="rhs">
    <code class="t">9</code>
  </div>
</div>

<p>When an alternative in a production of the lexical grammar or the numeric
string grammar appears to be a multi-character token, it represents the
sequence of characters that would make up such a token.</p>

<p>The right-hand side of a production may specify that certain expansions are
not permitted by using the phrase &ldquo;<span class="grhsmod">but
not</span>&rdquo; and then indicating the expansions to be excluded. For
example, the production:</p>

<div class="example gp">
  <div class="lhs">
    <span class="nt">Identifier</span> <span class="geq">::</span>
  </div>
  <div class="rhs">
    <span class="nt">IdentifierName</span>
    <span class="grhsmod">but not</span> <span class="nt">ReservedWord</span>
  </div>
</div>

<p>means that the nonterminal <span class="nt">Identifier</span> may be
replaced by any sequence of characters that could replace
<span class="nt">IdentifierName</span> provided that the same sequence of
characters could not replace <span class="nt">ReservedWord</span>.</p>

<p>Finally, a few nonterminal symbols are described by a descriptive phrase in
sans-serif type in cases where it would be impractical to list all the
alternatives:</p>

<div class="example gp">
  <div class="lhs">
    <span class="nt">SourceCharacter</span> <span class="geq">::</span>
  </div>
  <div class="rhs">
    <span class="gprose">any Unicode code unit</span>
  </div>
</div>

</section>
</section>


<section id="sec-5.2">
<h1><span class="secnum"><a href="#sec-5.2"
    title="link to this section">5.2</a></span>
    Algorithm Conventions</h1>

<p>The specification often uses a numbered list to specify steps in an
algorithm. These algorithms are used to precisely specify the required
semantics of ECMAScript language constructs. The algorithms are not intended to
imply the use of any specific implementation technique. In practice, there may
be more efficient algorithms available to implement a given feature.</p>

<p><span class="pagemark" id="page22">PDF page 22 / printed page 12</span> In
order to facilitate their use in multiple parts of this specification, some
algorithms, called <dfn>abstract operations</dfn>, are named and written in
parameterized functional form so that they may be referenced by name from
within other algorithms.</p>

<p>When an algorithm is to produce a value as a result, the directive
&ldquo;return <var>x</var>&rdquo; is used to indicate that the result of the
algorithm is the value of <var>x</var> and that the algorithm should terminate.
<span id="def-Result">The notation Result(<var>n</var>) is used as shorthand
for &ldquo;the result of step <var>n</var>&rdquo;.</span></p>

<p>For clarity of expression, algorithm steps may be subdivided into sequential
substeps. Substeps are indented and may themselves be further divided into
indented substeps. Outline numbering conventions are used to identify substeps
with the first level of substeps labelled with lower case alphabetic characters
and the second level of substeps labelled with lower case roman numerals. If
more than three levels are required these rules repeat with the fourth level
using numeric labels. For example:</p>

<ol class="proc">
  <li>Top-level step
    <ol class="block">
      <li>Substep.</li>
      <li>Substep
        <ol class="block">
          <li>Subsubstep.</li>
          <li>Subsubstep.
            <ol class="block">
              <li>Subsubsubstep
                <ol class="block">
                  <li>Subsubsubsubstep</li>
                </ol>
              </li>
            </ol>
          </li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<p>A step or substep may be written as an &ldquo;if&rdquo; predicate that
conditions its substeps. In this case, the substeps are only applied if the
predicate is true. If a step or substep begins with the word
&ldquo;else&rdquo;, it is a predicate that is the negation of the preceding
&ldquo;if&rdquo; predicate step at the same level.</p>

<p>A step may specify the iterative application of its substeps.</p>

<p>Mathematical operations such as addition, subtraction, negation,
multiplication, division, and the mathematical functions defined later in this
clause should always be understood as computing exact mathematical results on
mathematical real numbers, which do not include infinities and do not include a
negative zero that is distinguished from positive zero. Algorithms in this
standard that model floating-point arithmetic include explicit steps, where
necessary, to handle infinities and signed zero and to perform rounding. If a
mathematical operation or function is applied to a floating-point number, it
should be understood as being applied to the exact mathematical value
represented by that floating-point number; such a floating-point number must be
finite, and if it is <span class="value">+0</span> or
<span class="value">&minus;0</span> then the corresponding mathematical value
is simply <span class="math value">0</span>.</p>

<p id="def-abs">The mathematical function abs(<var>x</var>) yields the absolute
value of <var>x</var>, which is &minus;<var>x</var> if <var>x</var> is negative
(less than zero) and otherwise is <var>x</var> itself.</p>

<p id="def-sign">The mathematical function sign(<var>x</var>) yields
<span class="value">1</span> if <var>x</var> is positive and
<span class="value">&minus;1</span> if <var>x</var> is negative. The sign
function is not used in this standard for cases when <var>x</var> is zero.</p>

<p id="def-modulo">The notation &ldquo;<var>x</var> modulo <var>y</var>&rdquo;
(<var>y</var> must be finite and nonzero) computes a value <var>k</var> of the
same sign as <var>y</var> (or zero) such that
<span class="math">abs(<var>k</var>) &lt; abs(<var>y</var>)</span> and
<span class="math"><var>x</var> &minus; <var>k</var> = <var>q</var> &times;
<var>y</var></span> for some integer <var>q</var>.</p>

<p id="def-floor">The mathematical function floor(<var>x</var>) yields the
largest integer (closest to positive infinity) that is not larger than
<var>x</var>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> <span class="math">floor(<var>x</var>) =
  <var>x</var> &minus; (<var>x</var> modulo 1)</span>.</p>
</div>

<p>If an algorithm is defined to &ldquo;throw an exception&rdquo;, execution of
the algorithm is terminated and no result is returned. The calling algorithms
are also terminated, until an algorithm step is reached that explicitly deals
with the exception, using terminology such as &ldquo;If an exception was
thrown...&rdquo;. Once such an algorithm step has been encountered the
exception is no longer considered to have occurred.</p>
</section>
</section>



<section id="sec-6">
<h1><span class="secnum"><a href="#sec-6"
    title="link to this section">6</a></span>
    Source Text</h1>

<p>ECMAScript source text is represented as a sequence of characters in the
Unicode character encoding, version 3.0 or later. The text is expected to have
been normalised to Unicode Normalised Form C (canonical <span class="pagemark"
id="page23">PDF page 23 / printed page 13</span> composition), as described in
Unicode Technical Report #15. Conforming ECMAScript implementations are not
required to perform any normalisation of text, or behave as though they were
performing normalisation of text, themselves. ECMAScript source text is assumed
to be a sequence of 16-bit code units for the purposes of this specification.
Such a source text may include sequences of 16-bit code units that are not
valid UTF-16 character encodings. If an actual source text is encoded in a form
other than 16-bit code units it must be processed as if it was first converted
to UTF-16.</p>

<div class="gp" id="def-SourceCharacter">
  <div class="lhs">
    <span class="nt">SourceCharacter</span> <span class="geq">::</span>
  </div>
  <div class="rhs">
    <span class="gprose">any Unicode code unit</span>
  </div>
</div>

<p>Throughout the rest of this document, the phrase &ldquo;code unit&rdquo; and
the word &ldquo;character&rdquo; will be used to refer to a 16-bit unsigned
value used to represent a single 16-bit unit of text. The phrase &ldquo;Unicode
character&rdquo; will be used to refer to the abstract linguistic or
typographical unit represented by a single Unicode scalar value (which may be
longer than 16 bits and thus may be represented by more than one code unit).
The phrase &ldquo;code point&rdquo; refers to such a Unicode scalar value.
&ldquo;Unicode character&rdquo; only refers to entities represented by single
Unicode scalar values: the components of a combining character sequence are
still individual &ldquo;Unicode characters,&rdquo; even though a user might
think of the whole sequence as a single character.</p>

<p>In string literals, regular expression literals, and identifiers, any
character (code unit) may also be expressed as a Unicode escape sequence
consisting of six characters, namely <code class="ch">\u</code> plus four
hexadecimal digits. Within a comment, such an escape sequence is effectively
ignored as part of the comment. Within a string literal or regular expression
literal, the Unicode escape sequence contributes one character to the value of
the literal. Within an identifier, the escape sequence contributes one
character to the identifier.</p>

<div class="note">
  <p><span class="nh">NOTE</span> Although this document sometimes refers to a
  &ldquo;transformation&rdquo; between a &ldquo;character&rdquo; within a
  &ldquo;string&rdquo; and the 16-bit unsigned integer that is the code unit of
  that character, there is actually no transformation because a
  &ldquo;character&rdquo; within a &ldquo;string&rdquo; is actually represented
  using that 16-bit unsigned value.</p>

  <p>ECMAScript differs from the Java programming language in the behaviour of
  Unicode escape sequences. In a Java program, if the Unicode escape sequence
  <code class="ch">\u000A</code>, for example, occurs within a single-line
  comment, it is interpreted as a line terminator (Unicode character
  <code>000A</code> is line feed) and therefore the next character is not part
  of the comment. Similarly, if the Unicode escape sequence
  <code class="ch">\u000A</code> occurs within a string literal in a Java
  program, it is likewise interpreted as a line terminator, which is not
  allowed within a string literal&mdash;one must write
  <code class="ch">\n</code> instead of <code class="ch">\u000A</code> to cause
  a line feed to be part of the string value of a string literal. In an
  ECMAScript program, a Unicode escape sequence occurring within a comment is
  never interpreted and therefore cannot contribute to termination of the
  comment. Similarly, a Unicode escape sequence occurring within a string
  literal in an ECMAScript program always contributes a character to the String
  value of the literal and is never interpreted as a line terminator or as a
  quote mark that might terminate the string literal.</p>
</div>
</section>



<section id="sec-7">
<h1><span class="secnum"><a href="#sec-7"
    title="link to this section">7</a></span>
    Lexical Conventions</h1>

<p>The source text of an ECMAScript program is first converted into a sequence
of input elements, which are tokens, line terminators, comments, or white
space. The source text is scanned from left to right, repeatedly taking the
longest possible sequence of characters as the next input element.</p>

<p>There are two goal symbols for the lexical grammar. The
<span class="nt">InputElementDiv</span> symbol is used in those syntactic
grammar contexts where a leading division (<code class="t">/</code>) or
division-assignment (<code class="t">/=</code>) operator is permitted. The
<span class="nt">InputElementRegExp</span> symbol is used in other syntactic
grammar contexts.</p>

<div class="note">
  <p><span class="nh">NOTE</span> There are no syntactic grammar contexts where
  both a leading division or division-assignment, and a leading
  <span class="nt">RegularExpressionLiteral</span> are permitted. This is not
  affected by <a href="#sec-7.9">semicolon insertion (see 7.9)</a>; in examples
  such as the following:</p>

<pre>a = b
/hi/g.exec(c).map(d);</pre>

  <p>where the first non-whitespace, non-comment character after a
  <span class="nt">LineTerminator</span> is slash (<code class="t">/</code>)
  and the syntactic context allows division or division-assignment, no
  semicolon is inserted at the <span class="nt">LineTerminator</span>. That is,
  the above example is interpreted in the same way as:</p>

  <pre>a = b / hi / g.exec(c).map(d);</pre>
</div>

<div class="syntax">
  <span class="pagemark" id="page24">PDF page 24 / printed page 14</span>
  <h2>Syntax</h2>

  <div class="gp" id="def-InputElementDiv">
    <div class="lhs">
      <span class="nt">InputElementDiv</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">WhiteSpace</span>
    </div>
    <div class="rhs">
      <span class="nt">LineTerminator</span>
    </div>
    <div class="rhs">
      <span class="nt">Comment</span>
    </div>
    <div class="rhs">
      <span class="nt">Token</span>
    </div>
    <div class="rhs">
      <span class="nt">DivPunctuator</span>
    </div>
  </div>

  <div class="gp" id="def-InputElementRegExp">
    <div class="lhs">
      <span class="nt">InputElementRegExp</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">WhiteSpace</span>
    </div>
    <div class="rhs">
      <span class="nt">LineTerminator</span>
    </div>
    <div class="rhs">
      <span class="nt">Comment</span>
    </div>
    <div class="rhs">
      <span class="nt">Token</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionLiteral</span>
    </div>
  </div>
</div>

<section id="sec-7.1">
<h1><span class="secnum"><a href="#sec-7.1"
    title="link to this section">7.1</a></span>
    Unicode Format-Control Characters</h1>

<p>The Unicode format-control characters (i.e., the characters in category
&ldquo;Cf&rdquo; in the Unicode Character Database such as LEFT-TO-RIGHT MARK
or RIGHT-TO-LEFT MARK) are control codes used to control the formatting of a
range of text in the absence of higher-level protocols for this (such as
mark-up languages).</p>

<p>It is useful to allow format-control characters in source text to facilitate
editing and display. All format control characters may be used within comments,
and within string literals and regular expression literals.</p>

<p>&lt;ZWNJ&gt; and &lt;ZWJ&gt; are format-control characters that are used to
make necessary distinctions when forming words or phrases in certain languages.
In ECMAScript source text, &lt;ZWNJ&gt; and &lt;ZWJ&gt; may also be used in an
identifier after the first character.</p>

<p>&lt;BOM&gt; is a format-control character used primarily at the start of a
text to mark it as Unicode and to allow detection of the text&rsquo;s encoding
and byte order. &lt;BOM&gt; characters intended for this purpose can sometimes
also appear after the start of a text, for example as a result of concatenating
files. &lt;BOM&gt; characters are treated as white space characters
(<a href="#sec-7.2">see 7.2</a>).</p>

<p>The special treatment of certain format-control characters outside of
comments, string literals, and regular expression literals is summarized in
Table 1.</p>

<figure id="table1">
<figcaption>Table 1 &mdash; Format-Control Character Usage</figcaption>
<table class="real-table">
  <tr>
    <th>Code Unit Value</th>
    <th>Name</th>
    <th>Formal Name</th>
    <th>Usage</th>
  </tr>
  <tr>
    <td><code class="ch">\u200C</code></td>
    <td>Zero width non-joiner</td>
    <td>&lt;ZWNJ&gt;</td>
    <td><span class="nt">IdentifierPart</span></td>
  </tr>
  <tr>
    <td><code class="ch">\u200D</code></td>
    <td>Zero width joiner</td>
    <td>&lt;ZWJ&gt;</td>
    <td><span class="nt">IdentifierPart</span></td>
  </tr>
  <tr>
    <td><code class="ch">\uFEFF</code></td>
    <td>Byte Order Mark</td>
    <td>&lt;BOM&gt;</td>
    <td><span class="nt">Whitespace</span></td>
  </tr>
</table>
</figure>
</section>


<section id="sec-7.2">
<h1><span class="secnum"><a href="#sec-7.2"
    title="link to this section">7.2</a></span>
    White Space</h1>

<p>White space characters are used to improve source text readability and to
separate tokens (indivisible lexical units) from each other, but are otherwise
insignificant. White space characters may occur between any two tokens and at
the start or end of input. White space characters may also occur within a
<span class="nt">StringLiteral</span> or a
<span class="nt">RegularExpressionLiteral</span> (where they are considered
significant characters forming part of the literal value) or within a
<span class="nt">Comment</span>, but cannot appear within any other kind of
token.</p>

<p>The ECMAScript white space characters are listed in Table 2.</p>

<span class="pagemark" id="page25">PDF page 25 / printed page 15</span>
<figure id="table2">
<figcaption>Table 2 &mdash; Whitespace Characters</figcaption>
<table class="real-table">
  <tr>
    <th>Code Unit Value</th>
    <th>Name</th>
    <th>Formal Name</th>
  </tr>
  <tr>
    <td>\u0009</td>
    <td>Tab</td>
    <td>&lt;TAB&gt;</td>
  </tr>
  <tr>
    <td>\u000B</td>
    <td>Vertical Tab</td>
    <td>&lt;VT&gt;</td>
  </tr>
  <tr>
    <td>\u000C</td>
    <td>Form Feed</td>
    <td>&lt;FF&gt;</td>
  </tr>
  <tr>
    <td>\u0020</td>
    <td>Space</td>
    <td>&lt;SP&gt;</td>
  </tr>
  <tr>
    <td>\u00A0</td>
    <td>No-break space</td>
    <td>&lt;NBSP&gt;</td>
  </tr>
  <tr>
    <td>\uFEFF</td>
    <td>Byte Order Mark</td>
    <td>&lt;BOM&gt;</td>
  </tr>
  <tr>
    <td>Other category &ldquo;Zs&rdquo;</td>
    <td>Any other Unicode &ldquo;space separator&rdquo;</td>
    <td>&lt;USP&gt;</td>
  </tr>
</table>
</figure>

<p>ECMAScript implementations must recognize all of the white space characters
defined in Unicode 3.0. Later editions of the Unicode Standard may define other
white space characters. ECMAScript implementations may recognize white space
characters from later editions of the Unicode Standard.</p>

<div class="syntax">
  <h2>Syntax</h2>
  <div class="gp" id="def-WhiteSpace">
    <div class="lhs">
      <span class="nt">WhiteSpace</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      &lt;TAB&gt;
    </div>
    <div class="rhs">
      &lt;VT&gt;
    </div>
    <div class="rhs">
      &lt;FF&gt;
    </div>
    <div class="rhs">
      &lt;SP&gt;
    </div>
    <div class="rhs">
      &lt;NBSP&gt;
    </div>
    <div class="rhs">
      &lt;BOM&gt;
    </div>
    <div class="rhs">
      &lt;USP&gt;
    </div>
  </div>
</div>
</section>


<section id="sec-7.3">
<h1><span class="secnum"><a href="#sec-7.3"
    title="link to this section">7.3</a></span>
    Line Terminators</h1>

<p>Like white space characters, line terminator characters are used to improve
source text readability and to separate tokens (indivisible lexical units) from
each other. However, unlike white space characters, line terminators have some
influence over the behaviour of the syntactic grammar. In general, line
terminators may occur between any two tokens, but there are a few places where
they are forbidden by the syntactic grammar. Line terminators also affect the
process of <a href="#sec-7.9">automatic semicolon insertion (7.9)</a>. A line
terminator cannot occur within any token except a
<span class="nt">StringLiteral</span>. Line terminators may only occur within a
<span class="nt">StringLiteral</span> token as part of a
<span class="nt">LineContinuation</span>.</p>

<p>A line terminator can occur within a
<span class="nt">MultiLineComment</span> (<a href="#sec-7.4">7.4</a>) but
cannot occur within a <span class="nt">SingleLineComment</span>.</p>

<p>Line terminators are included in the set of white space characters that are
matched by the <a href="#sec-15.10.2.12"><code class="ch">\s</code> class</a>
in regular expressions.</p>

<p>The ECMAScript line terminator characters are listed in Table 3.</p>

<figure id="table3">
<figcaption>Table 3 &mdash; Line Terminator Characters</figcaption>
<table class="real-table">
  <tr>
    <th>Code Unit Value</th>
    <th>Name</th>
    <th>Formal Name</th>
  </tr>
  <tr>
    <td><code class="ch">\u000A</code></td>
    <td>Line Feed</td>
    <td>&lt;LF&gt;</td>
  </tr>
  <tr>
    <td><code class="ch">\u000D</code></td>
    <td>Carriage Return</td>
    <td>&lt;CR&gt;</td>
  </tr>
  <tr>
    <td><code class="ch">\u2028</code></td>
    <td>Line separator</td>
    <td>&lt;LS&gt;</td>
  </tr>
  <tr>
    <td><code class="ch">\u2029</code></td>
    <td>Paragraph separator</td>
    <td>&lt;PS&gt;</td>
  </tr>
</table>
</figure>

<p>Only the characters in Table 3 are treated as line terminators. Other new
line or line breaking characters are treated as white space but not as line
terminators. The character sequence &lt;CR&gt;&lt;LF&gt; is commonly used as a
line terminator. It should be considered a single character for the purpose of
reporting line numbers.</p>

<span class="pagemark" id="page26">PDF page 26 / printed page 16</span>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-LineTerminator">
    <div class="lhs">
      <span class="nt">LineTerminator</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      &lt;LF&gt;
    </div>
    <div class="rhs">
      &lt;CR&gt;
    </div>
    <div class="rhs">
      &lt;LS&gt;
    </div>
    <div class="rhs">
      &lt;PS&gt;
    </div>
  </div>

  <div class="gp" id="def-LineTerminatorSequence">
    <div class="lhs">
      <span class="nt">LineTerminatorSequence</span>
      <span class="geq">::</span>
    </div>
    <div class="rhs">
      &lt;LF&gt;
    </div>
    <div class="rhs">
      &lt;CR&gt;
      <span class="grhsannot">[<a href="#def-lookahead-notin">lookahead
        &notin;</a> &lt;LF&gt;]</span>
    </div>
    <div class="rhs">
      &lt;LS&gt;
    </div>
    <div class="rhs">
      &lt;PS&gt;
    </div>
    <div class="rhs">
      &lt;CR&gt; &lt;LF&gt;
    </div>
  </div>
</div>
</section>


<section id="sec-7.4">
<h1><span class="secnum"><a href="#sec-7.4"
    title="link to this section">7.4</a></span>
    Comments</h1>

<p>Comments can be either single or multi-line. Multi-line comments cannot
nest.</p>

<p>Because a single-line comment can contain any character except a
<span class="nt">LineTerminator</span> character, and because of the general
rule that a token is always as long as possible, a single-line comment always
consists of all characters from the <code class="t">//</code> marker to the end
of the line. However, the <span class="nt">LineTerminator</span> at the end of
the line is not considered to be part of the single-line comment; it is
recognised separately by the lexical grammar and becomes part of the stream of
input elements for the syntactic grammar. This point is very important, because
it implies that the presence or absence of single-line comments does not affect
the process of <a href="#sec-7.9">automatic semicolon insertion (see
7.9)</a>.</p>

<p>Comments behave like white space and are discarded except that, if a
<span class="nt">MultiLineComment</span> contains a line terminator character,
then the entire comment is considered to be a
<span class="nt">LineTerminator</span> for purposes of parsing by the syntactic
grammar.</p>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-Comment">
    <div class="lhs">
      <span class="nt">Comment</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">MultiLineComment</span>
    </div>
    <div class="rhs">
      <span class="nt">SingleLineComment</span>
    </div>
  </div>

  <div class="gp" id="def-MultiLineComment">
    <div class="lhs">
      <span class="nt">MultiLineComment</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">/*</code>
      <span class="nt">MultiLineCommentChars</span><sub>opt</sub>
      <code class="t">*/</code>
    </div>
  </div>

  <div class="gp" id="def-MultiLineCommentChars">
    <div class="lhs">
      <span class="nt">MultiLineCommentChars</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">MultiLineNotAsteriskChar</span>
      <span class="nt">MultiLineCommentChars</span><sub>opt</sub>
    </div>
    <div class="rhs">
      <code class="t">*</code>
      <span class="nt">PostAsteriskCommentChars</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-PostAsteriskCommentChars">
    <div class="lhs">
      <span class="nt">PostAsteriskCommentChars</span>
      <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">MultiLineNotForwardSlashOrAsteriskChar</span>
      <span class="nt">MultiLineCommentChars</span><sub>opt</sub>
    </div>
    <div class="rhs">
      <code class="t">*</code>
      <span class="nt">PostAsteriskCommentChars</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-MultiLineNotAsteriskChar">
    <div class="lhs">
      <span class="nt">MultiLineNotAsteriskChar</span>
      <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span>
      <span class="grhsmod">but not</span>
      <span class="chgloss">asterisk</span> <code class="t">*</code>
    </div>
  </div>

  <div class="gp" id="def-MultiLineNotForwardSlashOrAsteriskChar">
    <div class="lhs">
      <span class="nt">MultiLineNotForwardSlashOrAsteriskChar</span>
      <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span>
      <span class="grhsmod">but not</span>
      <span class="chgloss">forward-slash</span> <code class="t">/</code>
      <span class="grhsmod">or</span>
      <span class="chgloss">asterisk</span> <code class="t">*</code>
    </div>
  </div>

  <div class="gp" id="def-SingleLineComment">
    <div class="lhs">
      <span class="nt">SingleLineComment</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">//</code>
      <span class="nt">SingleLineCommentChars</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-SingleLineCommentChars">
    <div class="lhs">
      <span class="nt">SingleLineCommentChars</span>
      <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SingleLineCommentChar</span>
      <span class="nt">SingleLineCommentChars</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-SingleLineCommentChar">
    <span class="pagemark" id="page27">PDF page 27 / printed page 17</span>
    <div class="lhs">
      <span class="nt">SingleLineCommentChar</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span>
      <span class="grhsmod">but not</span>
      <span class="nt">LineTerminator</span>
    </div>
  </div>
</div>
</section>


<section id="sec-7.5">
<h1><span class="secnum"><a href="#sec-7.5"
    title="link to this section">7.5</a></span>
    Tokens</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-Token">
    <div class="lhs">
      <span class="nt">Token</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">IdentifierName</span>
    </div>
    <div class="rhs">
      <span class="nt">Punctuator</span>
    </div>
    <div class="rhs">
      <span class="nt">NumericLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">StringLiteral</span>
    </div>
  </div>
</div>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="nt">DivPunctuator</span> and
  <span class="nt">RegularExpressionLiteral</span> productions define tokens,
  but are not included in the <span class="nt">Token</span> production.</p>
</div>
</section>


<section id="sec-7.6">
<h1><span class="secnum"><a href="#sec-7.6"
    title="link to this section">7.6</a></span>
    Identifier Names and Identifiers</h1>

<p>Identifier Names are tokens that are interpreted according to the grammar
given in the &ldquo;Identifiers&rdquo; section of chapter 5 of the Unicode
standard, with some small modifications. An <span class="nt">Identifier</span>
is an <span class="nt">IdentifierName</span> that is not a
<span class="nt">ReservedWord</span> (<a href="#sec-7.6.1">see 7.6.1</a>). The
Unicode identifier grammar is based on both normative and informative character
categories specified by the Unicode Standard. The characters in the specified
categories in version 3.0 of the Unicode standard must be treated as in those
categories by all conforming ECMAScript implementations.</p>

<p>This standard specifies specific character additions: The dollar sign
(<code class="ch">$</code>) and the underscore (<code class="ch">_</code>) are
permitted anywhere in an <span class="nt">IdentifierName</span>.</p>

<p>Unicode escape sequences are also permitted in an
<span class="nt">IdentifierName</span>, where they contribute a single
character to the <span class="nt">IdentifierName</span>, as computed by the CV
of the <span class="nt">UnicodeEscapeSequence</span> (<a href="#sec-7.8.4">see
7.8.4</a>). The <code class="ch">\</code> preceding the
<span class="nt">UnicodeEscapeSequence</span> does not contribute a character
to the <span class="nt">IdentifierName</span>. A
<span class="nt">UnicodeEscapeSequence</span> cannot be used to put a character
into an <span class="nt">IdentifierName</span> that would otherwise be illegal.
In other words, if a
<code class="ch">\</code>&nbsp;<span class="nt">UnicodeEscapeSequence</span>
sequence were replaced by its
<span class="nt">UnicodeEscapeSequence</span>&rsquo;s CV, the result must still
be a valid <span class="nt">IdentifierName</span> that has the exact same
sequence of characters as the original <span class="nt">IdentifierName</span>.
All interpretations of identifiers within this specification are based upon
their actual characters regardless of whether or not an escape sequence was
used to contribute any particular characters.</p>

<p>Two <span class="nt">IdentifierName</span> that are canonically equivalent
according to the Unicode standard are <em>not</em> equal unless they are
represented by the exact same sequence of code units (in other words,
conforming ECMAScript implementations are only required to do bitwise
comparison on IdentifierName values). The intent is that the incoming source
text has been converted to normalised form C before it reaches the
compiler.</p>

<p>ECMAScript implementations may recognize identifier characters defined in
later editions of the Unicode Standard. If portability is a concern,
programmers should only employ identifier characters defined in Unicode
3.0.</p>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-Identifier">
    <div class="lhs">
      <span class="nt">Identifier</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">IdentifierName</span>
      <span class="grhsmod">but not</span>
      <span class="nt">ReservedWord</span>
    </div>
  </div>

  <div class="gp" id="def-IdentifierName">
    <div class="lhs">
      <span class="nt">IdentifierName</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">IdentifierStart</span>
    </div>
    <div class="rhs">
      <span class="nt">IdentifierName</span>
      <span class="nt">IdentifierPart</span>
    </div>
  </div>

  <div class="gp" id="def-IdentifierStart">
    <span class="pagemark" id="page28">PDF page 28 / printed page 18</span>
    <div class="lhs">
      <span class="nt">IdentifierStart</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">UnicodeLetter</span>
    </div>
    <div class="rhs">
      <code class="t">$</code>
    </div>
    <div class="rhs">
      <code class="t">_</code>
    </div>
    <div class="rhs">
      <code class="t">\</code> <span class="nt">UnicodeEscapeSequence</span>
    </div>
  </div>

  <div class="gp" id="def-IdentifierPart">
    <div class="lhs">
      <span class="nt">IdentifierPart</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">IdentifierStart</span>
    </div>
    <div class="rhs">
      <span class="nt">UnicodeCombiningMark</span>
    </div>
    <div class="rhs">
      <span class="nt">UnicodeDigit</span>
    </div>
    <div class="rhs">
      <span class="nt">UnicodeConnectorPunctuation</span>
    </div>
    <div class="rhs">
      &lt;ZWNJ&gt;
    </div>
    <div class="rhs">
      &lt;ZWJ&gt;
    </div>
  </div>

  <div class="gp" id="def-UnicodeLetter">
    <div class="lhs">
      <span class="nt">UnicodeLetter</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="gprose">any character in the Unicode categories
      &ldquo;Uppercase letter (Lu)&rdquo;, &ldquo;Lowercase letter (Ll)&rdquo;,
      &ldquo;Titlecase letter (Lt)&rdquo;, &ldquo;Modifier letter (Lm)&rdquo;,
      &ldquo;Other letter (Lo)&rdquo;, or &ldquo;Letter number
      (Nl)&rdquo;.</span>
    </div>
  </div>

  <div class="gp" id="def-UnicodeCombiningMark">
    <div class="lhs">
      <span class="nt">UnicodeCombiningMark</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="gprose">any character in the Unicode categories
      &ldquo;Non-spacing mark (Mn)&rdquo; or &ldquo;Combining spacing mark
      (Mc)&rdquo;</span>
    </div>
  </div>

  <div class="gp" id="def-UnicodeDigit">
    <div class="lhs">
      <span class="nt">UnicodeDigit</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="gprose">any character in the Unicode category
      &ldquo;Decimal number (Nd)&rdquo;</span>
    </div>
  </div>

  <div class="gp" id="def-UnicodeConnectorPunctuation">
    <div class="lhs">
      <span class="nt">UnicodeConnectorPunctuation</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="gprose">any character in the Unicode category
      &ldquo;Connector punctuation (Pc)&rdquo;</span>
    </div>
  </div>

  <div class="bogus gp">
    <div class="lhs">
      <span class="nt">UnicodeEscapeSequence</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="gprose"><a href="#sec-7.8.4">see 7.8.4</a>.</span>
    </div>
  </div>
</div>

<section id="sec-7.6.1">
<h1><span class="secnum"><a href="#sec-7.6.1"
    title="link to this section">7.6.1</a></span>
    Reserved Words</h1>

<p>A reserved word is an <span class="nt">IdentifierName</span> that cannot be
used as an <span class="nt">Identifier</span>.</p>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-ReservedWord">
    <div class="lhs">
      <span class="nt">ReservedWord</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">Keyword</span>
    </div>
    <div class="rhs">
      <span class="nt">FutureReservedWord</span>
    </div>
    <div class="rhs">
      <span class="nt">NullLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">BooleanLiteral</span>
    </div>
  </div>
</div>

<section id="sec-7.6.1.1">
<h1><span class="secnum"><a href="#sec-7.6.1.1"
    title="link to this section">7.6.1.1</a></span>
    Keywords</h1>

<p>The following tokens are ECMAScript keywords and may not be used as
<span class="nt" data-nt="Identifier">Identifiers</span> in ECMAScript
programs.</p>

<div class="syntax">
  <h2>Syntax</h2>
  <div class="gp" id="def-Keyword">
    <div class="lhs">
      <span class="nt">Keyword</span> <span class="geq">::</span>
      <span class="grhsmod">one of</span>
    </div>
    <div class="keyword pile">
      <code class="t">break</code>    <code class="t">do</code>       <code class="t">instanceof</code> <code class="t">typeof</code>
      <code class="t">case</code>     <code class="t">else</code>     <code class="t">new</code>      <code class="t">var</code>
      <code class="t">catch</code>    <code class="t">finally</code>  <code class="t">return</code>   <code class="t">void</code>
      <code class="t">continue</code> <code class="t">for</code>      <code class="t">switch</code>   <code class="t">while</code>
      <code class="t">debugger</code> <code class="t">function</code> <code class="t">this</code>     <code class="t">with</code>
      <code class="t">default</code>  <code class="t">if</code>       <code class="t">throw</code>    <code class="t">&nbsp;</code>
      <code class="t">delete</code>   <code class="t">in</code>       <code class="t">try</code>
    </div>
    <div class="end-pile"></div>
  </div>
</div>
</section>

<section id="sec-7.6.1.2">
<span class="pagemark" id="page29">PDF page 29 / printed page 19</span>
<h1><span class="secnum"><a href="#sec-7.6.1.2"
    title="link to this section">7.6.1.2</a></span>
    Future Reserved Words</h1>

<p>The following words are used as keywords in proposed extensions and are
therefore reserved to allow for the possibility of future adoption of those
extensions.</p>

<div class="syntax">
  <h2>Syntax</h2>
  <div class="gp" id="def-FutureReservedWord">
    <div class="lhs">
      <span class="nt">FutureReservedWord</span> <span class="geq">::</span>
      <span class="grhsmod">one of</span>
    </div>
    <div class="keyword pile">
      <code class="t">class</code>
      <code class="t">enum</code>
      <code class="t">extends</code>
      <code class="t">super</code>

      <code class="t">const</code>
      <code class="t">export</code>
      <code class="t">import</code>
    </div>
    <div class="end-pile"></div>
  </div>

  <p>The following tokens are also considered to be <span class="nt"
  data-nt="FutureReservedWord">FutureReservedWords</span> when they occur
  within <a href="#sec-10.1.1">strict mode code (see 10.1.1)</a>. The
  occurrence of any of these tokens within <a href="#sec-10.1.1">strict mode
  code</a> in any context where the occurrence of a
  <span class="nt">FutureReservedWord</span> would produce an error must also
  produce an equivalent error:</p>

  <div class="bogus gp">
    <div class="keyword5 pile">
      <code class="t">implements</code>
      <code class="t">let</code>
      <code class="t">private</code>
      <code class="t">public</code>
      <code class="t">yield</code>

      <code class="t">interface</code>
      <code class="t">package</code>
      <code class="t">protected</code>
      <code class="t">static</code>
    </div>
    <div class="end-pile"></div>
  </div>
</div>
</section>
</section>
</section>


<section id="sec-7.7">
<h1><span class="secnum"><a href="#sec-7.7"
    title="link to this section">7.7</a></span>
    Punctuators</h1>

<div class="syntax">
  <h2>Syntax</h2>
  <div class="gp" id="def-Punctuator">
    <div class="lhs">
      <span class="nt">Punctuator</span>
      <span class="geq">::</span>
      <span class="grhsmod">one of</span>
    </div>
    <div class="operator pile">
      <code class="t">{</code>
      <code class="t">}</code>
      <code class="t">(</code>
      <code class="t">)</code>
      <code class="t">[</code>
      <code class="t">]</code>

      <code class="t">.</code>
      <code class="t">;</code>
      <code class="t">,</code>
      <code class="t">&lt;</code>
      <code class="t">&gt;</code>
      <code class="t">&lt;=</code>

      <code class="t">&gt;=</code>
      <code class="t">==</code>
      <code class="t">!=</code>
      <code class="t">===</code>
      <code class="t">!==</code>

      <code class="t" style="clear: both">+</code>
      <code class="t">-</code>
      <code class="t">*</code>
      <code class="t">%</code>
      <code class="t">++</code>
      <code class="t">--</code>

      <code class="t">&lt;&lt;</code>
      <code class="t">&gt;&gt;</code>
      <code class="t">&gt;&gt;&gt;</code>
      <code class="t">&amp;</code>
      <code class="t">|</code>
      <code class="t">^</code>

      <code class="t">!</code>
      <code class="t">~</code>
      <code class="t">&amp;&amp;</code>
      <code class="t">||</code>
      <code class="t">?</code>
      <code class="t">:</code>

      <code class="t">=</code>
      <code class="t">+=</code>
      <code class="t">-=</code>
      <code class="t">*=</code>
      <code class="t">%=</code>
      <code class="t">&lt;&lt;=</code>

      <code class="t">&gt;&gt;=</code>
      <code class="t">&gt;&gt;&gt;=</code>
      <code class="t">&amp;=</code>
      <code class="t">|=</code>
      <code class="t">^=</code>
    </div>
    <div class="end-pile"></div>
  </div>

  <div class="gp" id="def-DivPunctuator">
    <div class="lhs">
      <span class="nt">DivPunctuator</span>
      <span class="geq">::</span>
      <span class="grhsmod">one of</span>
    </div>
    <div class="operator pile">
      <code class="t">/</code> <code class="t">/=</code>
    </div>
    <div class="end-pile"></div>
  </div>
</div>
</section>


<section id="sec-7.8">
<h1><span class="secnum"><a href="#sec-7.8"
    title="link to this section">7.8</a></span>
    Literals</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-Literal">
    <div class="lhs">
      <span class="nt">Literal</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">NullLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">BooleanLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">NumericLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">StringLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionLiteral</span>
    </div>
  </div>
</div>

<section id="sec-7.8.1">
<h1><span class="secnum"><a href="#sec-7.8.1"
    title="link to this section">7.8.1</a></span>
    Null Literals</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-NullLiteral">
    <div class="lhs">
      <span class="nt">NullLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">null</code>
    </div>
  </div>
</div>

<span class="pagemark" id="page30">PDF page 30 / printed page 20</span>

<h2>Semantics</h2>

<p>The value of the null literal <code class="t">null</code> is the sole value
of the Null type, namely <span class="value">null</span>.</p>
</section>

<section id="sec-7.8.2">
<h1><span class="secnum"><a href="#sec-7.8.2"
    title="link to this section">7.8.2</a></span>
    Boolean Literals</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-BooleanLiteral">
    <div class="lhs">
      <span class="nt">BooleanLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">true</code>
    </div>
    <div class="rhs">
      <code class="t">false</code>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>The value of the Boolean literal <code class="t">true</code> is a value of
the Boolean type, namely <span class="value">true</span>.</p>

<p>The value of the Boolean literal <code class="t">false</code> is a value of
the Boolean type, namely <span class="value">false</span>.</p>
</section>

<section id="sec-7.8.3">
<h1><span class="secnum"><a href="#sec-7.8.3"
    title="link to this section">7.8.3</a></span>
    Numeric Literals</h1>

<div class="syntax">
  <h2>Syntax</h2>
  <div class="gp" id="def-NumericLiteral">
    <div class="lhs">
      <span class="nt">NumericLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">HexIntegerLiteral</span>
    </div>
  </div>

  <div class="gp" id="def-DecimalLiteral">
    <div class="lhs">
      <span class="nt">DecimalLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalIntegerLiteral</span> <code class="t">.</code> <span class="nt">DecimalDigits</span><sub>opt</sub>   <span class="nt">ExponentPart</span><sub>opt</sub>
    </div>
    <div class="rhs">
      <code class="t">.</code> <span class="nt">DecimalDigits</span> <span class="nt">ExponentPart</span><sub>opt</sub>
    </div>
    <div class="rhs">
      <span class="nt">DecimalIntegerLiteral</span> <span class="nt">ExponentPart</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-DecimalIntegerLiteral">
    <div class="lhs">
      <span class="nt">DecimalIntegerLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">0</code>
    </div>
    <div class="rhs">
      <span class="nt">NonZeroDigit</span> <span class="nt">DecimalDigits</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-DecimalDigits">
    <div class="lhs">
      <span class="nt">DecimalDigits</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigit</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigits</span> <span class="nt">DecimalDigit</span>
    </div>
  </div>

  <div class="gp" id="def-DecimalDigit">
    <div class="lhs">
      <span class="nt">DecimalDigit</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">0  1  2  3  4  5  6  7  8  9</code>
    </div>
  </div>

  <div class="gp" id="def-NonZeroDigit">
    <div class="lhs">
      <span class="nt">NonZeroDigit</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">1  2  3  4  5  6  7  8  9</code>
    </div>
  </div>

  <div class="gp" id="def-ExponentPart">
    <div class="lhs">
      <span class="nt">ExponentPart</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">ExponentIndicator</span> <span class="nt">SignedInteger</span>
    </div>
  </div>

  <div class="gp" id="def-ExponentIndicator">
    <div class="lhs">
      <span class="nt">ExponentIndicator</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">e  E</code>
    </div>
  </div>

  <div class="gp" id="def-SignedInteger">
    <div class="lhs">
      <span class="nt">SignedInteger</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigits</span>
    </div>
    <div class="rhs">
      <code class="t">+</code> <span class="nt">DecimalDigits</span>
    </div>
    <div class="rhs">
      <code class="t">-</code> <span class="nt">DecimalDigits</span>
    </div>
  </div>

  <div class="gp" id="def-HexIntegerLiteral">
    <div class="lhs">
      <span class="nt">HexIntegerLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">0x</code> <span class="nt">HexDigit</span>
    </div>
    <div class="rhs">
      <code class="t">0X</code> <span class="nt">HexDigit</span>
    </div>
    <div class="rhs">
      <span class="nt">HexIntegerLiteral</span> <span class="nt">HexDigit</span>
    </div>
    <span class="pagemark" id="page31">PDF page 31 / printed page 21</span>
  </div>

  <div class="gp" id="def-HexDigit">
    <div class="lhs">
      <span class="nt">HexDigit</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f  A  B  C  D  E  F</code>
    </div>
  </div>

  <p>The source character immediately following a
  <span class="nt">NumericLiteral</span> must not be an
  <span class="nt">IdentifierStart</span> or
  <span class="nt">DecimalDigit</span>.</p>

  <div class="note">
    <p><span class="nh">NOTE</span> For example:</p>

    <pre>3in</pre>

    <p>is an error and not the two input elements <code class="t">3</code> and
    <code class="t">in</code>.</p>
  </div>
</div>

<h2>Semantics</h2>

<p>A numeric literal stands for a value of the Number type. This value is
determined in two steps: first, a mathematical value (MV) is derived from the
literal; second, this mathematical value is rounded as described below.</p>

<ul>

  <li>The MV of <span class="prod"><span class="nt">NumericLiteral</span>
      <span class="geq">::</span> <span class="nt">DecimalLiteral</span></span>
      is the MV of <span class="nt">DecimalLiteral</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">NumericLiteral</span>
      <span class="geq">::</span>
      <span class="nt">HexIntegerLiteral</span></span> is the MV of
      <span class="nt">HexIntegerLiteral</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalLiteral</span>
      <span class="geq">::</span> <span class="nt">DecimalIntegerLiteral</span>
      <code class="t">.</code></span> is the MV of
      <span class="nt">DecimalIntegerLiteral</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalLiteral</span>
      <span class="geq">::</span> <span class="nt">DecimalIntegerLiteral</span>
      <code class="t">.</code> <span class="nt">DecimalDigits</span></span> is
      the MV of <span class="nt">DecimalIntegerLiteral</span> plus (the MV of
      <span class="nt">DecimalDigits</span> times
      10<sup>&minus;<var>n</var></sup>), where <var>n</var> is the number of
      characters in <span class="nt">DecimalDigits</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalLiteral</span>
      <span class="geq">::</span> <span class="nt">DecimalIntegerLiteral</span>
      <code class="t">.</code> <span class="nt">ExponentPart</span></span> is
      the MV of <span class="nt">DecimalIntegerLiteral</span> times
      10<sup><var>e</var></sup>, where <var>e</var> is the MV of
      <span class="nt">ExponentPart</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalLiteral</span>
      <span class="geq">::</span> <span class="nt">DecimalIntegerLiteral</span>
      <code class="t">.</code> <span class="nt">DecimalDigits</span>
      <span class="nt">ExponentPart</span></span> is (the MV of
      <span class="nt">DecimalIntegerLiteral</span> plus (the MV of
      <span class="nt">DecimalDigits</span> times
      10<sup>&minus;<var>n</var></sup>)) times 10<sup><var>e</var></sup>, where
      <var>n</var> is the number of characters in
      <span class="nt">DecimalDigits</span> and e is the MV of
      <span class="nt">ExponentPart</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalLiteral</span>
      <span class="geq">::</span> <code class="t">.</code>
      <span class="nt">DecimalDigits</span></span> is the MV of
      <span class="nt">DecimalDigits</span> times
      10<sup>&minus;<var>n</var></sup>, where <var>n</var> is the number of
      characters in <span class="nt">DecimalDigits</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalLiteral</span>
      <span class="geq">::</span> <code class="t">.</code>
      <span class="nt">DecimalDigits</span>
      <span class="nt">ExponentPart</span></span> is the MV of
      <span class="nt">DecimalDigits</span> times
      10<sup><var>e</var>&minus;<var>n</var></sup>, where <var>n</var> is the
      number of characters in <span class="nt">DecimalDigits</span> and
      <var>e</var> is the MV of <span class="nt">ExponentPart</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalLiteral</span>
      <span class="geq">::</span>
      <span class="nt">DecimalIntegerLiteral</span></span> is the MV of
      <span class="nt">DecimalIntegerLiteral</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalLiteral</span>
      <span class="geq">::</span> <span class="nt">DecimalIntegerLiteral</span>
      <span class="nt">ExponentPart</span></span> is the MV of
      <span class="nt">DecimalIntegerLiteral</span> times
      10<sup><var>e</var></sup>, where <var>e</var> is the MV of
      <span class="nt">ExponentPart</span>.</li>

  <li>The MV of
      <span class="prod"><span class="nt">DecimalIntegerLiteral</span>
      <span class="geq">::</span> <code class="t">0</code></span> is 0.</li>

  <li>The MV of
      <span class="prod"><span class="nt">DecimalIntegerLiteral</span>
      <span class="geq">::</span> <span class="nt">NonZeroDigit</span>
      <span class="nt">DecimalDigits</span></span> is (the MV of
      <span class="nt">NonZeroDigit</span> times 10<sup><var>n</var></sup>)
      plus the MV of <span class="nt">DecimalDigits</span>, where <var>n</var>
      is the number of characters in
      <span class="nt">DecimalDigits</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigits</span>
      <span class="geq">::</span> <span class="nt">DecimalDigit</span></span>
      is the MV of <span class="nt">DecimalDigit</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigits</span>
      <span class="geq">::</span> <span class="nt">DecimalDigits</span>
      <span class="nt">DecimalDigit</span></span> is (the MV of
      <span class="nt">DecimalDigits</span> times 10) plus the MV of
      <span class="nt">DecimalDigit</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">ExponentPart</span>
      <span class="geq">::</span> <span class="nt">ExponentIndicator</span>
      <span class="nt">SignedInteger</span></span> is the MV of
      <span class="nt">SignedInteger</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">SignedInteger</span>
      <span class="geq">::</span> <span class="nt">DecimalDigits</span></span>
      is the MV of <span class="nt">DecimalDigits</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">SignedInteger</span>
      <span class="geq">::</span> <code class="t">+</code>
      <span class="nt">DecimalDigits</span></span> is the MV of
      <span class="nt">DecimalDigits</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">SignedInteger</span>
      <span class="geq">::</span> <code class="t">-</code>
      <span class="nt">DecimalDigits</span></span> is the negative of the MV of
      <span class="nt">DecimalDigits</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">::</span> <code class="t">0</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">0</code></span> is 0.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">::</span> <code class="t">1</code></span> or of
      <span class="prod"><span class="nt">NonZeroDigit</span>
      <span class="geq">::</span> <code class="t">1</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">1</code></span> is 1.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">::</span> <code class="t">2</code></span> or of
      <span class="prod"><span class="nt">NonZeroDigit</span>
      <span class="geq">::</span> <code class="t">2</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">2</code></span> is 2.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">::</span> <code class="t">3</code></span> or of
      <span class="prod"><span class="nt">NonZeroDigit</span>
      <span class="geq">::</span> <code class="t">3</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">3</code></span> is 3.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">::</span> <code class="t">4</code></span> or of
      <span class="prod"><span class="nt">NonZeroDigit</span>
      <span class="geq">::</span> <code class="t">4</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">4</code></span> is 4.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">::</span> <code class="t">5</code></span> or of
      <span class="prod"><span class="nt">NonZeroDigit</span>
      <span class="geq">::</span> <code class="t">5</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">5</code></span> is 5.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">::</span> <code class="t">6</code></span> or of
      <span class="prod"><span class="nt">NonZeroDigit</span>
      <span class="geq">::</span> <code class="t">6</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">6</code></span> is 6.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">::</span> <code class="t">7</code></span> or of
      <span class="prod"><span class="nt">NonZeroDigit</span>
      <span class="geq">::</span> <code class="t">7</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">7</code></span> is 7.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">::</span> <code class="t">8</code></span> or of
      <span class="prod"><span class="nt">NonZeroDigit</span>
      <span class="geq">::</span> <code class="t">8</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">8</code></span> is 8.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">::</span> <code class="t">9</code></span> or of
      <span class="prod"><span class="nt">NonZeroDigit</span>
      <span class="geq">::</span> <code class="t">9</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">9</code></span> is 9.</li>

  <li>The MV of <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">a</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">A</code></span> is 10.</li>

  <li>The MV of <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">b</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">B</code></span> is 11.</li>

  <li><span class="pagemark" id="page32">PDF page 32 / printed page
      22</span>The MV of <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">c</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">C</code></span> is 12.</li>

  <li>The MV of <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">d</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">D</code></span> is 13.</li>

  <li>The MV of <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">e</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">E</code></span> is 14.</li>

  <li>The MV of <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">f</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">::</span> <code class="t">F</code></span> is 15.</li>

  <li>The MV of <span class="prod"><span class="nt">HexIntegerLiteral</span>
      <span class="geq">::</span> <code class="t">0x</code>
      <span class="nt">HexDigit</span></span> is the MV of
      <span class="nt">HexDigit</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">HexIntegerLiteral</span>
      <span class="geq">::</span> <code class="t">0X</code>
      <span class="nt">HexDigit</span></span> is the MV of
      <span class="nt">HexDigit</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">HexIntegerLiteral</span>
      <span class="geq">::</span> <span class="nt">HexIntegerLiteral</span>
      <span class="nt">HexDigit</span></span> is (the MV of
      <span class="nt">HexIntegerLiteral</span> times 16) plus the MV of
      <span class="nt">HexDigit</span>.</li>
</ul>

<p>Once the exact MV for a numeric literal has been determined, it is then
rounded to a value of the Number type. If the MV is 0, then the rounded value
is <span class="value">+0</span>; otherwise, the rounded value must be
<a href="#sec-8.5">the Number value for</a> the MV (as specified in
<a href="#sec-8.5">8.5</a>), unless the literal is a
<span class="nt">DecimalLiteral</span> and the literal has more than 20
significant digits, in which case the Number value may be either the Number
value for the MV of a literal produced by replacing each significant digit
after the 20th with a <code class="ch">0</code> digit or the Number value for
the MV of a literal produced by replacing each significant digit after the 20th
with a <code class="ch">0</code> digit and then incrementing the literal at the
20th significant digit position. A digit is <dfn>significant</dfn> if it is not
part of an <span class="nt">ExponentPart</span> and</p>

<ul>
  <li>it is not <code class="ch">0</code>; or</li>

  <li>there is a nonzero digit to its left and there is a nonzero digit, not in
      the <span class="nt">ExponentPart</span>, to its right.</li>
</ul>

<p>A conforming implementation, when processing <a href="#sec-10.1.1">strict
mode code (see 10.1.1)</a>, must not extend the syntax of
<span class="nt">NumericLiteral</span> to include
<span class="nt">OctalIntegerLiteral</span> as described in
<a href="#sec-B.1.1">B.1.1</a>.</p>
</section>

<section id="sec-7.8.4">
<h1><span class="secnum"><a href="#sec-7.8.4"
    title="link to this section">7.8.4</a></span>
    String Literals</h1>

<p>A string literal is zero or more characters enclosed in single or double
quotes. Each character may be represented by an escape sequence. All characters
may appear literally in a string literal except for the closing quote
character, backslash, carriage return, line separator, paragraph separator, and
line feed. Any character may appear in the form of an escape sequence.</p>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-StringLiteral">
    <div class="lhs">
      <span class="nt">StringLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">"</code> <span class="nt">DoubleStringCharacters</span><sub>opt</sub> <code class="t">"</code>
    </div>
    <div class="rhs">
      <code class="t">'</code> <span class="nt">SingleStringCharacters</span><sub>opt</sub> <code class="t">'</code>
    </div>
  </div>

  <div class="gp" id="def-DoubleStringCharacters">
    <div class="lhs">
      <span class="nt">DoubleStringCharacters</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">DoubleStringCharacter</span> <span class="nt">DoubleStringCharacters</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-SingleStringCharacters">
    <div class="lhs">
      <span class="nt">SingleStringCharacters</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SingleStringCharacter</span> <span class="nt">SingleStringCharacters</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-DoubleStringCharacter">
    <div class="lhs">
      <span class="nt">DoubleStringCharacter</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not</span> <span class="chgloss">double-quote</span> <code class="t">&quot;</code> <span class="grhsmod">or</span> <span class="chgloss">backslash</span> <code class="t">\</code> <span class="grhsmod">or</span> <span class="nt">LineTerminator</span>
    </div>
    <div class="rhs">
      <code class="t">\</code> <span class="nt">EscapeSequence</span>
    </div>
    <div class="rhs">
      <span class="nt">LineContinuation</span>
    </div>
  </div>

  <div class="gp" id="def-SingleStringCharacter">
    <div class="lhs">
      <span class="nt">SingleStringCharacter</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not</span> <span class="chgloss">single-quote</span> <code class="t">&apos;</code> <span class="grhsmod">or</span> <span class="chgloss">backslash</span> <code class="t">\</code> <span class="grhsmod">or</span> <span class="nt">LineTerminator</span>
    </div>
    <div class="rhs">
      <code class="t">\</code> <span class="nt">EscapeSequence</span>
    </div>
    <div class="rhs">
      <span class="nt">LineContinuation</span>
    </div>
  </div>

  <div class="gp" id="def-LineContinuation">
    <div class="lhs">
      <span class="nt">LineContinuation</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">\</code> <span class="nt">LineTerminatorSequence</span>
    </div>
  </div>

  <div class="gp" id="def-EscapeSequence">
    <span class="pagemark" id="page33">PDF page 33 / printed page 23</span>
    <div class="lhs">
      <span class="nt">EscapeSequence</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">CharacterEscapeSequence</span>
    </div>
    <div class="rhs">
      <code class="t">0</code>  <span class="grhsannot">[<a href="#def-lookahead-notin">lookahead &notin;</a> <span class="nt">DecimalDigit</span>]</span>
    </div>
    <div class="rhs">
      <span class="nt">HexEscapeSequence</span>
    </div>
    <div class="rhs">
      <span class="nt">UnicodeEscapeSequence</span>
    </div>
  </div>

  <div class="gp" id="def-CharacterEscapeSequence">
    <div class="lhs">
      <span class="nt">CharacterEscapeSequence</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SingleEscapeCharacter</span>
    </div>
    <div class="rhs">
      <span class="nt">NonEscapeCharacter</span>
    </div>
  </div>

  <div class="gp" id="def-SingleEscapeCharacter">
    <div class="lhs">
      <span class="nt">SingleEscapeCharacter</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">&apos;  &quot;  \  b  f  n  r  t  v</code>
    </div>
  </div>

  <div class="gp" id="def-NonEscapeCharacter">
    <div class="lhs">
      <span class="nt">NonEscapeCharacter</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not</span> <span class="nt">EscapeCharacter</span> <span class="grhsmod">or</span> <span class="nt">LineTerminator</span>
    </div>
  </div>

  <div class="gp" id="def-EscapeCharacter">
    <div class="lhs">
      <span class="nt">EscapeCharacter</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SingleEscapeCharacter</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigit</span>
    </div>
    <div class="rhs">
      <code class="t">x</code>
    </div>
    <div class="rhs">
      <code class="t">u</code>
    </div>
  </div>

  <div class="gp" id="def-HexEscapeSequence">
    <div class="lhs">
      <span class="nt">HexEscapeSequence</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">x</code> <span class="nt">HexDigit</span> <span class="nt">HexDigit</span>
    </div>
  </div>

  <div class="gp" id="def-UnicodeEscapeSequence">
    <div class="lhs">
      <span class="nt">UnicodeEscapeSequence</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">u</code> <span class="nt">HexDigit</span> <span class="nt">HexDigit</span> <span class="nt">HexDigit</span> <span class="nt">HexDigit</span>
    </div>
  </div>

  <p>The definition of the nonterminal <span class="nt">HexDigit</span> is
  given in <a href="#sec-7.8.3">7.8.3</a>.
  <span class="nt">SourceCharacter</span> is defined in <a href="#sec-6">clause
  6</a>.</p>
</div>

<h2>Semantics</h2>

<p>A string literal stands for a value of the String type. The String value
(SV) of the literal is described in terms of character values (CV) contributed
by the various parts of the string literal. As part of this process, some
characters within the string literal are interpreted as having a mathematical
value (MV), as described below or in <a href="#sec-7.8.3">7.8.3</a>.</p>

<ul>
  <li>The SV of <span class="prod"><span class="nt">StringLiteral</span>
      <span class="geq">::</span> <code class="t">""</code></span> is the empty
      character sequence.</li>

  <li>The SV of <span class="prod"><span class="nt">StringLiteral</span>
      <span class="geq">::</span> <code class="t">''</code></span> is the empty
      character sequence.</li>

  <li>The SV of <span class="prod"><span class="nt">StringLiteral</span>
      <span class="geq">::</span> <code class="t">"</code>
      <span class="nt">DoubleStringCharacters</span>
      <code class="t">"</code></span> is the SV of
      <span class="nt">DoubleStringCharacters</span>.</li>

  <li>The SV of <span class="prod"><span class="nt">StringLiteral</span>
      <span class="geq">::</span> <code class="t">'</code>
      <span class="nt">SingleStringCharacters</span>
      <code class="t">'</code></span> is the SV of
      <span class="nt">SingleStringCharacters</span>.</li>

  <li>The SV of
      <span class="prod"><span class="nt">DoubleStringCharacters</span>
      <span class="geq">::</span>
      <span class="nt">DoubleStringCharacter</span></span> is a sequence of one
      character, the CV of <span class="nt">DoubleStringCharacter</span>.</li>

  <li>The SV of
      <span class="prod"><span class="nt">DoubleStringCharacters</span>
      <span class="geq">::</span> <span class="nt">DoubleStringCharacter</span>
      <span class="nt">DoubleStringCharacters</span></span> is a sequence of
      the CV of <span class="nt">DoubleStringCharacter</span> followed by all
      the characters in the SV of
      <span class="nt">DoubleStringCharacters</span> in order.</li>

  <li>The SV of
      <span class="prod"><span class="nt">SingleStringCharacters</span>
      <span class="geq">::</span>
      <span class="nt">SingleStringCharacter</span></span> is a sequence of one
      character, the CV of <span class="nt">SingleStringCharacter</span>.</li>

  <li>The SV of
      <span class="prod"><span class="nt">SingleStringCharacters</span>
      <span class="geq">::</span> <span class="nt">SingleStringCharacter</span>
      SingleStringCharacters</span> is a sequence of the CV of
      <span class="nt">SingleStringCharacter</span> followed by all the
      characters in the SV of <span class="nt">SingleStringCharacters</span> in
      order.</li>

  <li>The SV of <span class="prod"><span class="nt">LineContinuation</span>
      <span class="geq">::</span> <code class="t">\</code>
      <span class="nt">LineTerminatorSequence</span></span> is the empty
      character sequence.</li>

  <li>The CV of
      <span class="prod"><span class="nt">DoubleStringCharacter</span>
      <span class="geq">::</span> <span class="nt">SourceCharacter</span>
      <span class="grhsmod">but not</span>
      <span class="chgloss">double-quote</span> <code class="t">&quot;</code>
      <span class="grhsmod">or</span> <span class="chgloss">backslash</span>
      <code class="t">\</code> <span class="grhsmod">or</span>
      <span class="nt">LineTerminator</span></span> is the
      <span class="nt">SourceCharacter</span> character itself.</li>

  <li>The CV of
      <span class="prod"><span class="nt">DoubleStringCharacter</span>
      <span class="geq">::</span> <code class="t">\</code>
      <span class="nt">EscapeSequence</span></span> is the CV of the
      <span class="nt">EscapeSequence</span>.</li>

  <li>The CV of
      <span class="prod"><span class="nt">SingleStringCharacter</span>
      <span class="geq">::</span> <span class="nt">SourceCharacter</span>
      <span class="grhsmod">but not</span>
      <span class="chgloss">single-quote</span> <code class="t">&apos;</code>
      <span class="grhsmod">or</span> <span class="chgloss">backslash</span>
      <code class="t">\</code> <span class="grhsmod">or</span>
      <span class="nt">LineTerminator</span></span> is the
      <span class="nt">SourceCharacter</span> character itself.</li>

  <li>The CV of
      <span class="prod"><span class="nt">SingleStringCharacter</span>
      <span class="geq">::</span> <code class="t">\</code>
      <span class="nt">EscapeSequence</span></span> is the CV of the
      <span class="nt">EscapeSequence</span>.</li>

  <li>The CV of <span class="prod"><span class="nt">EscapeSequence</span>
      <span class="geq">::</span>
      <span class="nt">CharacterEscapeSequence</span></span> is the CV of the
      <span class="nt">CharacterEscapeSequence</span>.</li>

  <li><span class="pagemark" id="page34">PDF page 34 / printed page
      24</span>The CV of
      <span class="prod"><span class="nt">EscapeSequence</span>
      <span class="geq">::</span> <code class="t">0</code>
      <span class="grhsannot">[<a href="#def-lookahead-notin">lookahead
      &notin;</a> <span class="nt">DecimalDigit</span>]</span></span> is a
      &lt;NUL&gt; character (Unicode value 0000).</li>

  <li>The CV of <span class="prod"><span class="nt">EscapeSequence</span>
      <span class="geq">::</span>
      <span class="nt">HexEscapeSequence</span></span> is the CV of the
      <span class="nt">HexEscapeSequence</span>.</li>

  <li>The CV of <span class="prod"><span class="nt">EscapeSequence</span>
      <span class="geq">::</span>
      <span class="nt">UnicodeEscapeSequence</span></span> is the CV of the
      <span class="nt">UnicodeEscapeSequence</span>.</li>

  <li>The CV of
      <span class="prod"><span class="nt">CharacterEscapeSequence</span>
      <span class="geq">::</span>
      <span class="nt">SingleEscapeCharacter</span></span> is the character
      whose code unit value is determined by the
      <span class="nt">SingleEscapeCharacter</span> according to Table 4:

    <figure id="table4">
    <figcaption>Table 4 &mdash;
        String Single Character Escape Sequences</figcaption>
    <table class="real-table">
      <tr>
        <th>Escape Sequence</th>
        <th>Code Unit Value</th>
        <th>Name</th>
        <th>Symbol</th>
      </tr>
      <tr>
        <td><code class="ch">\b</code></td>
        <td><code class="ch">\u0008</code></td>
        <td>backspace</td>
        <td>&lt;BS&gt;</td>
      </tr>
      <tr>
        <td><code class="ch">\t</code></td>
        <td><code class="ch">\u0009</code></td>
        <td>horizontal tab</td>
        <td>&lt;HT&gt;</td>
      </tr>
      <tr>
        <td><code class="ch">\n</code></td>
        <td><code class="ch">\u000A</code></td>
        <td>line feed (new line)</td>
        <td>&lt;LF&gt;</td>
      </tr>
      <tr>
        <td><code class="ch">\v</code></td>
        <td><code class="ch">\u000B</code></td>
        <td>vertical tab</td>
        <td>&lt;VT&gt;</td>
      </tr>
      <tr>
        <td><code class="ch">\f</code></td>
        <td><code class="ch">\u000C</code></td>
        <td>form feed</td>
        <td>&lt;FF&gt;</td>
      </tr>
      <tr>
        <td><code class="ch">\r</code></td>
        <td><code class="ch">\u000D</code></td>
        <td>carriage return</td>
        <td>&lt;CR&gt;</td>
      </tr>
      <tr>
        <td><code class="ch">\&quot;</code></td>
        <td><code class="ch">\u0022</code></td>
        <td>double quote</td>
        <td><code class="ch">&quot;</code></td>
      </tr>
      <tr>
        <td><code class="ch">\&apos;</code></td>
        <td><code class="ch">\u0027</code></td>
        <td>single quote</td>
        <td><code class="ch">&apos;</code></td>
      </tr>
      <tr>
        <td><code class="ch">\\</code></td>
        <td><code class="ch">\u005C</code></td>
        <td>backslash</td>
        <td><code class="ch">\</code></td>
      </tr>
    </table>
    </figure>
    </li>

  <li>The CV of
      <span class="prod"><span class="nt">CharacterEscapeSequence</span>
      <span class="geq">::</span>
      <span class="nt">NonEscapeCharacter</span></span> is the CV of the
      <span class="nt">NonEscapeCharacter</span>.</li>

  <li>The CV of <span class="prod"><span class="nt">NonEscapeCharacter</span>
      <span class="geq">::</span> <span class="nt">SourceCharacter</span>
      <span class="grhsmod">but not</span>
      <span class="nt">EscapeCharacter</span> <span class="grhsmod">or</span>
      <span class="nt">LineTerminator</span></span> is the
      <span class="nt">SourceCharacter</span> character itself.</li>

  <li>The CV of <span class="prod"><span class="nt">HexEscapeSequence</span>
      <span class="geq">::</span> <code class="t">x</code>
      <span class="nt">HexDigit</span> <span class="nt">HexDigit</span></span>
      is the character whose code unit value is (16 times the MV of the first
      <span class="nt">HexDigit</span>) plus the MV of the second
      <span class="nt">HexDigit</span>.</li>

  <li>The CV of
      <span class="prod"><span class="nt">UnicodeEscapeSequence</span>
      <span class="geq">::</span> <code class="t">u</code>
      <span class="nt">HexDigit</span> <span class="nt">HexDigit</span>
      <span class="nt">HexDigit</span> <span class="nt">HexDigit</span></span>
      is the character whose code unit value is (4096 times the MV of the first
      <span class="nt">HexDigit</span>) plus (256 times the MV of the second
      <span class="nt">HexDigit</span>) plus (16 times the MV of the third
      <span class="nt">HexDigit</span>) plus the MV of the fourth
      <span class="nt">HexDigit</span>.</li>
</ul>

<p>A conforming implementation, when processing <a href="#sec-10.1.1">strict
mode code (see 10.1.1)</a>, may not extend the syntax of
<span class="nt">EscapeSequence</span> to include
<span class="nt">OctalEscapeSequence</span> as described in
<a href="#sec-B.1.2">B.1.2</a>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> A line terminator character cannot appear in
  a string literal, except as part of a
  <span class="nt">LineContinuation</span> to produce the empty character
  sequence. The correct way to cause a line terminator character to be part of
  the String value of a string literal is to use an escape sequence such as
  <code class="ch">\n</code> or <code class="ch">\u000A</code>.</p>
</div>
</section>

<section id="sec-7.8.5">
<h1><span class="secnum"><a href="#sec-7.8.5"
    title="link to this section">7.8.5</a></span>
    Regular Expression Literals</h1>

<p>A regular expression literal is an input element that is converted to a
RegExp object (<a href="#sec-15.10">see 15.10</a>) each time the literal is
evaluated. Two regular expression literals in a program evaluate to regular
expression objects that never compare as <code class="t">===</code> to each
other even if the two literals&rsquo; contents are identical. A RegExp object
may also be created at runtime by <code class="expr">new RegExp</code>
(<a href="#sec-15.10.4">see 15.10.4</a>) or calling the
<span class="libname">RegExp</span> constructor as a function
(<a href="#sec-15.10.3">15.10.3</a>).</p>

<p>The productions below describe the syntax for a regular expression literal
and are used by the input element scanner to find the end of the regular
expression literal. The Strings of characters comprising the
<span class="nt">RegularExpressionBody</span> and the
<span class="nt">RegularExpressionFlags</span> are passed uninterpreted to the
regular expression constructor, which interprets them according to its own,
more stringent grammar. An implementation may extend the regular expression
constructor&rsquo;s grammar, but it must not extend the
<span class="nt">RegularExpressionBody</span> and
<span class="nt">RegularExpressionFlags</span> productions or the productions
used by these productions.</p>

<div class="syntax">
  <h2>Syntax</h2>
  <div class="gp" id="def-RegularExpressionLiteral">
    <div class="lhs">
      <span class="nt">RegularExpressionLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">/</code> <span class="nt">RegularExpressionBody</span> <code class="t">/</code> <span class="nt">RegularExpressionFlags</span>
    </div>
    <span class="pagemark" id="page35">PDF page 35 / printed page 25</span>
  </div>

  <div class="gp" id="def-RegularExpressionBody">
    <div class="lhs">
      <span class="nt">RegularExpressionBody</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionFirstChar</span> <span class="nt">RegularExpressionChars</span>
    </div>
  </div>

  <div class="gp" id="def-RegularExpressionChars">
    <div class="lhs">
      <span class="nt">RegularExpressionChars</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="grhsannot">[empty]</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionChars</span> <span class="nt">RegularExpressionChar</span>
    </div>
  </div>

  <div class="gp" id="def-RegularExpressionFirstChar">
    <div class="lhs">
      <span class="nt">RegularExpressionFirstChar</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionNonTerminator</span> <span class="grhsmod">but not</span> <code class="t">*</code> <span class="grhsmod">or</span> <code class="t">\</code> <span class="grhsmod">or</span> <code class="t">/</code> <span class="grhsmod">or</span> <code class="t">[</code>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionBackslashSequence</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionClass</span>
    </div>
  </div>

  <div class="gp" id="def-RegularExpressionChar">
    <div class="lhs">
      <span class="nt">RegularExpressionChar</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionNonTerminator</span> <span class="grhsmod">but not</span> <code class="t">\</code> <span class="grhsmod">or</span> <code class="t">/</code> <span class="grhsmod">or</span> <code class="t">[</code>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionBackslashSequence</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionClass</span>
    </div>
  </div>

  <div class="gp" id="def-RegularExpressionBackslashSequence">
    <div class="lhs">
      <span class="nt">RegularExpressionBackslashSequence</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">\</code> <span class="nt">RegularExpressionNonTerminator</span>
    </div>
  </div>

  <div class="gp" id="def-RegularExpressionNonTerminator">
    <div class="lhs">
      <span class="nt">RegularExpressionNonTerminator</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not</span> <span class="nt">LineTerminator</span>
    </div>
  </div>

  <div class="gp" id="def-RegularExpressionClass">
    <div class="lhs">
      <span class="nt">RegularExpressionClass</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">[</code> <span class="nt">RegularExpressionClassChars</span> <code class="t">]</code>
    </div>
  </div>

  <div class="gp" id="def-RegularExpressionClassChars">
    <div class="lhs">
      <span class="nt">RegularExpressionClassChars</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="grhsannot">[empty]</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionClassChars</span> <span class="nt">RegularExpressionClassChar</span>
    </div>
  </div>

  <div class="gp" id="def-RegularExpressionClassChar">
    <div class="lhs">
      <span class="nt">RegularExpressionClassChar</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionNonTerminator</span> <span class="grhsmod">but not</span> <code class="t">]</code> <span class="grhsmod">or</span> <code class="t">\</code>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionBackslashSequence</span>
    </div>
  </div>

  <div class="gp" id="def-RegularExpressionFlags">
    <div class="lhs">
      <span class="nt">RegularExpressionFlags</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="grhsannot">[empty]</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionFlags</span> <span class="nt">IdentifierPart</span>
    </div>
  </div>

  <div class="note">
    <p><span class="nh">NOTE</span> Regular expression literals may not be
    empty; instead of representing an empty regular expression literal, the
    characters <code class="t">//</code> start a single-line comment. To
    specify an empty regular expression, use:
    <code class="expr">/(?:)/</code>.</p>
  </div>
</div>

<h2>Semantics</h2>

<p>A regular expression literal evaluates to a value of the Object type that is
an instance of the standard built-in constructor RegExp. This value is
determined in two steps: first, the characters comprising the regular
expression&rsquo;s <span class="nt">RegularExpressionBody</span> and
<span class="nt">RegularExpressionFlags</span> production expansions are
collected uninterpreted into two Strings <var>Pattern</var> and
<var>Flags</var>, respectively. Then each time the literal is evaluated, a new
object is created as if by the expression <code class="expr">new
RegExp(<var>Pattern</var>, <var>Flags</var>)</code> where
<code class="expr">RegExp</code> is the standard built-in constructor with that
name. The newly constructed object becomes the value of the
<span class="nt">RegularExpressionLiteral</span>. If the call to
<code class="expr">new RegExp</code> would generate an error as specified in
<a href="#sec-15.10.4.1">15.10.4.1</a>, the error must be treated as an early
error (<a href="#sec-16">Clause 16</a>).</p>
</section>
</section>


<section id="sec-7.9">
<h1><span class="secnum"><a href="#sec-7.9"
    title="link to this section">7.9</a></span>
    Automatic Semicolon Insertion</h1>

<p>Certain ECMAScript statements (empty statement, variable statement,
expression statement,
<code class="t">do</code>&ndash;<code class="t">while</code> statement,
<code class="t">continue</code> statement, <code class="t">break</code>
statement, <code class="t">return</code> statement, and
<code class="t">throw</code> statement) must be terminated with semicolons.
Such semicolons may always appear explicitly in the source text. For
convenience, however, such semicolons may be omitted from the source text in
certain situations. These situations are described by saying that semicolons
are automatically inserted into the source code token stream in those
situations.</p>

<span class="pagemark" id="page36">PDF page 36 / printed page 26</span>

<section id="sec-7.9.1">
<h1><span class="secnum"><a href="#sec-7.9.1"
    title="link to this section">7.9.1</a></span>
    Rules of Automatic Semicolon
Insertion</h1>

<p>There are three basic rules of semicolon insertion:</p>

<ol>
  <li><p>When, as the program is parsed from left to right, a token (called
      the <dfn>offending token</dfn>) is encountered that is not allowed by any
      production of the grammar, then a semicolon is automatically inserted
      before the offending token if one or more of the following conditions is
      true:</p>

    <ul>
      <li>The offending token is separated from the previous token by at least
          one <span class="nt">LineTerminator</span>.</li>
      <li>The offending token is <code class="t">}</code>.</li>
    </ul>
  </li>

  <li><p>When, as the program is parsed from left to right, the end of the
      input stream of tokens is encountered and the parser is unable to parse
      the input token stream as a single complete ECMAScript
      <span class="nt">Program</span>, then a semicolon is automatically
      inserted at the end of the input stream.</p></li>

  <li><p>When, as the program is parsed from left to right, a token is
      encountered that is allowed by some production of the grammar, but the
      production is a <a href="#def-restricted-production">restricted
      production</a> and the token would be the first token for a terminal or
      nonterminal immediately following the annotation
      &ldquo;<span class="grhsannot"><a href="#def-restricted-production">[no
      <span class="nt">LineTerminator</span> here]</a></span>&rdquo; within the
      restricted production (and therefore such a token is called a restricted
      token), and the restricted token is separated from the previous token by
      at least one <span class="nt">LineTerminator</span>, then a semicolon is
      automatically inserted before the restricted token.</p></li>

</ol>

<p>However, there is an additional overriding condition on the preceding rules:
a semicolon is never inserted automatically if the semicolon would then be
parsed as an empty statement or if that semicolon would become one of the two
semicolons in the header of a <code class="t">for</code> statement
(<a href="#sec-12.6.3">see 12.6.3</a>).</p>

<div class="note">
  <p><span class="nh">NOTE</span> The following are the only restricted
  productions in the grammar:</p>

  <div class="example gp">
    <div class="lhs">
      <span class="nt">PostfixExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">LeftHandSideExpression</span>
      <span class="grhsannot"><a href="#def-restricted-production">[no
        <span class="nt">LineTerminator</span> here]</a></span>
      <code class="t">++</code>
    </div>
    <div class="rhs">
      <span class="nt">LeftHandSideExpression</span>
      <span class="grhsannot"><a href="#def-restricted-production">[no
        <span class="nt">LineTerminator</span> here]</a></span>
      <code class="t">--</code>
    </div>
  </div>

  <div class="example gp">
    <div class="lhs">
      <span class="nt">ContinueStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">continue</code>
      <span class="grhsannot"><a href="#def-restricted-production">[no
        <span class="nt">LineTerminator</span> here]</a></span>
      <span class="nt">Identifier</span><sub>opt</sub>
      <code class="t">;</code>
    </div>
  </div>

  <div class="example gp">
    <div class="lhs">
      <span class="nt">BreakStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">break</code>
      <span class="grhsannot"><a href="#def-restricted-production">[no
        <span class="nt">LineTerminator</span> here]</a></span>
      <span class="nt">Identifier</span><sub>opt</sub>
      <code class="t">;</code>
    </div>
  </div>

  <div class="example gp">
    <div class="lhs">
      <span class="nt">ReturnStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">return</code>
      <span class="grhsannot"><a href="#def-restricted-production">[no
        <span class="nt">LineTerminator</span> here]</a></span>
      <span class="nt">Expression</span><sub>opt</sub>
      <code class="t">;</code>
    </div>
  </div>

  <div class="example gp">
    <div class="lhs">
      <span class="nt">ThrowStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">throw</code>
      <span class="grhsannot"><a href="#def-restricted-production">[no
        <span class="nt">LineTerminator</span> here]</a></span>
      <span class="nt">Expression</span>
      <code class="t">;</code>
    </div>
  </div>

  <p>The practical effect of these restricted productions is as follows:</p>

  <p>When a <code class="t">++</code> or <code class="t">--</code> token is
  encountered where the parser would treat it as a postfix operator, and at
  least one <span class="nt">LineTerminator</span> occurred between the
  preceding token and the <code class="t">++</code> or
  <code class="t">--</code> token, then a semicolon is automatically inserted
  before the <code class="t">++</code> or <code class="t">--</code> token.</p>

  <p>When a <code class="t">continue</code>, <code class="t">break</code>,
  <code class="t">return</code>, or <code class="t">throw</code> token is
  encountered and a <span class="nt">LineTerminator</span> is encountered
  before the next token, a semicolon is automatically inserted after the
  <code class="t">continue</code>, <code class="t">break</code>,
  <code class="t">return</code>, or <code class="t">throw</code> token.</p>

  <p>The resulting practical advice to ECMAScript programmers is:</p>

  <p>A postfix <code class="t">++</code> or <code class="t">--</code> operator
  should appear on the same line as its operand.</p>

  <p>An <span class="nt">Expression</span> in a <code class="t">return</code>
  or <code class="t">throw</code> statement should start on the same line as
  the <code class="t">return</code> or <code class="t">throw</code> token.</p>

  <p>An <span class="nt">Identifier</span> in a <code class="t">break</code> or
  <code class="t">continue</code> statement should be on the same line as the
  <code class="t">break</code> or <code class="t">continue</code> token.</p>
</div>
</section>

<section id="sec-7.9.2">
<span class="pagemark" id="page37">PDF page 37 / printed page 27</span>
<h1><span class="secnum"><a href="#sec-7.9.2"
    title="link to this section">7.9.2</a></span>
    Examples of Automatic Semicolon
Insertion</h1>

<p>The source</p>

<pre>{ 1 2 } 3</pre>

<p>is not a valid sentence in the ECMAScript grammar, even with the automatic
semicolon insertion rules. In contrast, the source</p>

<pre>{ 1
2 } 3</pre>

<p>is also not a valid ECMAScript sentence, but is transformed by automatic
semicolon insertion into the following:</p>

<pre>{ 1
;2 ;} 3;</pre>

<p>which is a valid ECMAScript sentence.</p>

<p>The source</p>

<pre>for (a; b
)</pre>

<p>is not a valid ECMAScript sentence and is not altered by automatic semicolon
insertion because the semicolon is needed for the header of a
<code class="t">for</code> statement. Automatic semicolon insertion never
inserts one of the two semicolons in the header of a <code class="t">for</code>
statement.</p>

<p>The source</p>

<pre>return
a + b</pre>

<p>is transformed by automatic semicolon insertion into the following:</p>

<pre>return;
a + b;</pre>

<div class="note">
  <p><span class="nh">NOTE</span> The expression <code class="expr">a +
  b</code> is not treated as a value to be returned by the
  <code class="t">return</code> statement, because a
  <span class="nt">LineTerminator</span> separates it from the token
  <code class="t">return</code>.</p>
</div>

<p>The source</p>

<pre>a = b
++c</pre>

<p>is transformed by automatic semicolon insertion into the following:</p>

<pre>a = b;
++c;</pre>

<div class="note">
  <p><span class="nh">NOTE</span> The token <code class="t">++</code> is not
  treated as a postfix operator applying to the variable
  <code class="t">b</code>, because a <span class="nt">LineTerminator</span>
  occurs between <code class="t">b</code> and <code class="t">++</code>.</p>
</div>

<p>The source</p>

<pre>if (a &gt; b)
else c = d</pre>

<p>is not a valid ECMAScript sentence and is not altered by automatic semicolon
insertion before the <code class="t">else</code> token, even though no
production of the grammar applies at that point, because an automatically
inserted semicolon would then be parsed as an empty statement.</p>

<p>The source</p>

<pre>a = b + c
(d + e).print()</pre>

<p>is <em>not</em> transformed by automatic semicolon insertion, because the
parenthesised expression that begins the second line can be interpreted as an
argument list for a function call:</p>

<pre>a = b + c(d + e).print()</pre>

<span class="pagemark" id="page38">PDF page 38 / printed page 28</span>
<p>In the circumstance that an assignment statement must begin with a left
parenthesis, it is a good idea for the programmer to provide an explicit
semicolon at the end of the preceding statement rather than to rely on
automatic semicolon insertion.</p>
</section>
</section>
</section>



<section id="sec-8">
<h1><span class="secnum"><a href="#sec-8"
    title="link to this section">8</a></span>
    Types</h1>

<p>Algorithms within this specification manipulate values each of which has an
associated type. The possible value types are exactly those defined in this
clause. Types are further subclassified into ECMAScript language types and
specification types.</p>

<p>An ECMAScript language type corresponds to values that are directly
manipulated by an ECMAScript programmer using the ECMAScript language. The
ECMAScript language types are <a href="#sec-8.1">Undefined</a>,
<a href="#sec-8.2">Null</a>, <a href="#sec-8.3">Boolean</a>,
<a href="#sec-8.4">String</a>, <a href="#sec-8.5">Number</a>, and
<a href="#sec-8.6">Object</a>.</p>

<p>A specification type corresponds to meta-values that are used within
algorithms to describe the semantics of ECMAScript language constructs and
ECMAScript language types. The specification types are
<a href="#sec-8.7">Reference</a>, <a href="#sec-8.8">List</a>,
<a href="#sec-8.9">Completion</a>, <a href="#sec-8.10">Property Descriptor</a>,
<a href="#def-property-identifier">Property Identifier</a>,
<a href="#sec-10.2">Lexical Environment</a>, and
<a href="#sec-10.2.1">Environment Record</a>. Specification type values are
specification artefacts that do not necessarily correspond to any specific
entity within an ECMAScript implementation. Specification type values may be
used to describe intermediate results of ECMAScript expression evaluation but
such values cannot be stored as properties of objects or values of ECMAScript
language variables.</p>

<p id="def-type">Within this specification, the notation
&ldquo;Type(<var>x</var>)&rdquo; is used as shorthand for &ldquo;the type of
<var>x</var>&rdquo; where &ldquo;type&rdquo; refers to the ECMAScript language
and specification types defined in this clause.</p>


<section id="sec-8.1">
<h1><span class="secnum"><a href="#sec-8.1"
    title="link to this section">8.1</a></span>
    The Undefined Type</h1>

<p>The Undefined type has exactly one value, called
<span class="value">undefined</span>. Any variable that has not been assigned a
value has the value <span class="value">undefined</span>.</p>
</section>


<section id="sec-8.2">
<h1><span class="secnum"><a href="#sec-8.2"
    title="link to this section">8.2</a></span>
    The Null Type</h1>

<p>The Null type has exactly one value, called
<span class="value">null</span>.</p>
</section>


<section id="sec-8.3">
<h1><span class="secnum"><a href="#sec-8.3"
    title="link to this section">8.3</a></span>
    The Boolean Type</h1>

<p>The Boolean type represents a logical entity having two values, called
<span class="value">true</span> and <span class="value">false</span>.</p>
</section>


<section id="sec-8.4">
<h1><span class="secnum"><a href="#sec-8.4"
    title="link to this section">8.4</a></span>
    The String Type</h1>

<p>The String type is the set of all finite ordered sequences of zero or more
16-bit unsigned integer values (&ldquo;elements&rdquo;). The String type is
generally used to represent textual data in a running ECMAScript program, in
which case each element in the String is treated as a code unit value
(<a href="#sec-6">see Clause 6</a>). Each element is regarded as occupying a
position within the sequence. These positions are indexed with nonnegative
integers. The first element (if any) is at position 0, the next element (if
any) at position 1, and so on. The length of a String is the number of elements
(i.e., 16-bit values) within it. The empty String has length zero and therefore
contains no elements.</p>

<p>When a String contains actual textual data, each element is considered to be
a single UTF-16 code unit. Whether or not this is the actual storage format of
a String, the characters within a String are numbered by their initial code
unit element position as though they were represented using UTF-16. All
operations on Strings (except as otherwise stated) treat them as sequences of
undifferentiated 16-bit unsigned integers; they do not ensure the resulting
String is in normalised form, nor do they ensure language-sensitive
results.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The rationale behind this design was to keep
  the implementation of Strings as simple and high-performing as possible. The
  intent is that textual data coming into the execution environment from
  outside (e.g., user input, text read from a file or received over the
  network, etc.) be converted to Unicode Normalised Form C before the running
  program <span class="pagemark" id="page39">PDF page 39 / printed page
  29</span> sees it. Usually this would occur at the same time incoming text is
  converted from its original character encoding to Unicode (and would impose
  no additional overhead). Since it is recommended that ECMAScript source code
  be in Normalised Form C, string literals are guaranteed to be normalised (if
  source text is guaranteed to be normalised), as long as they do not contain
  any Unicode escape sequences.</p>
</div>
</section>


<section id="sec-8.5">
<h1><span class="secnum"><a href="#sec-8.5"
    title="link to this section">8.5</a></span>
    The Number Type</h1>

<p>The Number type has exactly 18437736874454810627 (that is,
2<sup>64</sup>&minus;2<sup>53</sup>+3) values, representing the
double-precision 64-bit format IEEE 754 values as specified in the IEEE
Standard for Binary Floating-Point Arithmetic, except that the 9007199254740990
(that is, 2<sup>53</sup>&minus;2) distinct &ldquo;Not-a-Number&rdquo; values of
the IEEE Standard are represented in ECMAScript as a single special
<span class="value">NaN</span> value. (Note that the
<span class="value">NaN</span> value is produced by the program expression
<span class="value">NaN</span>.) In some implementations, external code might
be able to detect a difference between various Not-a-Number values, but such
behaviour is implementation-dependent; to ECMAScript code, all NaN values are
indistinguishable from each other.</p>

<p>There are two other special values, called <span class="value">positive
Infinity</span> and <span class="value">negative Infinity</span>. For brevity,
these values are also referred to for expository purposes by the symbols
<span class="value">+&infin;</span> and
<span class="value">&minus;&infin;</span>, respectively. (Note that these two
infinite Number values are produced by the program expressions
<code class="expr">+Infinity</code> (or simply
<code class="expr">Infinity</code>) and
<code class="expr">-Infinity</code>.)</p>

<p>The other 18437736874454810624 (that is,
2<sup>64</sup>&minus;2<sup>53</sup>) values are called the finite numbers. Half
of these are positive numbers and half are negative numbers; for every finite
positive Number value there is a corresponding negative value having the same
magnitude.</p>

<p>Note that there is both a <span class="value">positive zero</span> and a
<span class="value">negative zero</span>. For brevity, these values are also
referred to for expository purposes by the symbols
<span class="value">+0</span> and <span class="value">&minus;0</span>,
respectively. (Note that these two different zero Number values are produced by
the program expressions <code class="expr">+0</code> (or simply
<code class="expr">0</code>) and <code class="expr">&minus;0</code>.)</p>

<p>The 18437736874454810622 (that is,
2<sup>64</sup>&minus;2<sup>53</sup>&minus;2) finite nonzero values are of two
kinds:</p>

<p>18428729675200069632 (that is, 2<sup>64</sup>&minus;2<sup>54</sup>) of them
are normalised, having the form</p>

<p style="margin-left: 4em"><var>s</var> &times; <var>m</var> &times;
2<sup><var>e</var></sup></p>

<p>where <var>s</var> is +1 or &minus;1, <var>m</var> is a positive integer
less than 2<sup>53</sup> but not less than 2<sup>52</sup>, and <var>e</var> is
an integer ranging from &minus;1074 to 971, inclusive.</p>

<p>The remaining 9007199254740990 (that is, 2<sup>53</sup>&minus;2) values are
denormalised, having the form</p>

<p style="margin-left: 4em"><var>s</var> &times; <var>m</var> &times;
2<sup><var>e</var></sup></p>

<p>where <var>s</var> is +1 or &minus;1, <var>m</var> is a positive integer
less than 2<sup>52</sup>, and <var>e</var> is &minus;1074.</p>

<p>Note that all the positive and negative integers whose magnitude is no
greater than 2<sup>53</sup> are representable in the Number type (indeed, the
integer 0 has two representations, <span class="value">+0</span> and
<span class="value">&minus;0</span>).</p>

<p>A finite number has an <dfn>odd significand</dfn> if it is nonzero and the
integer <var>m</var> used to express it (in one of the two forms shown above)
is odd. Otherwise, it has an <dfn>even significand</dfn>.</p>

<p>In this specification, the phrase &ldquo;the Number value for
<var>x</var>&rdquo; where <var>x</var> represents an exact nonzero real
mathematical quantity (which might even be an irrational number such as &pi;)
means a Number value chosen in the following manner. Consider the set of all
finite values of the Number type, with <span class="value">&minus;0</span>
removed and with two additional values added to it that are not representable
in the Number type, namely 2<sup>1024</sup> (which is +1 &times; 2<sup>53</sup>
&times; 2<sup>971</sup>) and &minus;2<sup>1024</sup> (which is &minus;1 &times;
2<sup>53</sup> &times; 2<sup>971</sup>). Choose the member of this set that is
closest in value to <var>x</var>. If two values of the set are equally close,
then the one with an even significand is chosen; for this purpose, the two
extra values 2<sup>1024</sup> and &minus;2<sup>1024</sup> are considered to
have even significands. Finally, if 2<sup>1024</sup> was chosen, replace it
with <span class="value">+&infin;</span>; if &minus;2<sup>1024</sup> was
chosen, replace it with &minus;&infin;; if <span class="value">+0</span> was
chosen, replace it with <span class="value">&minus;0</span> if and only if
<var>x</var> is less than zero; any other chosen value is used unchanged. The
result is the Number value for <var>x</var>. (This procedure corresponds
exactly to the behaviour of the IEEE 754 &ldquo;round to nearest&rdquo;
mode.)</p>

<span class="pagemark" id="page40">PDF page 40 / printed page 30</span>
<p>Some ECMAScript operators deal only with integers in the range
&minus;2<sup>31</sup> through 2<sup>31</sup>&minus;1, inclusive, or in the
range 0 through 2<sup>32</sup>&minus;1, inclusive. These operators accept any
value of the Number type but first convert each such value to one of
2<sup>32</sup> integer values. See the descriptions of the
<a href="#sec-9.5">ToInt32</a> and <a href="#sec-9.6">ToUint32</a> operators in
<a href="#sec-9.5">9.5</a> and <a href="#sec-9.6">9.6</a>, respectively.</p>
</section>


<section id="sec-8.6">
<h1><span class="secnum"><a href="#sec-8.6"
    title="link to this section">8.6</a></span>
    The Object Type</h1>

<p>An Object is a collection of properties. Each property is either a named
data property, a named accessor property, or an internal property:</p>

<ul>

  <li id="def-named-data-property"><p>A <dfn>named data property</dfn>
      associates a name with an ECMAScript language value and a set of Boolean
      attributes.</p></li>

  <li id="def-named-accessor-property"><p>A <dfn>named accessor property</dfn>
      associates a name with one or two accessor functions, and a set of
      Boolean attributes. The accessor functions are used to store or retrieve
      an ECMAScript language value that is associated with the
      property.</p></li>

  <li><p>An <dfn><a href="#sec-8.6.2">internal property</a></dfn> has no name
      and is not directly accessible via ECMAScript language operators.
      Internal properties exist purely for specification purposes.</p></li>

</ul>

<p>There are two kinds of access for named (non-internal) properties:
<i>get</i> and <i>put</i>, corresponding to retrieval and assignment,
respectively.</p>

<section id="sec-8.6.1">
<h1><span class="secnum"><a href="#sec-8.6.1"
    title="link to this section">8.6.1</a></span>
    Property Attributes</h1>

<p>Attributes are used in this specification to define and explain the state of
named properties. A <a href="#def-named-data-property">named data property</a>
associates a name with the attributes listed in Table 5:</p>

<figure id="table5">
<figcaption>Table 5 &mdash; Attributes of a Named Data Property</figcaption>
<table class="real-table">
  <tr>
    <th>Attribute Name</th>
    <th>Value Domain</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>[[Value]]</td>
    <td>Any ECMAScript language type</td>
    <td>The value retrieved by reading the property.</td>
  </tr>
  <tr>
    <td>[[Writable]]</td>
    <td>Boolean</td>
    <td>If <span class="value">false</span>, attempts by ECMAScript code to
        change the property&rsquo;s [[Value]] attribute using [[Put]] will not
        succeed.</td>
  </tr>
  <tr>
    <td>[[Enumerable]]</td>
    <td>Boolean</td>
    <td>If <span class="value">true</span>, the property will be enumerated by
        a for-in enumeration (<a href="#sec-12.6.4">see 12.6.4</a>). Otherwise,
        the property is said to be non-enumerable.</td>
  </tr>
  <tr>
    <td>[[Configurable]]</td>
    <td>Boolean</td>
    <td>If <span class="value">false</span>, attempts to delete the property,
        change the property to be an accessor property, or change its
        attributes (other than [[Value]]) will fail.</td>
  </tr>
</table>
</figure>

<p>A <a href="#def-named-accessor-property">named accessor property</a>
associates a name with the attributes listed in Table 6.</p>

<span class="pagemark" id="page41">PDF page 41 / printed page 31</span>
<figure id="table6">
<figcaption>Table 6 &mdash; Attributes of a Named Accessor
    Property</figcaption>
<table class="real-table">
  <tr>
    <th>Attribute Name</th>
    <th>Value Domain</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>[[Get]]</td>
    <td>Object <span class="typecombinator">or</span> Undefined</td>
    <td>If the value is an Object it must be a function Object. The
        function&rsquo;s [[Call]] internal method
        (<a href="#sec-8.6.2">8.6.2</a>) is called with an empty arguments list
        to return the property value each time a get access of the property is
        performed.</td>
  </tr>
  <tr>
    <td>[[Set]]</td>
    <td>Object <span class="typecombinator">or</span> Undefined</td>
    <td>If the value is an Object it must be a function Object. The
        function&rsquo;s [[Call]] internal method
        (<a href="#sec-8.6.2">8.6.2</a>) is called with an arguments list
        containing the assigned value as its sole argument each time a set
        access of the property is performed. The effect of a property&rsquo;s
        [[Set]] internal method may, but is not required to, have an effect on
        the value returned by subsequent calls to the property&rsquo;s [[Get]]
        internal method.</td>
  </tr>
  <tr>
    <td>[[Enumerable]]</td>
    <td>Boolean</td>
    <td>If <span class="value">true</span>, the property is to be enumerated by
        a for-in enumeration (<a href="#sec-12.6.4">see 12.6.4</a>). Otherwise,
        the property is said to be non-enumerable.</td>
  </tr>
  <tr>
    <td>[[Configurable]]</td>
    <td>Boolean</td>
    <td>If <span class="value">false</span>, attempts to delete the property,
        change the property to be a data property, or change its attributes
        will fail.</td>
  </tr>
</table>
</figure>

<p>If the value of an attribute is not explicitly specified by this
specification for a named property, the default value defined in Table 7 is
used.</p>

<figure id="table7">
<figcaption>Table 7 &mdash; Default Attribute Values</figcaption>
<table class="real-table">
  <tr>
    <th>Attribute Name</th>
    <th>Default Value</th>
  </tr>
  <tr>
    <td>[[Value]]</td>
    <td><span class="value">undefined</span></td>
  </tr>
  <tr>
    <td>[[Get]]</td>
    <td><span class="value">undefined</span></td>
  </tr>
  <tr>
    <td>[[Set]]</td>
    <td><span class="value">undefined</span></td>
  </tr>
  <tr>
    <td>[[Writable]]</td>
    <td><span class="value">false</span></td>
  </tr>
  <tr>
    <td>[[Enumerable]]</td>
    <td><span class="value">false</span></td>
  </tr>
  <tr>
    <td>[[Configurable]]</td>
    <td><span class="value">false</span></td>
  </tr>
</table>
</figure>

</section>

<section id="sec-8.6.2">
<h1><span class="secnum"><a href="#sec-8.6.2"
    title="link to this section">8.6.2</a></span>
    Object Internal Properties and Methods</h1>

<p>This specification uses various internal properties to define the semantics
of object values. These internal properties are not part of the ECMAScript
language. They are defined by this specification purely for expository
purposes. An implementation of ECMAScript must behave as if it produced and
operated upon internal properties in the manner described here. The names of
internal properties are enclosed in double square brackets [[ ]]. When an
algorithm uses an internal property of an object and the object does not
implement the indicated internal property, a
<span class="errorname">TypeError</span> exception is thrown.</p>

<p>The Table 8 summarises the internal properties used by this specification
that are applicable to all ECMAScript objects. The Table 9 summarises the
internal properties used by this specification that are only applicable to some
ECMAScript objects. The descriptions in these tables indicates their behaviour
for native ECMAScript objects, unless stated otherwise in this document for
particular kinds of native ECMAScript objects. Host objects may support these
internal properties with any implementation-dependent behaviour as long as it
is consistent with the specific host object restrictions stated in this
document.</p>

<p>The &ldquo;Value Type Domain&rdquo; columns of the following tables define
the types of values associated with internal properties. The type names refer
to the types defined in <a href="#sec-8">Clause 8</a> augmented by the
following additional names. &ldquo;<span class="typename">any</span>&rdquo;
means the value may be any ECMAScript language type.
&ldquo;<span class="typename">primitive</span>&rdquo; means Undefined, Null,
Boolean, String, or Number. &ldquo;<span class="typename">SpecOp</span>&rdquo;
means the internal property is an internal method, an implementation provided
procedure defined by an abstract operation specification. &ldquo;SpecOp&rdquo;
is followed by a list of descriptive <span class="pagemark" id="page42">PDF
page 42 / printed page 32</span> parameter names. If a parameter name is the
same as a type name then the name describes the type of the parameter. If a
&ldquo;SpecOp&rdquo; returns a value, its parameter list is followed by the
symbol &ldquo;&rarr;&rdquo; and the type of the returned value.</p>

<figure id="table8">
<figcaption>Table 8 &mdash; Internal Properties Common to All
    Objects</figcaption>
<table class="real-table">
  <tr>
    <th>Internal Property</th>
    <th>Value Type Domain</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>[[Prototype]]</td>
    <td>Object <span class="typecombinator">or</span> Null</td>
    <td>The prototype of this object.</td>
  </tr>
  <tr>
    <td>[[Class]]</td>
    <td>String</td>
    <td>A String value indicating a specification defined classification of
        objects.</td>
  </tr>
  <tr>
    <td>[[Extensible]]</td>
    <td>Boolean</td>
    <td>If <span class="value">true</span>, own properties may be added to the
        object.</td>
  </tr>
  <tr>
    <td>[[Get]]</td>
    <td>SpecOp(<var>propertyName</var>) &rarr; any</td>
    <td>Returns the value of the named property.</td>
  </tr>
  <tr>
    <td>[[GetOwnProperty]]</td>
    <td>SpecOp (<var>propertyName</var>) &rarr; Undefined
        <span class="typecombinator">or</span> <a href="#sec-8.10">Property
        Descriptor</a></td>
    <td>Returns the <a href="#sec-8.10">Property Descriptor</a> of the named
        own property of this object, or <span class="value">undefined</span> if
        absent.</td>
  </tr>
  <tr>
    <td>[[GetProperty]]</td>
    <td>SpecOp (<var>propertyName</var>) &rarr; Undefined
        <span class="typecombinator">or</span> <a href="#sec-8.10">Property
        Descriptor</a></td>
    <td>Returns the <a href="#def-fully-populated">fully populated</a>
        <a href="#sec-8.10">Property Descriptor</a> of the named property of
        this object, or <span class="value">undefined</span> if absent.</td>
  </tr>
  <tr>
    <td>[[Put]]</td>
    <td>SpecOp (<var>propertyName</var>, <var>any</var>,
        <var>Boolean</var>)</td>
    <td>Sets the specified named property to the value of the second parameter.
        The flag controls failure handling.</td>
  </tr>
  <tr>
    <td>[[CanPut]]</td>
    <td>SpecOp (<var>propertyName</var>) &rarr; Boolean</td>
    <td>Returns a Boolean value indicating whether a [[Put]] operation with
        <var>PropertyName</var> can be performed.</td>
  </tr>
  <tr>
    <td>[[HasProperty]]</td>
    <td>SpecOp (<var>propertyName</var>) &rarr;
        <span class="typename">Boolean</span></td>
    <td>Returns a Boolean value indicating whether the object already has a
        property with the given name.</td>
  </tr>
  <tr>
    <td>[[Delete]]</td>
    <td>SpecOp (<var>propertyName</var>, <var>Boolean</var>) &rarr;
        Boolean</td>
    <td>Removes the specified named own property from the object. The flag
        controls failure handling.</td>
  </tr>
  <tr>
    <td>[[DefaultValue]]</td>
    <td>SpecOp (<var>Hint</var>) &rarr;
        <span class="typename">primitive</span></td>
    <td><var>Hint</var> is a String. Returns a default value for the
    object.</td>
  </tr>
  <tr>
    <td>[[DefineOwnProperty]]</td>
    <td>SpecOp (<var>propertyName</var>, <var>PropertyDescriptor</var>,
        <var>Boolean</var>) &rarr; Boolean</td>
    <td>Creates or alters the named own property to have the state described by
        a <a href="#sec-8.10">Property Descriptor</a>. The flag controls
        failure handling.</td>
  </tr>
</table>
</figure>

<p>Every object (including host objects) must implement all of the internal
properties listed in Table 8. However, the [[DefaultValue]] internal method
may, for some objects, simply throw a <span class="errorname">TypeError</span>
exception.</p>

<p id="def-prototype">All objects have an internal property called
[[Prototype]]. The value of this property is either
<span class="value">null</span> or an object and is used for implementing
inheritance. Whether or not a native object can have a host object as its
[[Prototype]] depends on the implementation. Every [[Prototype]] chain must
have finite length (that is, starting from any object, recursively accessing
the [[Prototype]] internal property must eventually lead to a
<span class="value">null</span> value).
<a href="#def-named-data-property">Named data properties</a> of the
[[Prototype]] object are inherited (are visible as properties of the child
object) for the purposes of get access, but not for put access.
<a href="#def-named-accessor-property">Named accessor properties</a> are
inherited for both get access and put access.</p>

<p>Every ECMAScript object has a Boolean-valued [[Extensible]] internal
property that controls whether or not named properties may be added to the
object. If the value of the [[Extensible]] internal property is
<span class="value">false</span> then additional named properties may not be
added to the object. In addition, if [[Extensible]] is
<span class="value">false</span> the value of the [[Class]] and [[Prototype]]
internal properties of the object may not be modified. Once the value of an
[[Extensible]] internal property has been set to
<span class="value">false</span> it may not be subsequently changed to
<span class="value">true</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> This specification defines no ECMAScript
  language operators or built-in functions that permit a program to modify an
  object&rsquo;s [[Class]] or [[Prototype]] internal properties or to change
  the value of [[Extensible]] from <span class="value">false</span> to
  <span class="value">true</span>. <span class="pagemark" id="page43">PDF page
  43 / printed page 33</span> Implementation specific extensions that modify
  [[Class]], [[Prototype]] or [[Extensible]] must not violate the invariants
  defined in the preceding paragraph.</p>
</div>

<p>The value of the [[Class]] internal property is defined by this
specification for every kind of built-in object. The value of the [[Class]]
internal property of a host object may be any String value except one of
<span class="string value">"Arguments"</span>, <span class="string
value">"Array"</span>, <span class="string value">"Boolean"</span>,
<span class="string value">"Date"</span>, <span class="string
value">"Error"</span>, <span class="string value">"Function"</span>,
<span class="string value">"JSON"</span>, <span class="string
value">"Math"</span>, <span class="string value">"Number"</span>,
<span class="string value">"Object"</span>, <span class="string
value">"RegExp"</span>, and <span class="string value">"String"</span>. The
value of a [[Class]] internal property is used internally to distinguish
different kinds of objects. Note that this specification does not provide any
means for a program to access that value except through
<a href="#sec-15.2.4.2"><span class="libname">Object.prototype.toString</span>
(see 15.2.4.2)</a>.</p>

<p>Unless otherwise specified, the common internal methods of native ECMAScript
objects behave as described in <a href="#sec-8.12">8.12</a>. Array objects have
a slightly different implementation of the [[DefineOwnProperty]] internal
method (<a href="#sec-15.4.5.1">see 15.4.5.1</a>) and String objects have a
slightly different implementation of the [[GetOwnProperty]] internal method
(<a href="#sec-15.5.5.2">see 15.5.5.2</a>). Arguments objects
(<a href="#sec-10.6">10.6</a>) have different implementations of [[Get]],
[[GetOwnProperty]], [[DefineOwnProperty]], and [[Delete]]. Function objects
(<a href="#sec-15.3">15.3</a>) have a different implementation of [[Get]].</p>

<p>Host objects may implement these internal methods in any manner unless
specified otherwise; for example, one possibility is that [[Get]] and [[Put]]
for a particular host object indeed fetch and store property values but
[[HasProperty]] always generates <span class="value">false</span>. However, if
any specified manipulation of a host object&rsquo;s internal properties is not
supported by an implementation, that manipulation must throw a
<span class="errorname">TypeError</span> exception when attempted.</p>

<p>The [[GetOwnProperty]] internal method of a host object must conform to the
following invariants for each property of the host object:</p>

<ul>

  <li><p>If a property is described as a data property and it may return
      different values over time, then either or both of the [[Writable]] and
      [[Configurable]] attributes must be <span class="value">true</span> even
      if no mechanism to change the value is exposed via the other internal
      methods.</p></li>

  <li><p>If a property is described as a data property and its [[Writable]] and
      [[Configurable]] are both <span class="value">false</span>, then
      <a href="#sec-9.12">the SameValue (according to 9.12)</a> must be
      returned for the [[Value]] attribute of the property on all calls to
      [[GetOwnProperty]].</p></li>

  <li><p>If the attributes other than [[Writable]] may change over time or if
      the property might disappear, then the [[Configurable]] attribute must be
      <span class="value">true</span>.</p></li>

  <li><p>If the [[Writable]] attribute may change from
      <span class="value">false</span> to <span class="value">true</span>, then
      the [[Configurable]] attribute must be
      <span class="value">true</span>.</p></li>

  <li><p>If the value of the host object&rsquo;s [[Extensible]] internal
      property is has been observed by ECMAScript code to be
      <span class="value">false</span>, then if a call to [[GetOwnProperty]]
      describes a property as non-existent all subsequent calls must also
      describe that property as non-existent.</p></li>

</ul>

<p>The [[DefineOwnProperty]] internal method of a host object must not permit
the addition of a new property to a host object if the [[Extensible]] internal
property of that host object has been observed by ECMAScript code to be
<span class="value">false</span>.</p>

<p>If the [[Extensible]] internal property of that host object has been
observed by ECMAScript code to be <span class="value">false</span> then it must
not subsequently become <span class="value">true</span>.</p>

<span class="pagemark" id="page44">PDF page 44 / printed page 34</span>
<figure id="table9">
<figcaption>Table 9 &mdash; Internal Properties Only Defined for Some
  Objects</figcaption>
<table class="real-table">
  <tr>
    <th>Internal Property</th>
    <th>Value Type Domain</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>[[PrimitiveValue]]</td>
    <td><span class="typename">primitive</span></td>
    <td>Internal state information associated with this object. Of the standard
        built-in ECMAScript objects, only Boolean, Date, Number, and String
        objects implement [[PrimitiveValue]].</td>
  </tr>
  <tr>
    <td>[[Construct]]</td>
    <td>SpecOp(a <a href="#sec-8.8">List</a> of
    <span class="typename">any</span>) &rarr; Object</td>
    <td>Creates an object. Invoked via the <code class="t">new</code> operator.
        The arguments to the SpecOp are the arguments passed to the
        <code class="t">new</code> operator. Objects that implement this
        internal method are called <dfn>constructors</dfn>.</td>
  </tr>
  <tr>
    <td>[[Call]]</td>
    <td>SpecOp(<span class="typename">any</span>, a <a href="#sec-8.8">List</a>
        of <span class="typename">any</span>) &rarr;
        <span class="typename">any</span> or
        <a href="#sec-8.7">Reference</a></td>
    <td>Executes code associated with the object. Invoked via a function call
        expression. The arguments to the SpecOp are a
        <span class="this">this</span> object and a list containing the
        arguments passed to the function call expression. Objects that
        implement this internal method are <dfn>callable</dfn>. Only callable
        objects that are host objects may return
        <a href="#sec-8.7">Reference</a> values.</td>
  </tr>
  <tr>
    <td>[[HasInstance]]</td>
    <td>SpecOp(<span class="typename">any</span>) &rarr; Boolean</td>
    <td>Returns a Boolean value indicating whether the argument is likely an
        Object that was constructed by this object. Of the standard built-in
        ECMAScript objects, only Function objects implement
        [[HasInstance]].</td>
  </tr>
  <tr>
    <td>[[Scope]]</td>
    <td><a href="#sec-10.2">Lexical Environment</a></td>
    <td>A <a href="#sec-10.2">lexical environment</a> that defines the
        environment in which a Function object is executed. Of the standard
        built-in ECMAScript objects, only Function objects implement
        [[Scope]].</td>
  </tr>
  <tr>
    <td>[[FormalParameters]]</td>
    <td><a href="#sec-8.8">List</a> of Strings</td>
    <td>A possibly empty <a href="#sec-8.8">List</a> containing the identifier
        Strings of a Function&rsquo;s
        <span class="nt">FormalParameterList</span>. Of the standard built-in
        ECMAScript objects, only Function objects implement
        [[FormalParameters]].</td>
  </tr>
  <tr>
    <td>[[Code]]</td>
    <td>ECMAScript code</td>
    <td>The ECMAScript code of a function. Of the standard built-in ECMAScript
        objects, only Function objects implement [[Code]].</td>
  </tr>
  <tr>
    <td>[[TargetFunction]]</td>
    <td>Object</td>
    <td>The target function of a function object created using the standard
        built-in
        <a href="#sec-15.3.4.5"><span class="libname">Function.prototype.bind</span></a>
        method. Only ECMAScript objects created using
        <a href="#sec-15.3.4.5"><span class="libname">Function.prototype.bind</span></a>
        have a [[TargetFunction]] internal property.</td>
  </tr>
  <tr>
    <td>[[BoundThis]]</td>
    <td><span class="typename">any</span></td>
    <td>The pre-bound <span class="this">this</span> value of a function Object
        created using the standard built-in
        <a href="#sec-15.3.4.5"><span class="libname">Function.prototype.bind</span></a>
        method. Only ECMAScript objects created using
        <a href="#sec-15.3.4.5"><span class="libname">Function.prototype.bind</span></a>
        have a [[BoundThis]] internal property.</td>
  </tr>
  <tr>
    <td>[[BoundArguments]]</td>
    <td><a href="#sec-8.8">List</a> of <span class="typename">any</span></td>
    <td>The pre-bound argument values of a function Object created using the
        standard built-in
        <a href="#sec-15.3.4.5"><span class="libname">Function.prototype.bind</span></a>
        method. Only ECMAScript objects created using
        <a href="#sec-15.3.4.5"><span class="libname">Function.prototype.bind</span></a>
        have a [[BoundArguments]] internal property.</td>
  </tr>
  <tr>
    <td>[[Match]]</td>
    <td>SpecOp(<var>String</var>, <var>index</var>) &rarr;
        <span class="typename">MatchResult</span></td>
    <td>Tests for a regular expression match and returns a MatchResult value
        (<a href="#sec-15.10.2.1">see 15.10.2.1</a>). Of the standard built-in
        ECMAScript objects, only RegExp objects implement [[Match]].</td>
  </tr>
  <tr>
    <td>[[ParameterMap]]</td>
    <td>Object</td>
    <td>Provides a mapping between the properties of an arguments object
        (<a href="#sec-10.6">see 10.6</a>) and the formal parameters of the
        associated function. Only ECMAScript objects that are arguments objects
        have a [[ParameterMap]] internal property.</td>
  </tr>
</table>
</figure>
</section>
</section>


<section id="sec-8.7">
<h1><span class="secnum"><a href="#sec-8.7"
    title="link to this section">8.7</a></span>
    The Reference Specification Type</h1>

<p>The Reference type is used to explain the behaviour of such operators as
<code class="t">delete</code>, <code class="t">typeof</code>, and the
assignment operators. For example, the left-hand operand of an assignment is
expected to produce a <span class="pagemark" id="page45">PDF page 45 / printed
page 35</span> reference. The behaviour of assignment could, instead, be
explained entirely in terms of a case analysis on the syntactic form of the
left-hand operand of an assignment operator, but for one difficulty: function
calls are permitted to return references. This possibility is admitted purely
for the sake of host objects. No built-in ECMAScript function defined by this
specification returns a reference and there is no provision for a user-defined
function to return a reference. (Another reason not to use a syntactic case
analysis is that it would be lengthy and awkward, affecting many parts of the
specification.)</p>

<p>A <strong>Reference</strong> is a resolved name binding. A Reference
consists of three components, the <dfn>base</dfn> value, the <dfn>referenced
name</dfn> and the Boolean valued <dfn>strict reference</dfn> flag. The base
value is either <span class="value">undefined</span>, an Object, a Boolean, a
String, a Number, or an <a href="#sec-10.2.1">environment record (10.2.1)</a>.
A base value of <span class="value">undefined</span> indicates that the
reference could not be resolved to a binding. The referenced name is a
String.</p>

<p>The following abstract operations are used in this specification to access
the components of references:</p>

<ul>
  <li id="def-GetBase"><p>GetBase(<var>V</var>). Returns the base value
      component of the reference <var>V</var>.</p></li>

  <li id="def-GetReferencedName"><p>GetReferencedName(<var>V</var>). Returns
      the referenced name component of the reference <var>V</var>.</p></li>

  <li id="def-IsStrictReference"><p>IsStrictReference(<var>V</var>). Returns
      the strict reference component of the reference <var>V</var>.</p></li>

  <li id="def-HasPrimitiveBase"><p>HasPrimitiveBase(<var>V</var>). Returns
      <span class="value">true</span> if the base value is a Boolean, String,
      or Number.</p></li>

  <li id="def-IsPropertyReference"><p>IsPropertyReference(<var>V</var>).
      Returns <span class="value">true</span> if either the base value is an
      object or HasPrimitiveBase(<var>V</var>) is
      <span class="value">true</span>; otherwise returns
      <span class="value">false</span>.</p></li>

  <li id="def-IsUnresolvableReference"><p>IsUnresolvableReference(<var>V</var>).
      Returns <span class="value">true</span> if the base value is
      <span class="value">undefined</span> and <span class="value">false</span>
      otherwise.</p></li>
</ul>

<p>The following abstract operations are used in this specification to operate
on references:</p>

<section id="sec-8.7.1">
<h1><span class="secnum"><a href="#sec-8.7.1"
    title="link to this section">8.7.1</a></span>
    GetValue (V)</h1>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>V</var>) is not
      <a href="#sec-8.7">Reference</a>, return <var>V</var>.</li>

  <li>Let <var>base</var> be the result of calling
      <a href="#def-GetBase">GetBase</a>(<var>V</var>).</li>

  <li>If <a href="#def-IsUnresolvableReference"
      >IsUnresolvableReference</a>(<var>V</var>), throw a
      <span class="errorname">ReferenceError</span> exception.</li>

  <li>If
      <a href="#def-IsPropertyReference">IsPropertyReference</a>(<var>V</var>),
      then
    <ol class="block">
      <li>If <a href="#def-HasPrimitiveBase">HasPrimitiveBase</a>(<var>V</var>)
          is <span class="value">false</span>, then let <var>get</var> be the
          [[Get]] internal method of <var>base</var>, otherwise let
          <var>get</var> be the special [[Get]] internal method defined
          below.</li>

      <li>Return the result of calling the <var>get</var> internal method using
          <var>base</var> as its <span class="this">this</span> value, and
          passing
          <a href="#def-GetReferencedName">GetReferencedName</a>(<var>V</var>)
          for the argument.</li>
    </ol>
  </li>

  <li>Else, <var>base</var> must be an <a href="#sec-10.2.1">environment
      record</a>.
    <ol class="block">
      <li>Return the result of calling the GetBindingValue
          (<a href="#sec-10.2.1">see 10.2.1</a>) concrete method of
          <var>base</var> passing
          <a href="#def-GetReferencedName">GetReferencedName</a>(<var>V</var>)
          and
          <a href="#def-IsStrictReference">IsStrictReference</a>(<var>V</var>)
          as arguments.</li>
    </ol>
  </li>
</ol>

<p>The following [[Get]] internal method is used by GetValue when <var>V</var>
is a <a href="#def-IsPropertyReference">property reference</a> with a primitive
base value. It is called using <var>base</var> as its
<span class="this">this</span> value and with property <var>P</var> as its
argument. The following steps are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be
      <a href="#sec-9.9">ToObject</a>(<var>base</var>).</li>

  <li>Let <var>desc</var> be the result of calling the [[GetProperty]] internal
      method of <var>O</var> with property name <var>P</var>.</li>

  <li>If <var>desc</var> is <span class="value">undefined</span>, return
      <span class="value">undefined</span>.</li>

  <li>If <a href="#sec-8.10.2">IsDataDescriptor</a>(<var>desc</var>) is
      <span class="value">true</span>, return <var>desc</var>.[[Value]].</li>

  <li>Otherwise,
      <a href="#sec-8.10.1">IsAccessorDescriptor</a>(<var>desc</var>) must be
      <span class="value">true</span> so, let <var>getter</var> be
      <var>desc</var>.[[Get]].</li>

  <li>If <var>getter</var> is <span class="value">undefined</span>, return
      <span class="value">undefined</span>.</li>

  <li>Return the result calling the [[Call]] internal method of
      <var>getter</var> providing <var>base</var> as the
      <span class="this">this</span> value and providing no arguments.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The object that may be created in step 1 is
  not accessible outside of the above method. An implementation might choose to
  avoid the actual creation of the object. The only situation where such an
  actual property access that uses this internal method can have visible effect
  is when it invokes an accessor function.</p>
</div>
</section>

<section id="sec-8.7.2">
<h1><span class="secnum"><a href="#sec-8.7.2"
    title="link to this section">8.7.2</a></span>
    PutValue (V, W)</h1>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>V</var>) is not
      <a href="#sec-8.7">Reference</a>, throw a
      <span class="errorname">ReferenceError</span> exception.</li>

  <li><span class="pagemark" id="page46">PDF page 46 / printed page
      36</span>Let <var>base</var> be the result of calling
      <a href="#def-GetBase">GetBase</a>(<var>V</var>).</li>

  <li>If <a href="#def-IsUnresolvableReference"
      >IsUnresolvableReference</a>(<var>V</var>), then
    <ol class="block">
      <li>If
          <a href="#def-IsStrictReference">IsStrictReference</a>(<var>V</var>)
          is <span class="value">true</span>, then
        <ol class="block">
          <li>Throw a <span class="errorname">ReferenceError</span>
              exception.</li>
        </ol>
      </li>

      <li>Call the [[Put]] internal method of the global object, passing
          <a href="#def-GetReferencedName">GetReferencedName</a>(<var>V</var>)
          for the property name, <var>W</var> for the value, and
          <span class="value">false</span> for the <var>Throw</var> flag.</li>
    </ol>
  </li>

  <li>Else if
      <a href="#def-IsPropertyReference">IsPropertyReference</a>(<var>V</var>),
      then
    <ol class="block">
      <li>If <a href="#def-HasPrimitiveBase">HasPrimitiveBase</a>(<var>V</var>)
          is <span class="value">false</span>, then let <var>put</var> be the
          [[Put]] internal method of <var>base</var>, otherwise let
          <var>put</var> be the special [[Put]] internal method defined
          below.</li>

      <li>Call the <var>put</var> internal method using <var>base</var> as its
          <span class="this">this</span> value, and passing
          <a href="#def-GetReferencedName">GetReferencedName</a>(<var>V</var>)
          for the property name, <var>W</var> for the value, and
          <a href="#def-IsStrictReference">IsStrictReference</a>(<var>V</var>)
          for the <var>Throw</var> flag.</li>
    </ol>
  </li>

  <li>Else <var>base</var> must be a reference whose base is an
      <a href="#sec-10.2.1">environment record</a>. So,
    <ol class="block">
      <li>Call the SetMutableBinding (<a href="#sec-10.2.1">10.2.1</a>)
          concrete method of <var>base</var>, passing
          <a href="#def-GetReferencedName">GetReferencedName</a>(<var>V</var>),
          <var>W</var>, and
          <a href="#def-IsStrictReference">IsStrictReference</a>(<var>V</var>)
          as arguments.</li>
    </ol>
  </li>

  <li>Return.</li>
</ol>

<p>The following [[Put]] internal method is used by PutValue when <var>V</var>
is a <a href="#def-IsPropertyReference">property reference</a> with a primitive
base value. It is called using <var>base</var> as its
<span class="this">this</span> value and with property <var>P</var>, value
<var>W</var>, and Boolean flag <var>Throw</var> as arguments. The following
steps are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be
      <a href="#sec-9.9">ToObject</a>(<var>base</var>).</li>

  <li>If the result of calling the [[CanPut]] internal method of <var>O</var>
      with argument <var>P</var> is <span class="value">false</span>, then
    <ol class="block">
      <li>If <var>Throw</var> is <span class="value">true</span>, then throw a
          <span class="errorname">TypeError</span> exception.</li>

      <li>Else return.</li>
    </ol>
  </li>

  <li>Let <var>ownDesc</var> be the result of calling the [[GetOwnProperty]]
      internal method of <var>O</var> with argument <var>P</var>.</li>

  <li>If <a href="#sec-8.10.2">IsDataDescriptor</a>(<var>ownDesc</var>) is
      <span class="value">true</span>, then
    <ol class="block">
      <li>If <var>Throw</var> is <span class="value">true</span>, then throw a
          <span class="errorname">TypeError</span> exception.</li>

      <li>Else Return.</li>
    </ol>
  </li>

  <li>Let <var>desc</var> be the result of calling the [[GetProperty]] internal
      method of <var>O</var> with argument <var>P</var>. This may be either an
      own or inherited <a href="#def-accessor-property-descriptor">accessor
      property descriptor</a> or an inherited
      <a href="#def-data-property-descriptor">data property
      descriptor</a>.</li>

  <li>If <a href="#sec-8.10.1">IsAccessorDescriptor</a>(<var>desc</var>) is
      <span class="value">true</span>, then
    <ol class="block">
      <li>Let <var>setter</var> be <var>desc</var>.[[Set]] which cannot be
          <span class="value">undefined</span>.</li>

      <li>Call the [[Call]] internal method of <var>setter</var> providing
          <var>base</var> as the <span class="this">this</span> value and an argument list
          containing only <var>W</var>.</li>
    </ol>
  </li>

  <li>Else, this is a request to create an own property on the transient object
      <var>O</var>
    <ol class="block">
      <li>If <var>Throw</var> is <span class="value">true</span>, then throw a
          <span class="errorname">TypeError</span> exception.</li>
    </ol>
  </li>

  <li>Return.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The object that may be created in step 1 is
  not accessible outside of the above method. An implementation might choose to
  avoid the actual creation of that transient object. The only situations where
  such an actual property assignment that uses this internal method can have
  visible effect are when it either invokes an accessor function or is in
  violation of a <var>Throw</var> predicated error check. When <var>Throw</var>
  is <span class="value">true</span> any property assignment that would create
  a new property on the transient object throws an error.</p>
</div>
</section>
</section>


<section id="sec-8.8">
<h1><span class="secnum"><a href="#sec-8.8"
    title="link to this section">8.8</a></span>
    The List Specification Type</h1>

<p>The List type is used to explain the evaluation of argument lists
(<a href="#sec-11.2.4">see 11.2.4</a>) in <code class="t">new</code>
expressions, in function calls, and in other algorithms where a simple list of
values is needed. Values of the List type are simply ordered sequences of
values. These sequences may be of any length.</p>
</section>


<section id="sec-8.9">
<h1><span class="secnum"><a href="#sec-8.9"
    title="link to this section">8.9</a></span>
    The Completion Specification Type</h1>

<p>The Completion type is used to explain the behaviour of statements
(<span class="t">break</span>, <span class="t">continue</span>,
<span class="t">return</span> and <span class="t">throw</span>) that perform
nonlocal transfers of control. Values of the Completion type are triples of the
form (<var>type</var>, <var>value</var>, <var>target</var>), where
<var>type</var> is one of <span class="spec value">normal</span>,
<span class="spec value">break</span>, <span class="spec
value">continue</span>, <span class="spec value">return</span>, or
<span class="spec value">throw</span>, <var>value</var> is any ECMAScript
language value or <span class="spec value">empty</span>, and <var>target</var>
is any ECMAScript identifier or <span class="spec value">empty</span>.</p>

<p>The term &ldquo;abrupt completion&rdquo; refers to any completion with a
<var>type</var> other than <span class="spec value">normal</span>.</p>
</section>


<section id="sec-8.10">
<span class="pagemark" id="page47">PDF page 47 / printed page 37</span>
<h1><span class="secnum"><a href="#sec-8.10"
    title="link to this section">8.10</a></span>
    The Property Descriptor and Property Identifier Specification Types</h1>

<p>The Property Descriptor type is used to explain the manipulation and
reification of named property attributes. Values of the Property Descriptor
type are records composed of named fields where each field&rsquo;s name is an
attribute name and its value is a corresponding attribute value as specified in
<a href="#sec-8.6.1">8.6.1</a>. In addition, any field may be present or
absent.</p>

<p>Property Descriptor values may be further classified as data property
descriptors and accessor property descriptors based upon the existence or use
of certain fields. <span id="def-data-property-descriptor">A data property
descriptor is one that includes any fields named either [[Value]] or
[[Writable]].</span> <span id="def-accessor-property-descriptor">An accessor
property descriptor is one that includes any fields named either [[Get]] or
[[Set]].</span> Any property descriptor may have fields named [[Enumerable]]
and [[Configurable]]. A Property Descriptor value may not be both a data
property descriptor and an accessor property descriptor; however, it may be
neither. <span id="def-generic-property-descriptor">A generic property
descriptor is a Property Descriptor value that is neither a data property
descriptor nor an accessor property descriptor.</span>
<span id="def-fully-populated">A fully populated property descriptor is one
that is either an accessor property descriptor or a data property descriptor
and that has all of the fields that correspond to the property attributes
defined in either <a href="#sec-8.6.1">8.6.1</a> Table 5 or Table 6.</span></p>

<p>For notational convenience within this specification, an object literal-like
syntax can be used to define a property descriptor value. For example, Property
Descriptor {[[Value]]: 42, [[Writable]]: <span class="value">false</span>,
[[Configurable]]: <span class="value">true</span>} defines a data property
descriptor. Field name order is not significant. Any fields that are not
explicitly listed are considered to be absent.</p>

<p>In specification text and algorithms, dot notation may be used to refer to a
specific field of a Property Descriptor. For example, if D is a property
descriptor then D.[[Value]] is shorthand for &ldquo;the field of D named
[[Value]]&rdquo;.</p>

<p id="def-property-identifier">The Property Identifier type is used to
associate a property name with a Property Descriptor. Values of the Property
Identifier type are pairs of the form (<var>name</var>, <var>descriptor</var>),
where <var>name</var> is a String and <var>descriptor</var> is a Property
Descriptor value.</p>

<p>The following abstract operations are used in this specification to operate
upon Property Descriptor values:</p>

<section id="sec-8.10.1">
<h1><span class="secnum"><a href="#sec-8.10.1"
    title="link to this section">8.10.1</a></span>
    IsAccessorDescriptor ( Desc )</h1>

<p>When the abstract operation IsAccessorDescriptor is called with property
descriptor <var>Desc</var>, the following steps are taken:</p>

<ol class="proc">
  <li>If <var>Desc</var> is <span class="value">undefined</span>, then return
      <span class="value">false</span>.</li>

  <li>If both <var>Desc</var>.[[Get]] and <var>Desc</var>.[[Set]] are absent,
      then return <span class="value">false</span>.</li>

  <li>Return <span class="value">true</span>.</li>
</ol>
</section>

<section id="sec-8.10.2">
<h1><span class="secnum"><a href="#sec-8.10.2"
    title="link to this section">8.10.2</a></span>
    IsDataDescriptor ( Desc )</h1>

<p>When the abstract operation IsDataDescriptor is called with property
descriptor <var>Desc</var>, the following steps are taken:</p>

<ol class="proc">
  <li>If <var>Desc</var> is <span class="value">undefined</span>, then return
      <span class="value">false</span>.</li>

  <li>If both <var>Desc</var>.[[Value]] and <var>Desc</var>.[[Writable]] are
      absent, then return <span class="value">false</span>.</li>

  <li>Return <span class="value">true</span>.</li>
</ol>
</section>

<section id="sec-8.10.3">
<h1><span class="secnum"><a href="#sec-8.10.3"
    title="link to this section">8.10.3</a></span>
    IsGenericDescriptor ( Desc )</h1>

<p>When the abstract operation IsGenericDescriptor is called with property
descriptor <var>Desc</var>, the following steps are taken:</p>

<ol class="proc">
  <li>If <var>Desc</var> is <span class="value">undefined</span>, then return
      <span class="value">false</span>.</li>

  <li>If <a href="#sec-8.10.1">IsAccessorDescriptor</a>(<var>Desc</var>) and
      <a href="#sec-8.10.2">IsDataDescriptor</a>(<var>Desc</var>) are both
      <span class="value">false</span>, then return
      <span class="value">true</span>.</li>

  <li>Return <span class="value">false</span>.</li>
</ol>
</section>

<section id="sec-8.10.4">
<span class="pagemark" id="page48">PDF page 48 / printed page 38</span>
<h1><span class="secnum"><a href="#sec-8.10.4"
    title="link to this section">8.10.4</a></span>
    FromPropertyDescriptor ( Desc )</h1>

<p>When the abstract operation FromPropertyDescriptor is called with property
descriptor <var>Desc</var>, the following steps are taken:</p>

<p>The following algorithm assumes that <var>Desc</var> is a
<a href="#def-fully-populated">fully populated</a> <a href="#sec-8.10">Property
Descriptor</a>, such as that returned from [[GetOwnProperty]]
(<a href="#sec-8.12.1">see 8.12.1</a>).</p>

<ol class="proc">
  <li>If <var>Desc</var> is <span class="value">undefined</span>, then return
      <span class="value">undefined</span>.</li>

  <li>Let <var>obj</var> be the result of creating a new object as if by the
      expression <code class="expr">new Object()</code> where
      <code class="expr">Object</code> is the standard built-in constructor
      with that name.</li>

  <li>If <a href="#sec-8.10.2">IsDataDescriptor</a>(<var>Desc</var>) is
      <span class="value">true</span>, then
    <ol class="block">
      <li>Call the [[DefineOwnProperty]] internal method of <var>obj</var> with
          arguments <span class="string value">"value"</span>, Property
          Descriptor {[[Value]]: <var>Desc</var>.[[Value]], [[Writable]]:
          <span class="value">true</span>, [[Enumerable]]:
          <span class="value">true</span>, [[Configurable]]:
          <span class="value">true</span>}, and
          <span class="value">false</span>.</li>

      <li>Call the [[DefineOwnProperty]] internal method of <var>obj</var> with
          arguments <span class="string value">"writable"</span>, Property
          Descriptor {[[Value]]: <var>Desc</var>.[[Writable]], [[Writable]]:
          <span class="value">true</span>, [[Enumerable]]:
          <span class="value">true</span>, [[Configurable]]:
          <span class="value">true</span>}, and
          <span class="value">false</span>.</li>
    </ol>
  </li>

  <li>Else, <a href="#sec-8.10.1">IsAccessorDescriptor</a>(<var>Desc</var>)
      must be <span class="value">true</span>, so
    <ol class="block">
      <li>Call the [[DefineOwnProperty]] internal method of <var>obj</var> with
          arguments <span class="string value">"get"</span>, Property
          Descriptor {[[Value]]: <var>Desc</var>.[[Get]], [[Writable]]:
          <span class="value">true</span>, [[Enumerable]]:
          <span class="value">true</span>, [[Configurable]]:
          <span class="value">true</span>}, and
          <span class="value">false</span>.</li>

      <li>Call the [[DefineOwnProperty]] internal method of <var>obj</var> with
          arguments <span class="string value">"set"</span>, Property
          Descriptor {[[Value]]: <var>Desc</var>.[[Set]], [[Writable]]:
          <span class="value">true</span>, [[Enumerable]]:
          <span class="value">true</span>, [[Configurable]]:
          <span class="value">true</span>}, and
          <span class="value">false</span>.</li>
    </ol>
  </li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>obj</var> with
      arguments <span class="string value">"enumerable"</span>, Property
      Descriptor {[[Value]]: <var>Desc</var>.[[Enumerable]], [[Writable]]:
      <span class="value">true</span>, [[Enumerable]]:
      <span class="value">true</span>, [[Configurable]]:
      <span class="value">true</span>}, and
      <span class="value">false</span>.</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>obj</var> with
      arguments <span class="string value">"configurable"</span>, Property
      Descriptor {[[Value]]: <var>Desc</var>.[[Configurable]], [[Writable]]:
      <span class="value">true</span>, [[Enumerable]]:
      <span class="value">true</span>, [[Configurable]]:
      <span class="value">true</span>}, and
      <span class="value">false</span>.</li>

  <li>Return <var>obj</var>.</li>
</ol>
</section>

<section id="sec-8.10.5">
<h1><span class="secnum"><a href="#sec-8.10.5"
    title="link to this section">8.10.5</a></span>
    ToPropertyDescriptor ( Obj )</h1>

<p>When the abstract operation ToPropertyDescriptor is called with object
<var>Desc</var>, the following steps are taken:</p>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>Obj</var>) is not Object throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Let <var>desc</var> be the result of creating a new Property Descriptor
      that initially has no fields.</li>

  <li>If the result of calling the [[HasProperty]] internal method of
      <var>Obj</var> with argument <span class="string
      value">"enumerable"</span> is <span class="value">true</span>, then
    <ol class="block">
      <li>Let <var>enum</var> be the result of calling the [[Get]] internal
          method of <var>Obj</var> with
          <span class="string value">"enumerable"</span>.</li>

      <li>Set the [[Enumerable]] field of <var>desc</var>
          to <a href="#sec-9.2">ToBoolean</a>(<var>enum</var>).</li>
    </ol>
  </li>

  <li>If the result of calling the [[HasProperty]] internal method of
      <var>Obj</var> with argument <span class="string
      value">"configurable"</span> is <span class="value">true</span>, then
    <ol class="block">
      <li>Let <var>conf</var> be the result of calling the [[Get]] internal
          method of <var>Obj</var> with argument
          <span class="string value">"configurable"</span>.</li>

      <li>Set the [[Configurable]] field of <var>desc</var>
          to <a href="#sec-9.2">ToBoolean</a>(<var>conf</var>).</li>
    </ol>
  </li>

  <li>If the result of calling the [[HasProperty]] internal method of
      <var>Obj</var> with argument <span class="string value">"value"</span> is
      <span class="value">true</span>, then
    <ol class="block">
      <li>Let <var>value</var> be the result of calling the [[Get]] internal
          method of <var>Obj</var> with argument <span class="string
          value">"value"</span>.</li>

      <li>Set the [[Value]] field of <var>desc</var> to <var>value</var>.</li>
    </ol>
  </li>

  <li>If the result of calling the [[HasProperty]] internal method of
      <var>Obj</var> with argument <span class="string value">"writable"</span>
      is <span class="value">true</span>, then
    <ol class="block">
      <li>Let <var>writable</var> be the result of calling the [[Get]] internal
          method of <var>Obj</var> with argument
          <span class="string value">"writable"</span>.</li>

      <li>Set the [[Writable]] field of <var>desc</var>
          to <a href="#sec-9.2">ToBoolean</a>(<var>writable</var>).</li>
    </ol>
  </li>

  <li>If the result of calling the [[HasProperty]] internal method of
      <var>Obj</var> with argument <span class="string value">"get"</span> is
      <span class="value">true</span>, then
    <ol class="block">
      <li>Let <var>getter</var> be the result of calling the [[Get]] internal
          method of <var>Obj</var> with argument
          <span class="string value">"get"</span>.</li>

      <li>If <a href="#sec-9.11">IsCallable</a>(<var>getter</var>) is
          <span class="value">false</span> and <var>getter</var> is not
          <span class="value">undefined</span>, then throw a <span class="errorname">TypeError</span>
          exception.</li>

      <li>Set the [[Get]] field of <var>desc</var> to <var>getter</var>.</li>
    </ol>
  </li>

  <li>If the result of calling the [[HasProperty]] internal method of
      <var>Obj</var> with argument <span class="string value">"set"</span> is
      <span class="value">true</span>, then
    <ol class="block">
      <li>Let <var>setter</var> be the result of calling the [[Get]] internal
          method of <var>Obj</var> with argument
          <span class="string value">"set"</span>.</li>

      <li>If <a href="#sec-9.11">IsCallable</a>(<var>setter</var>) is
          <span class="value">false</span> and <var>setter</var> is not
          <span class="value">undefined</span>, then throw a <span class="errorname">TypeError</span>
          exception.</li>

      <li>Set the [[Set]] field of <var>desc</var> to <var>setter</var>.</li>
    </ol>
  </li>

  <li>If either <var>desc</var>.[[Get]] or <var>desc</var>.[[Set]] are present,
      then
    <ol class="block">
      <li>If either <var>desc</var>.[[Value]] or <var>desc</var>.[[Writable]]
          are present, then throw a <span class="errorname">TypeError</span> exception.</li>
    </ol>
  </li>

  <li>Return <var>desc</var>.</li>
</ol>
</section>
</section>


<section id="sec-8.11">
<span class="pagemark" id="page49">PDF page 49 / printed page 39</span>
<h1><span class="secnum"><a href="#sec-8.11"
    title="link to this section">8.11</a></span>
    The Lexical Environment and Environment Record Specification Types</h1>

<p>The <a href="#sec-10.2">Lexical Environment</a> and
<a href="#sec-10.2.1">Environment Record</a> types are used to explain the
behaviour of name resolution in nested functions and blocks. These types and
the operations upon them are defined in <a href="#sec-10">Clause 10</a>.</p>
</section>


<section id="sec-8.12">
<h1><span class="secnum"><a href="#sec-8.12"
    title="link to this section">8.12</a></span>
    Algorithms for Object Internal Methods</h1>

<p>In the following algorithm descriptions, assume <var>O</var> is a native
ECMAScript object, <var>P</var> is a String, <var>Desc</var> is a Property
Description record, and <var>Throw</var> is a Boolean flag.</p>


<section id="sec-8.12.1">
<h1><span class="secnum"><a href="#sec-8.12.1"
    title="link to this section">8.12.1</a></span>
    [[GetOwnProperty]] (P)</h1>

<p>When the [[GetOwnProperty]] internal method of <var>O</var> is called with
property name <var>P</var>, the following steps are taken:</p>

<ol class="proc">
  <li>If <var>O</var> doesn&rsquo;t have an own property with name
      <var>P</var>, return <span class="value">undefined</span>.</li>

  <li>Let <var>D</var> be a newly created <a href="#sec-8.10">Property
      Descriptor</a> with no fields.</li>

  <li>Let <var>X</var> be <var>O</var>&rsquo;s own property named
      <var>P</var>.</li>

  <li>If <var>X</var> is a data property, then
    <ol class="block">
      <li>Set <var>D</var>.[[Value]] to the value of <var>X</var>&rsquo;s [[Value]]
          attribute.</li>

      <li>Set <var>D</var>.[[Writable]] to the value of <var>X</var>&rsquo;s
          [[Writable]] attribute.</li>
    </ol>
  </li>

  <li>Else <var>X</var> is an accessor property, so
    <ol class="block">
      <li>Set <var>D</var>.[[Get]] to the value of <var>X</var>&rsquo;s [[Get]]
          attribute.</li>

      <li>Set <var>D</var>.[[Set]] to the value of <var>X</var>&rsquo;s [[Set]]
          attribute.</li>
    </ol>
  </li>

  <li>Set <var>D</var>.[[Enumerable]] to the value of <var>X</var>&rsquo;s
      [[Enumerable]] attribute.</li>

  <li>Set <var>D</var>.[[Configurable]] to the value of <var>X</var>&rsquo;s
      [[Configurable]] attribute.</li>

  <li>Return <var>D</var>.</li>
</ol>

<p>However, if <var>O</var> is a String object it has a more elaborate
[[GetOwnProperty]] internal method defined in
<a href="#sec-15.5.5.2">15.5.5.2</a>.</p>
</section>

<section id="sec-8.12.2">
<h1><span class="secnum"><a href="#sec-8.12.2"
    title="link to this section">8.12.2</a></span>
    [[GetProperty]] (P)</h1>

<p>When the [[GetProperty]] internal method of <var>O</var> is called with
property name <var>P</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>prop</var> be the result of calling the [[GetOwnProperty]]
      internal method of <var>O</var> with property name <var>P</var>.</li>

  <li>If <var>prop</var> is not <span class="value">undefined</span>, return
     <var>prop</var>.</li>

  <li>Let <var>proto</var> be the value of the [[Prototype]] internal property
      of <var>O</var>.</li>

  <li>If <var>proto</var> is <span class="value">null</span>, return
      <span class="value">undefined</span>.</li>

  <li>Return the result of calling the [[GetProperty]] internal method of
      <var>proto</var> with argument <var>P</var>.</li>
</ol>
</section>

<section id="sec-8.12.3">
<h1><span class="secnum"><a href="#sec-8.12.3"
    title="link to this section">8.12.3</a></span>
    [[Get]] (P)</h1>

<p>When the [[Get]] internal method of <var>O</var> is called with property
name <var>P</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>desc</var> be the result of calling the [[GetProperty]] internal
      method of <var>O</var> with property name <var>P</var>.</li>

  <li>If <var>desc</var> is <span class="value">undefined</span>, return
      <span class="value">undefined</span>.</li>

  <li>If <a href="#sec-8.10.2">IsDataDescriptor</a>(<var>desc</var>) is
      <span class="value">true</span>, return <var>desc</var>.[[Value]].</li>

  <li>Otherwise,
      <a href="#sec-8.10.1">IsAccessorDescriptor</a>(<var>desc</var>) must be
      true so, let <var>getter</var> be <var>desc</var>.[[Get]].</li>

  <li>If <var>getter</var> is <span class="value">undefined</span>, return
      <span class="value">undefined</span>.</li>

  <li>Return the result calling the [[Call]] internal method of
      <var>getter</var> providing <var>O</var> as the
      <span class="this">this</span> value and providing no arguments.</li>
</ol>

</section>

<section id="sec-8.12.4">
<h1><span class="secnum"><a href="#sec-8.12.4"
    title="link to this section">8.12.4</a></span>
    [[CanPut]] (P)</h1>

<p>When the [[CanPut]] internal method of <var>O</var> is called with property
name <var>P</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>desc</var> be the result of calling the [[GetOwnProperty]]
      internal method of <var>O</var> with argument <var>P</var>.</li>

  <li>If <var>desc</var> is not <span class="value">undefined</span>, then
    <ol class="block">
      <li>If <a href="#sec-8.10.1">IsAccessorDescriptor</a>(<var>desc</var>) is
          <span class="value">true</span>, then
        <ol class="block">
          <li><span class="pagemark" id="page50">PDF page 50 / printed page
              40</span>If <var>desc</var>.[[Set]] is
              <span class="value">undefined</span>, then return
              <span class="value">false</span>.</li>

          <li>Else return <span class="value">true</span>.</li>
        </ol>
      </li>

      <li>Else, <var>desc</var> must be a DataDescriptor so return the value of
          <var>desc</var>.[[Writable]].</li>
    </ol>
  </li>

  <li>Let <var>proto</var> be the [[Prototype]] internal property of
      <var>O</var>.</li>

  <li>If <var>proto</var> is <span class="value">null</span>, then return the
      value of the [[Extensible]] internal property of <var>O</var>.</li>

  <li>Let <var>inherited</var> be the result of calling the [[GetProperty]]
      internal method of <var>proto</var> with property name <var>P</var>.</li>

  <li>If <var>inherited</var> is <span class="value">undefined</span>, return
      the value of the [[Extensible]] internal property of <var>O</var>.</li>

  <li>If <a href="#sec-8.10.1">IsAccessorDescriptor</a>(<var>inherited</var>)
      is <span class="value">true</span>, then
    <ol class="block">
      <li>If <var>inherited</var>.[[Set]] is
          <span class="value">undefined</span>, then return
          <span class="value">false</span>.</li>

      <li>Else return <span class="value">true</span>.</li>
    </ol>
  </li>

  <li>Else, <var>inherited</var> must be a DataDescriptor
    <ol class="block">
      <li>If the [[Extensible]] internal property of <var>O</var> is
          <span class="value">false</span>, return
          <span class="value">false</span>.</li>

      <li>Else return the value of <var>inherited</var>.[[Writable]].</li>
    </ol>
  </li>
</ol>

<p>Host objects may define additional constraints upon [[Put]] operations. If
possible, host objects should not allow [[Put]] operations in situations where
this definition of [[CanPut]] returns false.</p>
</section>

<section id="sec-8.12.5">
<h1><span class="secnum"><a href="#sec-8.12.5"
    title="link to this section">8.12.5</a></span>
    [[Put]] ( P, V, Throw )</h1>

<p>When the [[Put]] internal method of <var>O</var> is called with property
<var>P</var>, value <var>V</var>, and Boolean flag <var>Throw</var>, the
following steps are taken:</p>

<ol class="proc">
  <li>If the result of calling the [[CanPut]] internal method of <var>O</var>
      with argument <var>P</var> is <span class="value">false</span>, then
    <ol class="block">
      <li>If <var>Throw</var> is <span class="value">true</span>, then throw a
          <span class="errorname">TypeError</span> exception.</li>

      <li>Else return.</li>
    </ol>
  </li>

  <li>Let <var>ownDesc</var> be the result of calling the [[GetOwnProperty]]
      internal method of <var>O</var> with argument <var>P</var>.</li>

  <li>If <a href="#sec-8.10.2">IsDataDescriptor</a>(<var>ownDesc</var>) is
      <span class="value">true</span>, then
    <ol class="block">
      <li>Let <var>valueDesc</var> be the <a href="#sec-8.10">Property
          Descriptor</a> {[[Value]]: <var>V</var>}.</li>

      <li>Call the [[DefineOwnProperty]] internal method of <var>O</var>
          passing <var>P</var>, <var>valueDesc</var>, and <var>Throw</var> as
          arguments.</li>

      <li>Return.</li>
    </ol>
  </li>

  <li>Let <var>desc</var> be the result of calling the [[GetProperty]] internal
      method of <var>O</var> with argument <var>P</var>. This may be either an
      own or inherited <a href="#def-accessor-property-descriptor">accessor
      property descriptor</a> or an inherited
      <a href="#def-data-property-descriptor">data property
      descriptor</a>.</li>

  <li>If <a href="#sec-8.10.1">IsAccessorDescriptor</a>(<var>desc</var>) is
      <span class="value">true</span>, then
    <ol class="block">
      <li>Let <var>setter</var> be <var>desc</var>.[[Set]] which cannot be
          <span class="value">undefined</span>.</li>

      <li>Call the [[Call]] internal method of <var>setter</var> providing
          <var>O</var> as the <span class="this">this</span> value and
          providing <var>V</var> as the sole argument.</li>
    </ol>
  </li>

  <li>Else, create a <a href="#def-named-data-property">named data property</a>
      named <var>P</var> on object <var>O</var> as follows
    <ol class="block">
      <li>Let <var>newDesc</var> be the <a href="#sec-8.10">Property
          Descriptor</a> {[[Value]]: <var>V</var>, [[Writable]]:
          <span class="value">true</span>, [[Enumerable]]:
          <span class="value">true</span>, [[Configurable]]:
          <span class="value">true</span>}.</li>

      <li>Call the [[DefineOwnProperty]] internal method of <var>O</var>
          passing <var>P</var>, <var>newDesc</var>, and <var>Throw</var> as
          arguments.</li>
    </ol>
  </li>

  <li>Return.</li>
</ol>
</section>

<section id="sec-8.12.6">
<h1><span class="secnum"><a href="#sec-8.12.6"
    title="link to this section">8.12.6</a></span>
    [[HasProperty]] (P)</h1>

<p>When the [[HasProperty]] internal method of <var>O</var> is called with
property name <var>P</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>desc</var> be the result of calling the [[GetProperty]] internal
      method of <var>O</var> with property name <var>P</var>.</li>

  <li>If <var>desc</var> is <span class="value">undefined</span>, then return
      <span class="value">false</span>.</li>

  <li>Else return <span class="value">true</span>.</li>
</ol>
</section>

<section id="sec-8.12.7">
<h1><span class="secnum"><a href="#sec-8.12.7"
    title="link to this section">8.12.7</a></span>
    [[Delete]] (P, Throw)</h1>

<p>When the [[Delete]] internal method of <var>O</var> is called with property
name <var>P</var> and the Boolean flag <var>Throw</var>, the following steps
are taken:</p>

<ol class="proc">
  <li>Let <var>desc</var> be the result of calling the [[GetOwnProperty]]
      internal method of <var>O</var> with property name <var>P</var>.</li>

  <li>If <var>desc</var> is <span class="value">undefined</span>, then return
      <span class="value">true</span>.</li>

  <li>If <var>desc</var>.[[Configurable]] is <span class="value">true</span>,
      then
    <ol class="block">
      <li>Remove the own property with name <var>P</var> from
          <var>O</var>.</li>

      <li><span class="pagemark" id="page51">PDF page 51 / printed page
          41</span>Return <span class="value">true</span>.</li>
    </ol>
  </li>

  <li>Else if <var>Throw</var>, then throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Return <span class="value">false</span>.</li>
</ol>
</section>

<section id="sec-8.12.8">
<h1><span class="secnum"><a href="#sec-8.12.8"
    title="link to this section">8.12.8</a></span>
    [[DefaultValue]] (hint)</h1>

<p>When the [[DefaultValue]] internal method of <var>O</var> is called with
hint String, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>toString</var> be the result of calling the [[Get]] internal
      method of object <var>O</var> with argument <span class="string
      value">"toString"</span>.</li>

  <li>If <a href="#sec-9.11">IsCallable</a>(<var>toString</var>) is
      <span class="value">true</span> then,
    <ol class="block">
      <li>Let <var>str</var> be the result of calling the [[Call]] internal
          method of <var>toString</var>, with <var>O</var> as the <span class="this">this</span>
          value and an empty argument list.</li>

      <li>If <var>str</var> is a primitive value, return <var>str</var>.</li>
    </ol>
  </li>

  <li>Let <var>valueOf</var> be the result of calling the [[Get]] internal
      method of object <var>O</var> with argument <span class="string
      value">"valueOf"</span>.</li>

  <li>If <a href="#sec-9.11">IsCallable</a>(<var>valueOf</var>) is
      <span class="value">true</span> then,
    <ol class="block">
      <li>Let <var>val</var> be the result of calling the [[Call]] internal
          method of <var>valueOf</var>, with <var>O</var> as the <span class="this">this</span> value and
          an empty argument list.</li>

      <li>If <var>val</var> is a primitive value, return <var>val</var>.</li>
    </ol>
  </li>

  <li>Throw a <span class="errorname">TypeError</span> exception.</li>
</ol>

<p>When the [[DefaultValue]] internal method of <var>O</var> is called with
hint Number, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>valueOf</var> be the result of calling the [[Get]] internal
      method of object <var>O</var> with argument <span class="string
      value">"valueOf"</span>.</li>

  <li>If <a href="#sec-9.11">IsCallable</a>(<var>valueOf</var>) is
      <span class="value">true</span> then,
    <ol class="block">
      <li>Let <var>val</var> be the result of calling the [[Call]] internal
          method of <var>valueOf</var>, with <var>O</var> as the <span class="this">this</span>
          value and an empty argument list.</li>

      <li>If <var>val</var> is a primitive value, return <var>val</var>.</li>
    </ol>
  </li>

  <li>Let <var>toString</var> be the result of calling the [[Get]] internal
      method of object <var>O</var> with argument <span class="string
      value">"toString"</span>.</li>

  <li>If <a href="#sec-9.11">IsCallable</a>(<var>toString</var>) is
      <span class="value">true</span> then,
    <ol class="block">
      <li>Let <var>str</var> be the result of calling the [[Call]] internal
          method of <var>toString</var>, with <var>O</var> as the <span class="this">this</span> value
          and an empty argument list.</li>

      <li>If <var>str</var> is a primitive value, return <var>str</var>.</li>
    </ol>
  </li>

  <li>Throw a <span class="errorname">TypeError</span> exception.</li>
</ol>

<p>When the [[DefaultValue]] internal method of <var>O</var> is called with no
hint, then it behaves as if the hint were Number, unless <var>O</var> is a Date
object (<a href="#sec-15.9.6">see 15.9.6</a>), in which case it behaves as if
the hint were String.</p>

<p>The above specification of [[DefaultValue]] for native objects can return
only primitive values. If a host object implements its own [[DefaultValue]]
internal method, it must ensure that its [[DefaultValue]] internal method can
return only primitive values.</p>
</section>

<section id="sec-8.12.9">
<h1><span class="secnum"><a href="#sec-8.12.9"
    title="link to this section">8.12.9</a></span>
    [[DefineOwnProperty]] (P, Desc, Throw)</h1>

<p id="def-reject-for-object">In the following algorithm, the term
&ldquo;Reject&rdquo; means &ldquo;If <var>Throw</var> is
<span class="value">true</span>, then throw a
<span class="errorname">TypeError</span> exception, otherwise return
<span class="value">false</span>&rdquo;. The algorithm contains steps that test
various fields of the <a href="#sec-8.10">Property Descriptor</a>
<var>Desc</var> for specific values. The fields that are tested in this manner
need not actually exist in <var>Desc</var>. If a field is absent then its value
is considered to be <span class="value">false</span>.</p>

<p>When the [[DefineOwnProperty]] internal method of <var>O</var> is called
with property name <var>P</var>, property descriptor <var>Desc</var>, and
Boolean flag <var>Throw</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>current</var> be the result of calling the [[GetOwnProperty]]
      internal method of <var>O</var> with property name <var>P</var>.</li>

  <li>Let <var>extensible</var> be the value of the [[Extensible]] internal
      property of <var>O</var>.</li>

  <li>If <var>current</var> is <span class="value">undefined</span> and
      <var>extensible</var> is <span class="value">false</span>, then
      <a href="#def-reject-for-object">Reject</a>.</li>

  <li>If <var>current</var> is <span class="value">undefined</span> and
      <var>extensible</var> is <span class="value">true</span>, then
    <ol class="block">
      <li>If <a href="#sec-8.10.3">IsGenericDescriptor</a>(<var>Desc</var>) or
          <a href="#sec-8.10.2">IsDataDescriptor</a>(<var>Desc</var>) is
          <span class="value">true</span>, then
        <ol class="block">
          <li>Create an own data property named <var>P</var> of object
              <var>O</var> whose [[Value]], [[Writable]], [[Enumerable]] and
              [[Configurable]] attribute values are described by
              <var>Desc</var>. If the value of an attribute field of
              <var>Desc</var> is absent, the attribute of the newly created
              property is set to its default value.</li>
        </ol>
      </li>

      <li><span class="pagemark" id="page52">PDF page 52 / printed page
          42</span>Else, <var>Desc</var> must be an
          <a href="#def-accessor-property-descriptor">accessor Property
          Descriptor</a> so,
        <ol class="block">
          <li>Create an own accessor property named <var>P</var> of object
              <var>O</var> whose [[Get]], [[Set]], [[Enumerable]] and
              [[Configurable]] attribute values are described by
              <var>Desc</var>. If the value of an attribute field of
              <var>Desc</var> is absent, the attribute of the newly created
              property is set to its default value.</li>
        </ol>
      </li>

      <li>Return <span class="value">true</span>.</li>
    </ol>
  </li>

  <li>Return <span class="value">true</span>, if every field in <var>Desc</var>
      is absent.</li>

  <li>Return <span class="value">true</span>, if every field in <var>Desc</var>
      also occurs in <var>current</var> and the value of every field in
      <var>Desc</var> is the same value as the corresponding field in
      <var>current</var> when compared using <a href="#sec-9.12">the SameValue
      algorithm (9.12)</a>.</li>

  <li>If the [[Configurable]] field of <var>current</var> is
      <span class="value">false</span> then
    <ol class="block">
      <li><a href="#def-reject-for-object">Reject</a>, if the [[Configurable]]
          field of <var>Desc</var> is <span class="value">true</span>.</li>

      <li><a href="#def-reject-for-object">Reject</a>, if the [[Enumerable]]
          field of <var>Desc</var> is present and the [[Enumerable]] fields of
          <var>current</var> and <var>Desc</var> are the Boolean negation of
          each other.</li>
    </ol>
  </li>

  <li>If <a href="#sec-8.10.3">IsGenericDescriptor</a>(<var>Desc</var>) is
      <span class="value">true</span>, then no further validation is
      required.</li>

  <li>Else, if <a href="#sec-8.10.2">IsDataDescriptor</a>(<var>current</var>)
      and <a href="#sec-8.10.2">IsDataDescriptor</a>(<var>Desc</var>) have
      different results, then
    <ol class="block">
      <li><a href="#def-reject-for-object">Reject</a>, if the [[Configurable]]
          field of <var>current</var> is
          <span class="value">false</span>.</li>

      <li>If <a href="#sec-8.10.2">IsDataDescriptor</a>(<var>current</var>) is
          <span class="value">true</span>, then
        <ol class="block">
          <li>Convert the property named <var>P</var> of object <var>O</var>
              from a data property to an accessor property. Preserve the
              existing values of the converted property&rsquo;s [[Configurable]] and
              [[Enumerable]] attributes and set the rest of the property&rsquo;s
              attributes to their default values.</li>
        </ol>
      </li>

      <li>Else,
        <ol class="block">
          <li>Convert the property named <var>P</var> of object <var>O</var>
              from an accessor property to a data property. Preserve the
              existing values of the converted property&rsquo;s [[Configurable]] and
              [[Enumerable]] attributes and set the rest of the property&rsquo;s
              attributes to their default values.</li>
        </ol>
      </li>
    </ol>
  </li>

  <li>Else, if <a href="#sec-8.10.2">IsDataDescriptor</a>(<var>current</var>)
      and <a href="#sec-8.10.2">IsDataDescriptor</a>(<var>Desc</var>) are both
      <span class="value">true</span>, then
    <ol class="block">
      <li>If the [[Configurable]] field of <var>current</var> is <span class="value">false</span>, then
        <ol class="block">
          <li><a href="#def-reject-for-object">Reject</a>, if the [[Writable]]
              field of <var>current</var> is <span class="value">false</span>
              and the [[Writable]] field of <var>Desc</var> is
              <span class="value">true</span>.</li>

          <li>If the [[Writable]] field of <var>current</var> is <span class="value">false</span>, then
            <ol class="block">
              <li><a href="#def-reject-for-object">Reject</a>, if the [[Value]]
                  field of <var>Desc</var> is present
                  and <a href="#sec-9.12">SameValue</a>(<var>Desc</var>.[[Value]],
                  <var>current</var>.[[Value]]) is
                  <span class="value">false</span>.</li>
            </ol>
          </li>
        </ol>
      </li>

      <li>else, the [[Configurable]] field of <var>current</var> is
          <span class="value">true</span>, so any change is acceptable.</li>
    </ol>
  </li>

  <li>Else,
      <a href="#sec-8.10.1">IsAccessorDescriptor</a>(<var>current</var>)
      and
      <a href="#sec-8.10.1">IsAccessorDescriptor</a>(<var>Desc</var>)
      are both <span class="value">true</span> so,
    <ol class="block">
      <li>If the [[Configurable]] field of <var>current</var> is <span class="value">false</span>, then
        <ol class="block">
          <li><a href="#def-reject-for-object">Reject</a>, if the [[Set]] field
              of <var>Desc</var> is present
              and <a href="#sec-9.12">SameValue</a>(<var>Desc</var>.[[Set]],
              <var>current</var>.[[Set]]) is
              <span class="value">false</span>.</li>

          <li><a href="#def-reject-for-object">Reject</a>, if the [[Get]] field
              of <var>Desc</var> is present
              and <a href="#sec-9.12">SameValue</a>(<var>Desc</var>.[[Get]],
              <var>current</var>.[[Get]]) is
              <span class="value">false</span>.</li>
        </ol>
      </li>
    </ol>
  </li>

  <li>For each attribute field of <var>Desc</var> that is present, set the
      correspondingly named attribute of the property named <var>P</var> of
      object <var>O</var> to the value of the field.</li>

  <li>Return <span class="value">true</span>. However, if <var>O</var> is an
      Array object, it has a more elaborate [[DefineOwnProperty]] internal
      method defined in <a href="#sec-15.4.5.1">15.4.5.1</a>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> Step 10.b allows any field of Desc to be
  different from the corresponding field of <var>current</var> if
  <var>current</var>&rsquo;s [[Configurable]] field is
  <span class="value">true</span>. This even permits changing the [[Value]] of
  a property whose [[Writable]] attribute is <span class="value">false</span>.
  This is allowed because a <span class="value">true</span> [[Configurable]]
  attribute would permit an equivalent sequence of calls where [[Writable]] is
  first set to <span class="value">true</span>, a new [[Value]] is set, and
  then [[Writable]] is set to <span class="value">false</span>.</p>
</div>
</section>
</section>
</section>



<section id="sec-9">
<h1><span class="secnum"><a href="#sec-9"
    title="link to this section">9</a></span>
    Type Conversion and Testing</h1>

<p>The ECMAScript runtime system performs automatic type conversion as needed.
To clarify the semantics of certain constructs it is useful to define a set of
conversion abstract operations. These abstract operations are not a part of the
language; they are defined here to aid the specification of the semantics of
the language. The conversion abstract operations are polymorphic; that is, they
can accept a value of any ECMAScript language type, but not of
<a href="#sec-8">specification types</a>.</p>


<section id="sec-9.1">
<span class="pagemark" id="page53">PDF page 53 / printed page 43</span>
<h1><span class="secnum"><a href="#sec-9.1"
    title="link to this section">9.1</a></span>
    ToPrimitive</h1>

<p>The abstract operation ToPrimitive takes an <var>input</var> argument and an
optional argument <var>PreferredType</var>. The abstract operation ToPrimitive
converts its <var>input</var> argument to a non-Object type. If an object is
capable of converting to more than one primitive type, it may use the optional
hint <var>PreferredType</var> to favour that type. Conversion occurs according
to Table 10:</p>

<figure id="table10">
<figcaption>Table 10 &mdash; ToPrimitive Conversions</figcaption>
<table class="real-table">
  <tr>
    <th>Input Type</th>
    <th>Result</th>
  </tr>
  <tr>
    <td>Undefined</td>
    <td>The result equals the <var>input</var> argument (no conversion).</td>
  </tr>
  <tr>
    <td>Null</td>
    <td>The result equals the <var>input</var> argument (no conversion).</td>
  </tr>
  <tr>
    <td>Boolean</td>
    <td>The result equals the <var>input</var> argument (no conversion).</td>
  </tr>
  <tr>
    <td>Number</td>
    <td>The result equals the <var>input</var> argument (no conversion).</td>
  </tr>
  <tr>
    <td>String</td>
    <td>The result equals the <var>input</var> argument (no conversion).</td>
  </tr>
  <tr>
    <td>Object</td>
    <td>Return a default value for the Object. The default value of an object
        is retrieved by calling the [[DefaultValue]] internal method of the
        object, passing the optional hint <var>PreferredType</var>. The
        behaviour of the [[DefaultValue]] internal method is defined by this
        specification for all native ECMAScript objects in
        <a href="#sec-8.12.8">8.12.8</a>.</td>
  </tr>
</table>
</figure>
</section>


<section id="sec-9.2">
<h1><span class="secnum"><a href="#sec-9.2"
    title="link to this section">9.2</a></span>
    ToBoolean</h1>

<p>The abstract operation ToBoolean converts its argument to a value of type
Boolean according to Table 11:</p>

<figure id="table11">
<figcaption>Table 11 &mdash; ToBoolean Conversions</figcaption>
<table class="real-table">
  <tr>
    <th>Argument Type</th>
    <th>Result</th>
  </tr>
  <tr>
    <td>Undefined</td>
    <td><span class="value">false</span></td>
  </tr>
  <tr>
    <td>Null</td>
    <td><span class="value">false</span></td>
  </tr>
  <tr>
    <td>Boolean</td>
    <td>The result equals the input argument (no conversion).</td>
  </tr>
  <tr>
    <td>Number</td>
    <td>The result is <span class="value">false</span> if the argument is
        <span class="value">+0</span>, <span class="value">&minus;0</span>, or
        <span class="value">NaN</span>; otherwise the result is
        <span class="value">true</span>.</td>
  </tr>
  <tr>
    <td>String</td>
    <td>The result is <span class="value">false</span> if the argument is the
        empty String (its length is zero); otherwise the result is
        <span class="value">true</span>.</td>
  </tr>
  <tr>
    <td>Object</td>
    <td><span class="value">true</span></td>
  </tr>
</table>
</figure>
</section>


<section id="sec-9.3">
<h1><span class="secnum"><a href="#sec-9.3"
    title="link to this section">9.3</a></span>
    ToNumber</h1>

<p>The abstract operation ToNumber converts its argument to a value of type
Number according to Table 12:</p>

<span class="pagemark" id="page54">PDF page 54 / printed page 44</span>
<figure id="table12">
<figcaption>Table 12 &mdash; ToNumber Conversions</figcaption>
<table class="real-table">
  <tr>
    <th>Argument Type</th>
    <th>Result</th>
  </tr>
  <tr>
    <td>Undefined</td>
    <td><span class="value">NaN</span></td>
  </tr>
  <tr>
    <td>Null</td>
    <td><span class="value">+0</span></td>
  </tr>
  <tr>
    <td>Boolean</td>
    <td>The result is <span class="value">1</span> if the argument is
        <span class="value">true</span>. The result is
        <span class="value">+0</span> if the argument is
        <span class="value">false</span>.</td>
  </tr>
  <tr>
    <td>Number</td>
    <td>The result equals the input argument (no conversion).</td>
  </tr>
  <tr>
    <td>String</td>
    <td>See grammar and note below.</td>
  </tr>
  <tr>
    <td>Object</td>
    <td>Apply the following steps:
      <ol class="proc">
        <li>Let <var>primValue</var> be
            <a href="#sec-9.1">ToPrimitive</a>(<var>input argument</var>, hint
            Number).</li>
        <li>Return ToNumber(<var>primValue</var>).</li>
      </ol>
    </td>
  </tr>
</table>
</figure>

<section id="sec-9.3.1">
<h1><span class="secnum"><a href="#sec-9.3.1"
    title="link to this section">9.3.1</a></span>
    ToNumber Applied to the String Type</h1>

<p><a href="#sec-9.3">ToNumber</a> applied to Strings applies the following
grammar to the input String. If the grammar cannot interpret the String as an
expansion of <span class="nt">StringNumericLiteral</span>, then the result of
ToNumber is <span class="value">NaN</span>.</p>

<div class="syntax">
  <div class="gp" id="def-StringNumericLiteral">
    <div class="lhs">
      <span class="nt">StringNumericLiteral</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">StrWhiteSpace</span><sub>opt</sub>
    </div>
    <div class="rhs">
      <span class="nt">StrWhiteSpace</span><sub>opt</sub> <span class="nt">StrNumericLiteral</span> <span class="nt">StrWhiteSpace</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-StrWhiteSpace">
    <div class="lhs">
      <span class="nt">StrWhiteSpace</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">StrWhiteSpaceChar</span> <span class="nt">StrWhiteSpace</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-StrWhiteSpaceChar">
    <div class="lhs">
      <span class="nt">StrWhiteSpaceChar</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">WhiteSpace</span>
    </div>
    <div class="rhs">
      <span class="nt">LineTerminator</span>
    </div>
  </div>

  <div class="gp" id="def-StrNumericLiteral">
    <div class="lhs">
      <span class="nt">StrNumericLiteral</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">StrDecimalLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">HexIntegerLiteral</span>
    </div>
  </div>

  <div class="gp" id="def-StrDecimalLiteral">
    <div class="lhs">
      <span class="nt">StrDecimalLiteral</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">StrUnsignedDecimalLiteral</span>
    </div>
    <div class="rhs">
      <code class="t">+</code> <span class="nt">StrUnsignedDecimalLiteral</span>
    </div>
    <div class="rhs">
      <code class="t">-</code> <span class="nt">StrUnsignedDecimalLiteral</span>
    </div>
  </div>

  <div class="gp" id="def-StrUnsignedDecimalLiteral">
    <div class="lhs">
      <span class="nt">StrUnsignedDecimalLiteral</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <code class="t">Infinity</code>
    </div>
     <div class="rhs">
       <span class="nt">DecimalDigits</span> <code class="t">.</code> <span class="nt">DecimalDigits</span><sub>opt</sub> <span class="nt">ExponentPart</span><sub>opt</sub>
     </div>
    <div class="rhs">
      <code class="t">.</code> <span class="nt">DecimalDigits</span> <span class="nt">ExponentPart</span><sub>opt</sub>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigits</span> <span class="nt">ExponentPart</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="lhs">
      <span class="nt">DecimalDigits</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigit</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigits</span> <span class="nt">DecimalDigit</span>
    </div>
  </div>

  <div class="gp">
    <div class="lhs">
      <span class="nt">DecimalDigit</span> <span class="geq">:::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">0  1  2  3  4  5  6  7  8  9</code>
    </div>
  </div>

  <div class="gp">
    <div class="lhs">
      <span class="nt">ExponentPart</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">ExponentIndicator</span> <span class="nt">SignedInteger</span>
    </div>
  </div>

  <div class="gp">
    <div class="lhs">
      <span class="nt">ExponentIndicator</span> <span class="geq">:::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">e  E</code>
    </div>
  </div>

  <div class="gp">
    <span class="pagemark" id="page55">PDF page 55 / printed page 45</span>
    <div class="lhs">
      <span class="nt">SignedInteger</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigits</span>
    </div>
    <div class="rhs">
      <code class="t">+</code> <span class="nt">DecimalDigits</span>
    </div>
    <div class="rhs">
      <code class="t">-</code> <span class="nt">DecimalDigits</span>
    </div>
  </div>

  <div class="gp">
    <div class="lhs">
      <span class="nt">HexIntegerLiteral</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <code class="t">0x</code> <span class="nt">HexDigit</span>
    </div>
    <div class="rhs">
      <code class="t">0X</code> <span class="nt">HexDigit</span>
    </div>
    <div class="rhs">
      <span class="nt">HexIntegerLiteral</span> <span class="nt">HexDigit</span>
    </div>
  </div>

  <div class="gp">
    <div class="lhs">
      <span class="nt">HexDigit</span> <span class="geq">:::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f  A  B  C  D  E  F</code>
    </div>
  </div>
</div>

<p>Some differences should be noted between the syntax of a
<span class="nt">StringNumericLiteral</span> and a
<span class="nt">NumericLiteral</span> (<a href="#sec-7.8.3">see
7.8.3</a>):</p>

<ul>
  <li>A <span class="nt">StringNumericLiteral</span> may be preceded and/or
      followed by white space and/or line terminators.</li>

  <li>A <span class="nt">StringNumericLiteral</span> that is decimal may have
      any number of leading <code class="t">0</code> digits.</li>

  <li>A <span class="nt">StringNumericLiteral</span> that is decimal may be
      preceded by <code class="t">+</code> or <code class="t">-</code> to
      indicate its sign.</li>

  <li>A <span class="nt">StringNumericLiteral</span> that is empty or contains
      only white space is converted to <span class="value">+0</span>.</li>
</ul>

<p>The conversion of a String to a Number value is similar overall to the
determination of the Number value for a numeric literal
(<a href="#sec-7.8.3">see 7.8.3</a>), but some of the details are different, so
the process for converting a String numeric literal to a value of Number type
is given here in full. This value is determined in two steps: first, a
mathematical value (MV) is derived from the String numeric literal; second,
this mathematical value is rounded as described below.</p>

<ul>
  <li>The MV of <span class="prod"><span class="nt">StringNumericLiteral</span>
      <span class="geq">:::</span>
      <span class="grhsannot">[empty]</span></span> is 0.</li>

  <li>The MV of <span class="prod"><span class="nt">StringNumericLiteral</span>
      <span class="geq">:::</span> <span class="nt">StrWhiteSpace</span></span>
      is 0.</li>

  <li>The MV of <span class="prod"><span class="nt">StringNumericLiteral</span>
      <span class="geq">:::</span>
      <span class="nt">StrWhiteSpace</span><sub>opt</sub>
      <span class="nt">StrNumericLiteral</span>
      <span class="nt">StrWhiteSpace</span><sub>opt</sub></span> is the MV of
      <span class="nt">StrNumericLiteral</span>, no matter whether white space
      is present or not.</li>

  <li>The MV of <span class="prod"><span class="nt">StrNumericLiteral</span>
      <span class="geq">:::</span>
      <span class="nt">StrDecimalLiteral</span></span> is the MV of
      <span class="nt">StrDecimalLiteral</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">StrNumericLiteral</span>
      <span class="geq">:::</span>
      <span class="nt">HexIntegerLiteral</span></span> is the MV of
      <span class="nt">HexIntegerLiteral</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">StrDecimalLiteral</span>
      <span class="geq">:::</span>
      <span class="nt">StrUnsignedDecimalLiteral</span></span> is the MV of
      <span class="nt">StrUnsignedDecimalLiteral</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">StrDecimalLiteral</span>
      <span class="geq">:::</span> <code class="t">+</code>
      <span class="nt">StrUnsignedDecimalLiteral</span></span> is the MV of
      <span class="nt">StrUnsignedDecimalLiteral</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">StrDecimalLiteral</span>
      <span class="geq">:::</span> <code class="t">-</code>
      <span class="nt">StrUnsignedDecimalLiteral</span></span> is the negative
      of the MV of <span class="nt">StrUnsignedDecimalLiteral</span>. (Note
      that if the MV of <span class="nt">StrUnsignedDecimalLiteral</span> is 0,
      the negative of this MV is also 0. The rounding rule described below
      handles the conversion of this signless mathematical zero to a
      floating-point <span class="value">+0</span> or
      <span class="value">&minus;0</span> as appropriate.)</li>

  <li>The MV of
      <span class="prod"><span class="nt">StrUnsignedDecimalLiteral</span>
      <span class="geq">:::</span> <code class="t">Infinity</code></span> is
      10<sup>10000</sup> (a value so large that it will round to
      <span class="value">+&infin;</span>).</li>

  <li>The MV of
      <span class="prod"><span class="nt">StrUnsignedDecimalLiteral</span>
      <span class="geq">:::</span> <span class="nt">DecimalDigits</span>
      <code class="t">.</code></span> is the MV of
      <span class="nt">DecimalDigits</span>.</li>

  <li>The MV of
      <span class="prod"><span class="nt">StrUnsignedDecimalLiteral</span>
      <span class="geq">:::</span> <span class="nt">DecimalDigits</span>
      <code class="t">.</code> <span class="nt">DecimalDigits</span></span> is
      the MV of the first <span class="nt">DecimalDigits</span> plus (the MV of
      the second <span class="nt">DecimalDigits</span> times
      10<sup>&minus;<var>n</var></sup>), where <var>n</var> is the number of
      characters in the second <span class="nt">DecimalDigits</span>.</li>

  <li>The MV of
      <span class="prod"><span class="nt">StrUnsignedDecimalLiteral</span>
      <span class="geq">:::</span> <span class="nt">DecimalDigits</span>
      <code class="t">.</code> <span class="nt">ExponentPart</span></span> is
      the MV of <span class="nt">DecimalDigits</span> times
      10<sup><var>e</var></sup>, where <var>e</var> is the MV of
      <span class="nt">ExponentPart</span>.</li>

  <li>The MV of
      <span class="prod"><span class="nt">StrUnsignedDecimalLiteral</span>
      <span class="geq">:::</span> <span class="nt">DecimalDigits</span>
      <code class="t">.</code> <span class="nt">DecimalDigits</span>
      <span class="nt">ExponentPart</span></span> is (the MV of the first
      <span class="nt">DecimalDigits</span> plus (the MV of the second
      <span class="nt">DecimalDigits</span> times
      10<sup>&minus;<var>n</var></sup>)) times 10<sup><var>e</var></sup>, where
      <var>n</var> is the number of characters in the second
      <span class="nt">DecimalDigits</span> and <var>e</var> is the MV of
      <span class="nt">ExponentPart</span>.</li>

  <li>The MV of
      <span class="prod"><span class="nt">StrUnsignedDecimalLiteral</span>
      <span class="geq">:::</span> <code class="t">.</code>
      <span class="nt">DecimalDigits</span></span> is the MV of
      <span class="nt">DecimalDigits</span> times
      10<sup>&minus;<var>n</var></sup>, where <var>n</var> is the number of
      characters in <span class="nt">DecimalDigits</span>.</li>

  <li>The MV of <span class="nt">StrUnsignedDecimalLiteral</span>
      <span class="geq">:::</span> <span class="nt">DecimalDigits</span>
      <span class="nt">ExponentPart</span> is the MV of
      <span class="nt">DecimalDigits</span> times
      10<sup><var>e</var>&minus;<var>n</var></sup>, where <var>n</var> is the
      number of characters in <span class="nt">DecimalDigits</span> and
      <var>e</var> is the MV of <span class="nt">ExponentPart</span>.</li>

  <li>The MV of
      <span class="prod"><span class="nt">StrUnsignedDecimalLiteral</span>
      <span class="geq">:::</span> <span class="nt">DecimalDigits</span></span>
      is the MV of <span class="nt">DecimalDigits</span>.</li>

  <li>The MV of
      <span class="prod"><span class="nt">StrUnsignedDecimalLiteral</span>
      <span class="geq">:::</span> <span class="nt">DecimalDigits</span>
      <span class="nt">ExponentPart</span></span> is the MV of
      <span class="nt">DecimalDigits</span> times 10<sup><var>e</var></sup>,
      where <var>e</var> is the MV of
      <span class="nt">ExponentPart</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigits</span>
      <span class="geq">:::</span> <span class="nt">DecimalDigit</span></span>
      is the MV of <span class="nt">DecimalDigit</span>.</li>

  <li><span class="pagemark" id="page56">PDF page 56 / printed page
      46</span>The MV of
      <span class="prod"><span class="nt">DecimalDigits</span>
      <span class="geq">:::</span> <span class="nt">DecimalDigits</span>
      <span class="nt">DecimalDigit</span></span> is (the MV of
      <span class="nt">DecimalDigits</span> times 10) plus the MV of
      <span class="nt">DecimalDigit</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">ExponentPart</span>
      <span class="geq">:::</span> <span class="nt">ExponentIndicator</span>
      <span class="nt">SignedInteger</span></span> is the MV of
      <span class="nt">SignedInteger</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">SignedInteger</span>
      <span class="geq">:::</span> <span class="nt">DecimalDigits</span></span>
      is the MV of <span class="nt">DecimalDigits</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">SignedInteger</span>
      <span class="geq">:::</span> <code class="t">+</code>
      <span class="nt">DecimalDigits</span></span> is the MV of
      <span class="nt">DecimalDigits</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">SignedInteger</span>
      <span class="geq">:::</span> <code class="t">-</code>
      <span class="nt">DecimalDigits</span></span> is the negative of the MV of
      <span class="nt">DecimalDigits</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">:::</span> <code class="t">0</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">0</code></span> is 0.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">:::</span> <code class="t">1</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">1</code></span> is 1.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">:::</span> <code class="t">2</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">2</code></span> is 2.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">:::</span> <code class="t">3</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">3</code></span> is 3.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">:::</span> <code class="t">4</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">4</code></span> is 4.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">:::</span> <code class="t">5</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">5</code></span> is 5.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">:::</span> <code class="t">6</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">6</code></span> is 6.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">:::</span> <code class="t">7</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">7</code></span> is 7.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">:::</span> <code class="t">8</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">8</code></span> is 8.</li>

  <li>The MV of <span class="prod"><span class="nt">DecimalDigit</span>
      <span class="geq">:::</span> <code class="t">9</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">9</code></span> is 9.</li>

  <li>The MV of <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">a</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">A</code></span> is 10.</li>

  <li>The MV of <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">b</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">B</code></span> is 11.</li>

  <li>The MV of <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">c</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">C</code></span> is 12.</li>

  <li>The MV of <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">d</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">D</code></span> is 13.</li>

  <li>The MV of <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">e</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">E</code></span> is 14.</li>

  <li>The MV of <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">f</code></span> or of
      <span class="prod"><span class="nt">HexDigit</span>
      <span class="geq">:::</span> <code class="t">F</code></span> is 15.</li>

  <li>The MV of <span class="prod"><span class="nt">HexIntegerLiteral</span>
      <span class="geq">:::</span> <code class="t">0x</code>
      <span class="nt">HexDigit</span></span> is the MV of
      <span class="nt">HexDigit</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">HexIntegerLiteral</span>
      <span class="geq">:::</span> <code class="t">0X</code>
      <span class="nt">HexDigit</span></span> is the MV of
      <span class="nt">HexDigit</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">HexIntegerLiteral</span>
      <span class="geq">:::</span> <span class="nt">HexIntegerLiteral</span>
      <span class="nt">HexDigit</span></span> is (the MV of
      <span class="nt">HexIntegerLiteral</span> times 16) plus the MV of
      <span class="nt">HexDigit</span>.</li>
</ul>

<p>Once the exact MV for a String numeric literal has been determined, it is
then rounded to a value of the Number type. If the MV is 0, then the rounded
value is +0 unless the first non white space character in the String numeric
literal is &lsquo;<code class="t">-</code>&rsquo;, in which case the rounded
value is &minus;0. Otherwise, the rounded value must be the Number value for
the MV (in the sense defined in <a href="#sec-8.5">8.5</a>), unless the literal
includes a <span class="nt">StrUnsignedDecimalLiteral</span> and the literal
has more than 20 significant digits, in which case the Number value may be
either the Number value for the MV of a literal produced by replacing each
significant digit after the 20th with a 0 digit or the Number value for the MV
of a literal produced by replacing each significant digit after the 20th with a
0 digit and then incrementing the literal at the 20th digit position. A digit
is <dfn>significant</dfn> if it is not part of an
<span class="nt">ExponentPart</span> and</p>

<ul>
  <li>it is not <code class="ch">0</code>; or</li>

  <li>there is a nonzero digit to its left and there is a nonzero digit, not in
      the <span class="nt">ExponentPart</span>, to its right.</li>
</ul>
</section>
</section>


<section id="sec-9.4">
<h1><span class="secnum"><a href="#sec-9.4"
    title="link to this section">9.4</a></span>
    ToInteger</h1>

<p>The abstract operation ToInteger converts its argument to an integral
numeric value. This abstract operation functions as follows:</p>

<ol class="proc">
  <li>Let <var>number</var> be the result of calling
      <a href="#sec-9.3">ToNumber</a> on the input argument.</li>

  <li>If <var>number</var> is <span class="value">NaN</span>, return
      <span class="value">+0</span>.</li>

  <li>If <var>number</var> is <span class="value">+0</span>,
      <span class="value">&minus;0</span>, <span class="value">+&infin;</span>,
      or <span class="value">&minus;&infin;</span>, return
      <var>number</var>.</li>

  <li>Return the result of computing
      <a href="#def-sign">sign</a>(<var>number</var>) *
      <a href="#def-floor">floor</a>(<a href="#def-abs">abs</a>(<var>number</var>)).</li>
</ol>
</section>


<section id="sec-9.5">
<h1><span class="secnum"><a href="#sec-9.5"
    title="link to this section">9.5</a></span>
    ToInt32: (Signed 32 Bit Integer)</h1>

<p>The abstract operation ToInt32 converts its argument to one of
2<sup>32</sup> integer values in the range &minus;2<sup>31</sup> through
2<sup>31</sup>&minus;1, inclusive. This abstract operation functions as
follows:</p>

<span class="pagemark" id="page57">PDF page 57 / printed page 47</span>

<ol class="proc">
  <li>Let <var>number</var> be the result of calling
      <a href="#sec-9.3">ToNumber</a> on the input argument.</li>

  <li>If <var>number</var> is <span class="value">NaN</span>,
      <span class="value">+0</span>, <span class="value">&minus;0</span>,
      <span class="value">+&infin;</span>, or
      <span class="value">&minus;&infin;</span>, return
      <span class="value">+0</span>.</li>

  <li>Let <var>posInt</var> be <a href="#def-sign">sign</a>(<var>number</var>)
      *
      <a href="#def-floor">floor</a>(<a href="#def-abs">abs</a>(<var>number</var>)).</li>

  <li>Let <var>int32bit</var> be <var>posInt</var>
      <a href="#def-modulo">modulo</a> 2<sup>32</sup>; that is, a finite
      integer value <var>k</var> of Number type with positive sign and less
      than 2<sup>32</sup> in magnitude such that the mathematical difference of
      <var>posInt</var> and <var>k</var> is mathematically an integer multiple
      of 2<sup>32</sup>.</li>

  <li>If <var>int32bit</var> is greater than or equal to 2<sup>31</sup>, return
      <var>int32bit</var> &minus; 2<sup>32</sup>, otherwise return
      <var>int32bit</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> Given the above definition of ToInt32:</p>

  <ul>
    <li>The ToInt32 abstract operation is idempotent: if applied to a result
        that it produced, the second application leaves that value
        unchanged.</li>

    <li>ToInt32(<a href="#sec-9.6">ToUint32</a>(<var>x</var>)) is equal to
        ToInt32(<var>x</var>) for all values of <var>x</var>. (It is to
        preserve this latter property that <span class="value">+&infin;</span>
        and <span class="value">&minus;&infin;</span> are mapped to
        <span class="value">+0</span>.)</li>

    <li>ToInt32 maps <span class="value">&minus;0</span> to
        <span class="value">+0</span>.</li>
  </ul>
</div>
</section>


<section id="sec-9.6">
<h1><span class="secnum"><a href="#sec-9.6"
    title="link to this section">9.6</a></span>
    ToUint32: (Unsigned 32 Bit Integer)</h1>

<p>The abstract operation ToUint32 converts its argument to one of
2<sup>32</sup> integer values in the range 0 through 2<sup>32</sup>&minus;1,
inclusive. This abstraction operation functions as follows:</p>

<ol class="proc">
  <li>Let <var>number</var> be the result of calling
      <a href="#sec-9.3">ToNumber</a> on the input argument.</li>

  <li>If <var>number</var> is <span class="value">NaN</span>,
      <span class="value">+0</span>, <span class="value">&minus;0</span>,
      <span class="value">+&infin;</span>, or
      <span class="value">&minus;&infin;</span>, return
      <span class="value">+0</span>.</li>

  <li>Let <var>posInt</var> be <a href="#def-sign">sign</a>(<var>number</var>)
      *
      <a href="#def-floor">floor</a>(<a href="#def-abs">abs</a>(<var>number</var>)).</li>

  <li>Let <var>int32bit</var> be <var>posInt</var>
      <a href="#def-modulo">modulo</a> 2<sup>32</sup>; that is, a finite
      integer value <var>k</var> of Number type with positive sign and less
      than 2<sup>32</sup> in magnitude such that the mathematical difference of
      <var>posInt</var> and <var>k</var> is mathematically an integer multiple
      of 2<sup>32</sup>.</li>

  <li>Return <var>int32bit</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> Given the above definition of ToUInt32:</p>

  <ul>
    <li>Step 5 is the only difference between ToUint32 and
        <a href="#sec-9.5">ToInt32</a>.</li>

    <li>The ToUint32 abstract operation is idempotent: if applied to a result
        that it produced, the second application leaves that value
        unchanged.</li>

    <li>ToUint32(ToInt32(<var>x</var>)) is equal to ToUint32(<var>x</var>) for
        all values of <var>x</var>. (It is to preserve this latter property
        that <span class="value">+&infin;</span> and
        <span class="value">&minus;&infin;</span> are mapped to
        <span class="value">+0</span>.)</li>

    <li>ToUint32 maps <span class="value">&minus;0</span> to
        <span class="value">+0</span>.</li>
  </ul>
</div>
</section>


<section id="sec-9.7">
<h1><span class="secnum"><a href="#sec-9.7"
    title="link to this section">9.7</a></span>
    ToUint16: (Unsigned 16 Bit Integer)</h1>

<p>The abstract operation ToUint16 converts its argument to one of
2<sup>16</sup> integer values in the range 0 through 2<sup>16</sup>&minus;1,
inclusive. This abstract operation functions as follows:</p>

<ol class="proc">
  <li>Let <var>number</var> be the result of calling
      <a href="#sec-9.3">ToNumber</a> on the input argument.</li>

  <li>If <var>number</var> is <span class="value">NaN</span>,
      <span class="value">+0</span>, <span class="value">&minus;0</span>,
      <span class="value">+&infin;</span>, or
      <span class="value">&minus;&infin;</span>, return
      <span class="value">+0</span>.</li>

  <li>Let <var>posInt</var> be <a href="#def-sign">sign</a>(<var>number</var>)
      *
      <a href="#def-floor">floor</a>(<a href="#def-abs">abs</a>(<var>number</var>)).</li>

  <li>Let <var>int16bit</var> be <var>posInt</var>
      <a href="#def-modulo">modulo</a> 2<sup>16</sup>; that is, a finite
      integer value <var>k</var> of Number type with positive sign and less
      than 2<sup>16</sup> in magnitude such that the mathematical difference of
      <var>posInt</var> and <var>k</var> is mathematically an integer multiple
      of 2<sup>16</sup>.</li>

  <li>Return <var>int16bit</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> Given the above definition of ToUint16:</p>

  <ul>
    <li>The substitution of 2<sup>16</sup> for 2<sup>32</sup> in step 4 is the
        only difference between <a href="#sec-9.6">ToUint32</a> and
        ToUint16.</li>

    <li>ToUint16 maps <span class="value">&minus;0</span> to
        <span class="value">+0</span>.</li>
  </ul>
</div>
</section>


<section id="sec-9.8">
<h1><span class="secnum"><a href="#sec-9.8"
    title="link to this section">9.8</a></span>
    ToString</h1>

<p>The abstract operation ToString converts its argument to a value of type
String according to Table 13:</p>

<span class="pagemark" id="page58">PDF page 58 / printed page 48</span>
<figure id="table13">
<figcaption>Table 13 &mdash; ToString Conversions</figcaption>
<table class="real-table">
  <tr>
    <th>Argument Type</th>
    <th>Result</th>
  </tr>
  <tr>
    <td>Undefined</td>
    <td><span class="string value">"undefined"</span></td>
  </tr>
  <tr>
    <td>Null</td>
    <td><span class="string value">"null"</span></td>
  </tr>
  <tr>
    <td>Boolean</td>
    <td>If the argument is <span class="value">true</span>, then the result is
        <span class="string value">"true"</span>. If the argument is
        <span class="value">false</span>, then the result is
        <span class="string value">"false"</span>.</td>
  </tr>
  <tr>
    <td>Number</td>
    <td><a href="#sec-9.8.1">See 9.8.1</a>.</td>
  </tr>
  <tr>
    <td>String</td>
    <td>Return the input argument (no conversion)</td>
  </tr>
  <tr>
    <td>Object</td>
    <td>Apply the following steps:
      <ol class="proc">
        <li>Let <var>primValue</var> be
            <a href="#sec-9.1">ToPrimitive</a>(input argument, hint
            String).</li>
        <li>Return ToString(<var>primValue</var>).</li>
      </ol>
    </td>
  </tr>
</table>
</figure>

<section id="sec-9.8.1">
<h1><span class="secnum"><a href="#sec-9.8.1"
    title="link to this section">9.8.1</a></span>
    ToString Applied to the Number Type</h1>

<p>The abstract operation <a href="#sec-9.8">ToString</a> converts a Number
<var>m</var> to String format as follows:</p>

<ol class="proc">
  <li>If <var>m</var> is <span class="value">NaN</span>, return the String
      <span class="string value">"NaN"</span>.</li>

  <li>If <var>m</var> is <span class="value">+0</span> or
      <span class="value">&minus;0</span>, return the String
      <span class="string value">"0"</span>.</li>

  <li>If <var>m</var> is less than zero, return the String concatenation of the
      String <span class="string value">"-"</span> and
      ToString(&minus;<var>m</var>).</li>

  <li>If <var>m</var> is infinity, return the String <span class="string
      value">"Infinity"</span>.</li>

  <li>Otherwise, let <var>n</var>, <var>k</var>, and <var>s</var> be integers
      such that <span class="math"><var>k</var> &ge; 1</span>,
      <span class="math">10<sup><var>k</var>&minus;1</sup> &le; <var>s</var>
      &lt; 10<sup><var>k</var></sup></span>, the Number value for
      <span class="math"><var>s</var> &times;
      10<sup><var>n</var>&minus;<var>k</var></sup></span> is <var>m</var>, and
      <var>k</var> is as small as possible. Note that <var>k</var> is the
      number of digits in the decimal representation of <var>s</var>, that
      <var>s</var> is not divisible by 10, and that the least significant digit
      of <var>s</var> is not necessarily uniquely determined by these
      criteria.</li>

  <li>If <var>k</var> &le; <var>n</var> &le; 21, return the String consisting
      of the <var>k</var> digits of the decimal representation of s (in order,
      with no leading zeroes), followed by <var>n</var>&minus;<var>k</var>
      occurrences of the character
      &lsquo;<code class="ch">0</code>&rsquo;.</li>

  <li>If 0 &lt; <var>n</var> &le; 21, return the String consisting of the most
      significant <var>n</var> digits of the decimal representation of
      <var>s</var>, followed by a decimal point
      &lsquo;<code class="ch">.</code>&rsquo;, followed by the remaining
      <var>k</var>&minus;<var>n</var> digits of the decimal representation of
      <var>s</var>.</li>

  <li>If &minus;6 &lt; <var>n</var> &le; 0, return the String consisting of the
      character &lsquo;<code class="ch">0</code>&rsquo;, followed by a decimal
      point &lsquo;<code class="ch">.</code>&rsquo;, followed by
      &minus;<var>n</var> occurrences of the character
      &lsquo;<code class="ch">0</code>&rsquo;, followed by the <var>k</var>
      digits of the decimal representation of <var>s</var>.</li>

  <li>Otherwise, if <var>k</var> = 1, return the String consisting of the
      single digit of <var>s</var>, followed by lowercase character
      &lsquo;<code class="ch">e</code>&rsquo;, followed by a plus sign
      &lsquo;<code class="ch">+</code>&rsquo; or minus sign
      &lsquo;<code class="ch">-</code>&rsquo; according to whether
      <var>n</var>&minus;1 is positive or negative, followed by the decimal
      representation of the integer
      <a href="#def-abs">abs</a>(<var>n</var>&minus;1) (with no leading
      zeros).</li>

  <li>Return the String consisting of the most significant digit of the decimal
      representation of <var>s</var>, followed by a decimal point
      &lsquo;<code class="ch">.</code>&rsquo;, followed by the remaining
      <var>k</var>&minus;1 digits of the decimal representation of
      <var>s</var>, followed by the lowercase character
      &lsquo;<code class="ch">e</code>&rsquo;, followed by a plus sign
      &lsquo;<code class="ch">+</code>&rsquo; or minus sign
      &lsquo;<code class="ch">-</code>&rsquo; according to whether
      <var>n</var>&minus;1 is positive or negative, followed by the decimal
      representation of the integer
      <a href="#def-abs">abs</a>(<var>n</var>&minus;1) (with no leading
      zeros).</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE 1</span> The following observations may be useful as
  guidelines for implementations, but are not part of the normative
  requirements of this Standard:</p>

  <ul>
    <li>If <var>x</var> is any Number value other than
        <span class="value">&minus;0</span>, then
        <a href="#sec-9.3">ToNumber</a>(ToString(<var>x</var>)) is exactly the
        same Number value as <var>x</var>.</li>

    <li>The least significant digit of s is not always uniquely determined by
        the requirements listed in step 5.</li>
  </ul>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> For implementations that provide more
  accurate conversions than required by the rules above, it is recommended that
  the following alternative version of step 5 be used as a guideline:</p>

  <blockquote>
    <p>Otherwise, let <var>n</var>, <var>k</var>, and <var>s</var> be integers
    such that <span class="math"><var>k</var> &ge; 1</span>,
    <span class="math">10<sup><var>k</var>&minus;1</sup> &le; <var>s</var> &lt;
    10<sup><var>k</var></sup></span>, the Number value for
    <span class="math"><var>s</var> &times;
    10<sup><var>n</var>&minus;<var>k</var></sup></span> is <var>m</var>, and
    <var>k</var> is as small as possible. If there are multiple possibilities
    for <var>s</var>, choose the value of <var>s</var> for which
    <span class="math"><var>s</var> &times;
    10<sup><var>n</var>&minus;<var>k</var></sup></span> is closest in value to
    <var>m</var>. If there are two such possible values of <var>s</var>, choose
    the one that is even. Note that <var>k</var> is the number of digits in the
    decimal representation of <var>s</var> and that <var>s</var> is not
    divisible by 10.</p>
  </blockquote>
</div>

<div class="note">
  <p><span class="nh">NOTE 3</span> Implementers of ECMAScript may find useful
  the paper and code written by David M. Gay for binary-to-decimal conversion
  of floating-point numbers:</p>

  <p><span class="pagemark" id="page59">PDF page 59 / printed page 49</span>
  Gay, David M. Correctly Rounded Binary-Decimal and Decimal-Binary
  Conversions. Numerical Analysis, Manuscript 90-10. AT&amp;T Bell Laboratories
  (Murray Hill, New Jersey). November 30, 1990. Available as
  <a href="http://cm.bell-labs.com/cm/cs/doc/90/4-10.ps.gz"
  >http://cm.bell-labs.com/cm/cs/doc/90/4-10.ps.gz</a>. Associated code
  available as <a href="http://cm.bell-labs.com/netlib/fp/dtoa.c.gz"
  >http://cm.bell-labs.com/netlib/fp/dtoa.c.gz</a> and as
  <a href="http://cm.bell-labs.com/netlib/fp/g_fmt.c.gz"
  >http://cm.bell-labs.com/netlib/fp/g_fmt.c.gz</a> and may also be found at
  the various <a href="http://www.netlib.org/bib/mirrors.html">netlib mirror
  sites</a>.</p>
</div>
</section>
</section>


<section id="sec-9.9">
<h1><span class="secnum"><a href="#sec-9.9"
    title="link to this section">9.9</a></span>
    ToObject</h1>

<p>The abstract operation ToObject converts its argument to a value of type
Object according to Table 14:</p>

<figure id="table14">
<figcaption>Table 14 &mdash; ToObject</figcaption>
<table class="real-table">
  <tr>
    <th>Argument Type</th>
    <th>Result</th>
  </tr>
  <tr>
    <td>Undefined</td>
    <td>Throw a <span class="errorname">TypeError</span> exception.</td>
  </tr>
  <tr>
    <td>Null</td>
    <td>Throw a <span class="errorname">TypeError</span> exception.</td>
  </tr>
  <tr>
    <td>Boolean</td>
    <td>Create a new Boolean object whose [[PrimitiveValue]] internal property
        is set to the value of the argument. <a href="#sec-15.6">See 15.6</a>
        for a description of Boolean objects.</td>
  </tr>
  <tr>
    <td>Number</td>
    <td>Create a new Number object whose [[PrimitiveValue]] internal property
        is set to the value of the argument. <a href="#sec-15.7">See 15.7</a>
        for a description of Number objects.</td>
  </tr>
  <tr>
    <td>String</td>
    <td>Create a new String object whose [[PrimitiveValue]] internal property
        is set to the value of the argument. <a href="#sec-15.5">See 15.5</a>
        for a description of String objects.</td>
  </tr>
  <tr>
    <td>Object</td>
    <td>The result is the input argument (no conversion).</td>
  </tr>
</table>
</figure>
</section>


<section id="sec-9.10">
<h1><span class="secnum"><a href="#sec-9.10"
    title="link to this section">9.10</a></span>
    CheckObjectCoercible</h1>

<p>The abstract operation CheckObjectCoercible throws an error if its argument
is a value that cannot be converted to an Object using
<a href="#sec-9.9">ToObject</a>. It is defined by Table 15:</p>

<figure id="table15">
<figcaption>Table 15 &mdash; CheckObjectCoercible Results</figcaption>
<table class="real-table">
  <tr>
    <th>Argument Type</th>
    <th>Result</th>
  </tr>
  <tr>
    <td>Undefined</td>
    <td>Throw a <span class="errorname">TypeError</span> exception.</td>
  </tr>
  <tr>
    <td>Null</td>
    <td>Throw a <span class="errorname">TypeError</span> exception.</td>
  </tr>
  <tr>
    <td>Boolean</td>
    <td>Return</td>
  </tr>
  <tr>
    <td>Number</td>
    <td>Return</td>
  </tr>
  <tr>
    <td>String</td>
    <td>Return</td>
  </tr>
  <tr>
    <td>Object</td>
    <td>Return</td>
  </tr>
</table>
</figure>
</section>


<section id="sec-9.11">
<h1><span class="secnum"><a href="#sec-9.11"
    title="link to this section">9.11</a></span>
    IsCallable</h1>

<p>The abstract operation IsCallable determines if its argument, which must be
an ECMAScript language value, is a callable function Object according to Table
16:</p>

<span class="pagemark" id="page60">PDF page 60 / printed page 50</span>
<figure id="table16">
<figcaption>Table 16 &mdash; IsCallable Results</figcaption>
<table class="real-table">
  <tr>
    <th>Argument Type</th>
    <th>Result</th>
  </tr>
  <tr>
    <td>Undefined</td>
    <td>Return <span class="value">false</span>.</td>
  </tr>
  <tr>
    <td>Null</td>
    <td>Return <span class="value">false</span>.</td>
  </tr>
  <tr>
    <td>Boolean</td>
    <td>Return <span class="value">false</span>.</td>
  </tr>
  <tr>
    <td>Number</td>
    <td>Return <span class="value">false</span>.</td>
  </tr>
  <tr>
    <td>String</td>
    <td>Return <span class="value">false</span>.</td>
  </tr>
  <tr>
    <td>Object</td>
    <td>If the argument object has a [[Call]] internal method, then return
        <span class="value">true</span>, otherwise return
        <span class="value">false</span>.</td>
  </tr>
</table>
</figure>
</section>


<section id="sec-9.12">
<h1><span class="secnum"><a href="#sec-9.12"
    title="link to this section">9.12</a></span>
    The SameValue Algorithm</h1>

<p>The internal comparison abstract operation SameValue(<var>x</var>,
<var>y</var>), where <var>x</var> and <var>y</var> are ECMAScript language
values, produces <span class="value">true</span> or
<span class="value">false</span>. Such a comparison is performed as
follows:</p>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>x</var>) is different from
      <a href="#def-type">Type</a>(<var>y</var>), return
      <span class="value">false</span>.</li>

  <li>If <a href="#def-type">Type</a>(<var>x</var>) is Undefined, return
      <span class="value">true</span>.</li>

  <li>If <a href="#def-type">Type</a>(<var>x</var>) is Null, return
      <span class="value">true</span>.</li>

  <li>If <a href="#def-type">Type</a>(<var>x</var>) is Number, then.
    <ol class="block">
      <li>If <var>x</var> is NaN and <var>y</var> is NaN, return
          <span class="value">true</span>.</li>

      <li>If <var>x</var> is +0 and <var>y</var> is &minus;0, return
          <span class="value">false</span>.</li>

      <li>If <var>x</var> is &minus;0 and <var>y</var> is +0, return
          <span class="value">false</span>.</li>

      <li>If <var>x</var> is the same Number value as <var>y</var>, return
          <span class="value">true</span>.</li>

      <li>Return <span class="value">false</span>.</li>
    </ol>
  </li>

  <li>If <a href="#def-type">Type</a>(<var>x</var>) is String, then return
      <span class="value">true</span> if <var>x</var> and <var>y</var> are
      exactly the same sequence of characters (same length and same characters
      in corresponding positions); otherwise, return
      <span class="value">false</span>.</li>

  <li>If <a href="#def-type">Type</a>(<var>x</var>) is Boolean, return
      <span class="value">true</span> if <var>x</var> and <var>y</var> are both
      <span class="value">true</span> or both <span class="value">false</span>;
      otherwise, return <span class="value">false</span>.</li>

  <li>Return true if <var>x</var> and <var>y</var> refer to the same object.
      Otherwise, return <span class="value">false</span>.</li>
</ol>
</section>
</section>



<section id="sec-10">
<h1><span class="secnum"><a href="#sec-10"
    title="link to this section">10</a></span>
    Executable Code and Execution Contexts</h1>

<section id="sec-10.1">
<h1><span class="secnum"><a href="#sec-10.1"
    title="link to this section">10.1</a></span>
    Types of Executable Code</h1>

<p>There are three types of ECMAScript executable code:</p>

<ul>

  <li id="def-global-code"><p><dfn>Global code</dfn> is source text that is
      treated as an ECMAScript <span class="nt">Program</span>. The global code
      of a particular <span class="nt">Program</span> does not include any
      source text that is parsed as part of a
      <span class="nt">FunctionBody</span>.</p></li>

  <li id="def-eval-code"><p><dfn>Eval code</dfn> is the source text supplied to
      the built-in
      <a href="#sec-15.1.2.1"><span class="libname">eval</span></a> function.
      More precisely, if the parameter to the built-in
      <span class="libname">eval</span> function is a String, it is treated as
      an ECMAScript <span class="nt">Program</span>. The eval code for a
      particular invocation of <span class="libname">eval</span> is the
      <a href="#def-global-code">global code</a> portion of that
      <span class="nt">Program</span>.</p></li>

  <li id="def-function-code"><p><dfn>Function code</dfn> is source text that is
      parsed as part of a <span class="nt">FunctionBody</span>. The <i>function
      code</i> of a particular <span class="nt">FunctionBody</span> does not
      include any source text that is parsed as part of a nested
      <span class="nt">FunctionBody</span>. <i>Function code</i> also denotes
      the source text supplied when <a href="#sec-15.3.2">using the built-in
      <span class="libname">Function</span> object as a constructor</a>. More
      precisely, the last parameter provided to the
      <span class="libname">Function</span> constructor is converted to a
      String and treated as the <span class="nt">FunctionBody</span>. If more
      than one parameter is provided to the
      <span class="libname">Function</span> constructor, all parameters except
      the last one are converted to Strings and concatenated together,
      separated by commas. The resulting String is interpreted as the
      <span class="nt">FormalParameterList</span> for the
      <span class="nt">FunctionBody</span> defined by the last parameter. The
      function code for a particular instantiation of a
      <span class="libname">Function</span> does not include any source text
      that is parsed as part of a nested
      <span class="nt">FunctionBody</span>.</p></li>

</ul>

<span class="pagemark" id="page61">PDF page 61 / printed page 51</span>

<section id="sec-10.1.1">
<h1><span class="secnum"><a href="#sec-10.1.1"
    title="link to this section">10.1.1</a></span>
    Strict Mode Code</h1>

<p>An ECMAScript <span class="nt">Program</span> syntactic unit may be
processed using either unrestricted or strict mode syntax and semantics. When
processed using strict mode the three types of ECMAScript code are referred to
as strict global code, strict eval code, and strict function code. Code is
interpreted as strict mode code in the following situations:</p>

<ul>

  <li><p><a href="#def-global-code">Global code</a> is strict global code if it
      begins with a Directive Prologue that contains a Use Strict Directive
      (<a href="#sec-14.1">see 14.1</a>).</p></li>

  <li><p><a href="#def-eval-code">Eval code</a> is strict eval code if it
      begins with a Directive Prologue that contains a Use Strict Directive or
      if the call to eval is a <a href="#sec-15.1.2.1.1">direct call (see
      15.1.2.1.1) to the eval function</a> that is contained in strict mode
      code.</p></li>

  <li><p><a href="#def-function-code">Function code</a> that is part of a
      <span class="nt">FunctionDeclaration</span>,
      <span class="nt">FunctionExpression</span>, or accessor
      <span class="nt">PropertyAssignment</span> is strict function code if its
      <span class="nt">FunctionDeclaration</span>,
      <span class="nt">FunctionExpression</span>, or
      <span class="nt">PropertyAssignment</span> is contained in strict mode
      code or if the function code begins with a Directive Prologue that
      contains a Use Strict Directive.</p></li>

  <li><p><a href="#def-function-code">Function code</a> that is supplied as the
      last argument to the built-in Function constructor is strict function
      code if the last argument is a String that when processed as a
      <span class="nt">FunctionBody</span> begins with a Directive Prologue
      that contains a Use Strict Directive.</p></li>
</ul>
</section>
</section>


<section id="sec-10.2">

<h1><span class="secnum"><a href="#sec-10.2"
    title="link to this section">10.2</a></span>
    Lexical Environments</h1>

<p>A <dfn>Lexical Environment</dfn> is a <a href="#sec-8">specification
type</a> used to define the association of <span class="nt"
data-nt="Identifier">Identifiers</span> to specific variables and functions
based upon the lexical nesting structure of ECMAScript code. A Lexical
Environment consists of an <a href="#sec-10.2.1">Environment Record</a> and a
possibly null reference to an <dfn>outer</dfn> Lexical Environment. Usually a
Lexical Environment is associated with some specific syntactic structure of
ECMAScript code such as a <span class="nt">FunctionDeclaration</span>, a
<span class="nt">WithStatement</span>, or a <span class="nt">Catch</span>
clause of a <span class="nt">TryStatement</span> and a new Lexical Environment
is created each time such code is evaluated.</p>

<p>An <dfn><a href="#sec-10.2.1">Environment Record</a></dfn> records the
identifier bindings that are created within the scope of its associated Lexical
Environment.</p>

<p id="def-outer-environment">The outer environment reference is used to model
the logical nesting of Lexical Environment values. The outer reference of a
(inner) Lexical Environment is a reference to the Lexical Environment that
logically surrounds the inner Lexical Environment. An outer Lexical Environment
may, of course, have its own outer Lexical Environment. A Lexical Environment
may serve as the outer environment for multiple inner Lexical Environments. For
example, if a <span class="nt">FunctionDeclaration</span> contains two nested
<span class="nt" data-nt="FunctionDeclaration">FunctionDeclarations</span> then
the Lexical Environments of each of the nested functions will have as their
outer Lexical Environment the Lexical Environment of the current execution of
the surrounding function.</p>

<p>Lexical Environments and Environment Record values are purely specification
mechanisms and need not correspond to any specific artefact of an ECMAScript
implementation. It is impossible for an ECMAScript program to directly access
or manipulate such values.</p>


<section id="sec-10.2.1">

<h1><span class="secnum"><a href="#sec-10.2.1"
    title="link to this section">10.2.1</a></span>
    Environment Records</h1>

<p>There are two kinds of Environment Record values used in this specification:
<a href="#sec-10.2.1.1"><dfn>declarative environment records</dfn></a> and
<a href="#sec-10.2.1.2"><dfn>object environment records</dfn></a>.
<a href="#sec-10.2.1.1">Declarative environment records</a> are used to define
the effect of ECMAScript language syntactic elements such as <span class="nt"
data-nt="FunctionDeclaration">FunctionDeclarations</span>, <span class="nt"
data-nt="VariableDeclaration">VariableDeclarations</span>, and
<span class="nt">Catch</span> clauses that directly associate identifier
bindings with ECMAScript language values. <a href="#sec-10.2.1.2">Object
environment records</a> are used to define the effect of ECMAScript elements
such as <span class="nt">Program</span> and
<span class="nt">WithStatement</span> that associate identifier bindings with
the properties of some object.</p>

<p>For specification purposes Environment Record values can be thought of as
existing in a simple object-oriented hierarchy where Environment Record is an
abstract class with two concrete subclasses, declarative environment record and
object environment record. The abstract class includes the abstract
specification <span class="pagemark" id="page62">PDF page 62 / printed page
52</span> methods defined in Table 17. These abstract methods have distinct
concrete algorithms for each of the concrete subclasses.</p>

<figure id="table17">
<figcaption>Table 17 &mdash; Abstract Methods of Environment Records</figcaption>
<table class="real-table">
  <tr>
    <th>Method</th>
    <th>Purpose</th>
  </tr>
  <tr>
    <td>HasBinding(<var>N</var>)</td>
    <td>Determine if an environment record has a binding for an identifier.
        Return <span class="value">true</span> if it does and
        <span class="value">false</span> if it does not. The String value
        <var>N</var> is the text of the identifier.</td>
  </tr>
  <tr>
    <td>CreateMutableBinding(<var>N</var>,&nbsp;<var>D</var>)</td>
    <td>Create a new mutable binding in an environment record. The String value
        <var>N</var> is the text of the bound name. If the optional Boolean
        argument <var>D</var> is <span class="value">true</span> the binding is
        may be subsequently deleted.</td>
  </tr>
  <tr>
    <td>SetMutableBinding(<var>N</var>,&nbsp;<var>V</var>,&nbsp;<var>S</var>)</td>
    <td>Set the value of an already existing mutable binding in an environment
        record. The String value <var>N</var> is the text of the bound name.
        <var>V</var> is the value for the binding and may be a value of any
        ECMAScript language type. <var>S</var> is a Boolean flag. If
        <var>S</var> is <span class="value">true</span> and the binding cannot
        be set throw a <span class="errorname">TypeError</span> exception.
        <var>S</var> is used to identify strict mode references.</td>
  </tr>
  <tr>
    <td>GetBindingValue(<var>N</var>,&nbsp;<var>S</var>)</td>
    <td>Returns the value of an already existing binding from an environment
        record. The String value <var>N</var> is the text of the bound name.
        <var>S</var> is used to identify strict mode references. If
        <var>S</var> is <span class="value">true</span> and the binding does
        not exist or is uninitialized throw a
        <span class="errorname">ReferenceError</span> exception.</td>
  </tr>
  <tr>
    <td>DeleteBinding(<var>N</var>)</td>
    <td>Delete a binding from an environment record. The String value
        <var>N</var> is the text of the bound name If a binding for
        <var>N</var> exists, remove the binding and return
        <span class="value">true</span>. If the binding exists but cannot be
        removed return <span class="value">false</span>. If the binding does
        not exist return <span class="value">true</span>.</td>
  </tr>
  <tr>
    <td>ImplicitThisValue()</td>
    <td>Returns the value to use as the <span class="this">this</span> value on
        calls to function objects that are obtained as binding values from this
        environment record.</td>
  </tr>
</table>
</figure>

<section id="sec-10.2.1.1">
<h1><span class="secnum"><a href="#sec-10.2.1.1"
    title="link to this section">10.2.1.1</a></span>
    Declarative Environment Records</h1>

<p>Each declarative environment record is associated with an ECMAScript program
scope containing variable and/or function declarations. A declarative
environment record binds the set of identifiers defined by the declarations
contained within its scope.</p>

<p id="def-immutable-binding">In addition to the mutable bindings supported by
all Environment Records, declarative environment records also provide for
immutable bindings. An immutable binding is one where the association between
an identifier and a value may not be modified once it has been established.
Creation and initialization of immutable binding are distinct steps so it is
possible for such bindings to exist in either an initialized or uninitialized
state. Declarative environment records support the methods listed in Table 18
in addition to the Environment Record abstract specification methods:</p>

<figure id="table18">
<figcaption>Table 18 &mdash; Additional Methods of Declarative Environment
  Records</figcaption>
<table class="real-table">
  <tr>
    <th>Method</th>
    <th>Purpose</th>
  </tr>
  <tr>
    <td><a href="#sec-10.2.1.1.7">CreateImmutableBinding</a>(<var>N</var>)</td>
    <td>Create a new but uninitialized immutable binding in an environment
        record. The String value <var>N</var> is the text of the bound
        name.</td>
  </tr>
  <tr>
    <td><a href="#sec-10.2.1.1.8">InitializeImmutableBinding</a>(<var>N</var>,&nbsp;<var>V</var>)</td>
    <td>Set the value of an already existing but uninitialized immutable
        binding in an environment record. The String value <var>N</var> is the
        text of the bound name. <var>V</var> is the value for the binding and
        is a value of any ECMAScript language type.</td>
  </tr>
</table>
</figure>

<p><span class="pagemark" id="page63">PDF page 63 / printed page 53</span> The
behaviour of the concrete specification methods for Declarative Environment
Records are defined by the following algorithms.</p>


<section id="sec-10.2.1.1.1">
<h1><span class="secnum"><a href="#sec-10.2.1.1.1"
    title="link to this section">10.2.1.1.1</a></span>
    HasBinding(N)</h1>

<p>The concrete environment record method HasBinding for declarative
environment records simply determines if the argument identifier is one of the
identifiers bound by the record:</p>

<ol class="proc">
  <li>Let <var>envRec</var> be the declarative environment record for which the
      method was invoked.</li>

  <li>If <var>envRec</var> has a binding for the name that is the value of
      <var>N</var>, return <span class="value">true</span>.</li>

  <li>If it does not have such a binding, return
      <span class="value">false</span>.</li>
</ol>
</section>

<section id="sec-10.2.1.1.2">
<h1><span class="secnum"><a href="#sec-10.2.1.1.2"
    title="link to this section">10.2.1.1.2</a></span>
    CreateMutableBinding (N, D)</h1>

<p>The concrete Environment Record method CreateMutableBinding for declarative
environment records creates a new mutable binding for the name <var>N</var>
that is initialized to the value <span class="value">undefined</span>. A
binding must not already exist in this Environment Record for <var>N</var>. If
Boolean argument <var>D</var> is provided and has the value
<span class="value">true</span> the new binding is marked as being subject to
deletion.</p>

<ol class="proc">
  <li>Let <var>envRec</var> be the declarative environment record for which the
      method was invoked.</li>

  <li>Assert: <var>envRec</var> does not already have a binding for
      <var>N</var>.</li>

  <li>Create a mutable binding in <var>envRec</var> for <var>N</var> and set
      its bound value to <span class="value">undefined</span>. If <var>D</var>
      is true record that the newly created binding may be deleted by a
      subsequent DeleteBinding call.</li>
</ol>
</section>

<section id="sec-10.2.1.1.3">
<h1><span class="secnum"><a href="#sec-10.2.1.1.3"
    title="link to this section">10.2.1.1.3</a></span>
    SetMutableBinding(N,V,S)</h1>

<p>The concrete Environment Record method SetMutableBinding for declarative
environment records attempts to change the bound value of the current binding
of the identifier whose name is the value of the argument <var>N</var> to the
value of argument <var>V</var>. A binding for <var>N</var> must already exist.
If the binding is an <a href="#def-immutable-binding">immutable binding</a>, a
<span class="errorname">TypeError</span> is thrown if <var>S</var> is
<span class="value">true</span>.</p>

<ol class="proc">
  <li>Let <var>envRec</var> be the declarative environment record for which the
      method was invoked.</li>

  <li>Assert: <var>envRec</var> must have a binding for <var>N</var>.</li>

  <li>If the binding for <var>N</var> in <var>envRec</var> is a mutable
      binding, change its bound value to <var>V</var>.</li>

  <li>Else this must be an attempt to change the value of an
      <a href="#def-immutable-binding">immutable binding</a> so if <var>S</var>
      is <span class="value">true</span> throw a
      <span class="errorname">TypeError</span> exception.</li>
</ol>
</section>

<section id="sec-10.2.1.1.4">
<h1><span class="secnum"><a href="#sec-10.2.1.1.4"
    title="link to this section">10.2.1.1.4</a></span>
    GetBindingValue(N,S)</h1>

<p>The concrete Environment Record method GetBindingValue for declarative
environment records simply returns the value of its bound identifier whose name
is the value of the argument <var>N</var>. The binding must already exist. If
<var>S</var> is <span class="value">true</span> and the binding is an
uninitialized <a href="#def-immutable-binding">immutable binding</a> throw a
<span class="errorname">ReferenceError</span> exception.</p>

<ol class="proc">
  <li>Let <var>envRec</var> be the declarative environment record for which the
      method was invoked.</li>

  <li>Assert: <var>envRec</var> has a binding for <var>N</var>.</li>

  <li>If the binding for <var>N</var> in <var>envRec</var> is an uninitialized
      immutable binding, then
    <ol class="block">
      <li>If <var>S</var> is <span class="value">false</span>, return the value
          <span class="value">undefined</span>, otherwise throw a
          <span class="errorname">ReferenceError</span> exception.</li>
    </ol>
  </li>

  <li>Else, return the value currently bound to <var>N</var> in
      <var>envRec</var>.</li>
</ol>
</section>

<section id="sec-10.2.1.1.5">
<h1><span class="secnum"><a href="#sec-10.2.1.1.5"
    title="link to this section">10.2.1.1.5</a></span>
    DeleteBinding (N)</h1>

<p>The concrete Environment Record method DeleteBinding for declarative
environment records can only delete bindings that have been explicitly
designated as being subject to deletion.</p>

<ol class="proc">
  <li>Let <var>envRec</var> be the declarative environment record for which the
      method was invoked.</li>

  <li>If <var>envRec</var> does not have a binding for the name that is the
      value of <var>N</var>, return <span class="value">true</span>.</li>

  <li>If the binding for <var>N</var> in <var>envRec</var> is cannot be
      deleted, return <span class="value">false</span>.</li>

  <li><span class="pagemark" id="page64">PDF page 64 / printed page
      54</span>Remove the binding for <var>N</var> from <var>envRec</var>.</li>

  <li>Return <span class="value">true</span>.</li>
</ol>
</section>

<section id="sec-10.2.1.1.6">
<h1><span class="secnum"><a href="#sec-10.2.1.1.6"
    title="link to this section">10.2.1.1.6</a></span>
    ImplicitThisValue()</h1>

<p>Declarative Environment Records always return
<span class="value">undefined</span> as their ImplicitThisValue.</p>

<ol class="proc">
  <li>Return <span class="value">undefined</span>.</li>
</ol>
</section>

<section id="sec-10.2.1.1.7">
<h1><span class="secnum"><a href="#sec-10.2.1.1.7"
    title="link to this section">10.2.1.1.7</a></span>
    CreateImmutableBinding (N)</h1>

<p>The concrete Environment Record method CreateImmutableBinding for
declarative environment records creates a new immutable binding for the name
<var>N</var> that is initialized to the value
<span class="value">undefined</span>. A binding must not already exist in this
environment record for <var>N</var>.</p>

<ol class="proc">
  <li>Let <var>envRec</var> be the declarative environment record for which the
      method was invoked.</li>

  <li>Assert: <var>envRec</var> does not already have a binding for
      <var>N</var>.</li>

  <li>Create an immutable binding in <var>envRec</var> for <var>N</var> and
      record that it is uninitialized.</li>
</ol>
</section>

<section id="sec-10.2.1.1.8">
<h1><span class="secnum"><a href="#sec-10.2.1.1.8"
    title="link to this section">10.2.1.1.8</a></span>
    InitializeImmutableBinding (N,V)</h1>

<p>The concrete Environment Record method InitializeImmutableBinding for
declarative environment records is used to set the bound value of the current
binding of the identifier whose name is the value of the argument <var>N</var>
to the value of argument <var>V</var>. An uninitialized immutable binding for
<var>N</var> must already exist.</p>

<ol class="proc">
  <li>Let <var>envRec</var> be the declarative environment record for which the
      method was invoked.</li>

  <li>Assert: <var>envRec</var> must have an uninitialized immutable binding
      for <var>N</var>.</li>

  <li>Set the bound value for <var>N</var> in <var>envRec</var> to
      <var>V</var>.</li>

  <li>Record that the immutable binding for <var>N</var> in <var>envRec</var>
      has been initialized.</li>
</ol>
</section>
</section>

<section id="sec-10.2.1.2">
<h1><span class="secnum"><a href="#sec-10.2.1.2"
    title="link to this section">10.2.1.2</a></span>
    Object Environment Records</h1>

<p>Each <a href="#sec-10.2.1">object environment record</a> is associated with
an object called its <dfn>binding object</dfn>. An object environment record
binds the set of identifier names that directly correspond to the property
names of its binding object. Property names that are not an
<span class="nt">IdentifierName</span> are not included in the set of bound
identifiers. Both own and inherited properties are included in the set
regardless of the setting of their [[Enumerable]] attribute. Because properties
can be dynamically added and deleted from objects, the set of identifiers bound
by an object environment record may potentially change as a side-effect of any
operation that adds or deletes properties. Any bindings that are created as a
result of such a side-effect are considered to be a mutable binding even if the
Writable attribute of the corresponding property has the value
<span class="value">false</span>. Immutable bindings do not exist for object
environment records.</p>

<p>Object environment records can be configured to provide their binding object
as an implicit <span class="this">this</span> value for use in function calls.
This capability is used to specify the behaviour of With Statement
(<a href="#sec-12.10">12.10</a>) induced bindings. The capability is controlled
by a <var>provideThis</var> Boolean value that is associated with each object
environment record. By default, the value of <var>provideThis</var> is
<span class="value">false</span> for any object environment record.</p>

<p>The behaviour of the concrete specification methods for Object Environment
Records is defined by the following algorithms.</p>


<section id="sec-10.2.1.2.1">
<h1><span class="secnum"><a href="#sec-10.2.1.2.1"
    title="link to this section">10.2.1.2.1</a></span>
    HasBinding(N)</h1>

<p>The concrete Environment Record method HasBinding for object environment
records determines if its associated binding object has a property whose name
is the value of the argument <var>N</var>:</p>

<ol class="proc">
  <li>Let <var>envRec</var> be the object environment record for which the
      method was invoked.</li>

  <li>Let <var>bindings</var> be the binding object for <var>envRec</var>.</li>

  <li>Return the result of calling the [[HasProperty]] internal method of
      <var>bindings</var>, passing <var>N</var> as the property name.</li>
</ol>
</section>

<section id="sec-10.2.1.2.2">
<span class="pagemark" id="page65">PDF page 65 / printed page 55</span>
<h1><span class="secnum"><a href="#sec-10.2.1.2.2"
    title="link to this section">10.2.1.2.2</a></span>
    CreateMutableBinding (N, D)</h1>

<p>The concrete Environment Record method CreateMutableBinding for object
environment records creates in an environment record&rsquo;s associated binding
object a property whose name is the String value and initializes it to the
value <span class="value">undefined</span>. A property named <var>N</var> must
not already exist in the binding object. If Boolean argument <var>D</var> is
provided and has the value <span class="value">true</span> the new
property&rsquo;s [[Configurable]] attribute is set to
<span class="value">true</span>, otherwise it is set to
<span class="value">false</span>.</p>

<ol class="proc">
  <li>Let <var>envRec</var> be the object environment record for which the
      method was invoked.</li>

  <li>Let <var>bindings</var> be the binding object for <var>envRec</var>.</li>

  <li>Assert: The result of calling the [[HasProperty]] internal method of
      <var>bindings</var>, passing <var>N</var> as the property name, is
      <span class="value">false</span>.</li>

  <li>If D is <span class="value">true</span> then let <var>configValue</var>
      be <span class="value">true</span> otherwise let <var>configValue</var>
      be <span class="value">false</span>.</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>bindings</var>,
      passing <var>N</var>, <a href="#sec-8.10">Property Descriptor</a>
      {[[Value]]:<span class="value">undefined</span>, [[Writable]]:
      <span class="value">true</span>, [[Enumerable]]:
      <span class="value">true</span>, [[Configurable]]:
      <var>configValue</var>}, and <span class="value">true</span> as
      arguments.</li>
</ol>
</section>

<section id="sec-10.2.1.2.3">
<h1><span class="secnum"><a href="#sec-10.2.1.2.3"
    title="link to this section">10.2.1.2.3</a></span>
    SetMutableBinding (N,V,S)</h1>

<p>The concrete Environment Record method SetMutableBinding for object
environment records attempts to set the value of the environment record&rsquo;s
associated binding object&rsquo;s property whose name is the value of the
argument <var>N</var> to the value of argument <var>V</var>. A property named
<var>N</var> should already exist but if it does not or is not currently
writable, error handling is determined by the value of the Boolean argument
<var>S</var>.</p>

<ol class="proc">
  <li>Let <var>envRec</var> be the object environment record for which the
      method was invoked.</li>

  <li>Let <var>bindings</var> be the binding object for <var>envRec</var>.</li>

  <li>Call the [[Put]] internal method of <var>bindings</var> with arguments
      <var>N</var>, <var>V</var>, and <var>S</var>.</li>
</ol>
</section>

<section id="sec-10.2.1.2.4">
<h1><span class="secnum"><a href="#sec-10.2.1.2.4"
    title="link to this section">10.2.1.2.4</a></span>
    GetBindingValue(N,S)</h1>

<p>The concrete Environment Record method GetBindingValue for object
environment records returns the value of its associated binding object&rsquo;s
property whose name is the String value of the argument identifier
<var>N</var>. The property should already exist but if it does not the result
depends upon the value of the <var>S</var> argument:</p>

<ol class="proc">
  <li>Let <var>envRec</var> be the object environment record for which the
      method was invoked.</li>

  <li>Let <var>bindings</var> be the binding object for <var>envRec</var>.</li>

  <li>Let <var>value</var> be the result of calling the [[HasProperty]]
      internal method of <var>bindings</var>, passing <var>N</var> as the
      property name.</li>

  <li>If <var>value</var> is <span class="value">false</span>, then
    <ol class="block">
      <li>If <var>S</var> is <span class="value">false</span>, return the value
          <span class="value">undefined</span>, otherwise throw a
          <span class="errorname">ReferenceError</span> exception.</li>
    </ol>
  </li>

  <li>Return the result of calling the [[Get]] internal method of
      <var>bindings</var>, passing <var>N</var> for the argument.</li>
</ol>
</section>

<section id="sec-10.2.1.2.5">
<h1><span class="secnum"><a href="#sec-10.2.1.2.5"
    title="link to this section">10.2.1.2.5</a></span>
    DeleteBinding(N)</h1>

<p>The concrete Environment Record method DeleteBinding for object environment
records can only delete bindings that correspond to properties of the
environment object whose [[Configurable]] attribute have the value
<span class="value">true</span>.</p>

<ol class="proc">
  <li>Let <var>envRec</var> be the object environment record for which the
      method was invoked.</li>

  <li>Let <var>bindings</var> be the binding object for <var>envRec</var>.</li>

  <li>Return the result of calling the [[Delete]] internal method of
      <var>bindings</var>, passing <var>N</var> and
      <span class="value">false</span> as arguments.</li>
</ol>
</section>

<section id="sec-10.2.1.2.6">
<h1><span class="secnum"><a href="#sec-10.2.1.2.6"
    title="link to this section">10.2.1.2.6</a></span>
    ImplicitThisValue()</h1>

<p>Object Environment Records return <span class="value">undefined</span> as
their ImplicitThisValue unless their <var>provideThis</var> flag is
<span class="value">true</span>.</p>

<ol class="proc">
  <li>Let <var>envRec</var> be the object environment record for which the
      method was invoked.</li>

  <li>If the <var>provideThis</var> flag of <var>envRec</var> is
      <span class="value">true</span>, return the binding object for
      <var>envRec</var>.</li>

  <li>Otherwise, return <span class="value">undefined</span>.</li>
</ol>
</section>
</section>
</section>

<section id="sec-10.2.2">
<span class="pagemark" id="page66">PDF page 66 / printed page 56</span>
<h1><span class="secnum"><a href="#sec-10.2.2"
    title="link to this section">10.2.2</a></span>
    Lexical Environment Operations</h1>

<p>The following abstract operations are used in this specification to operate
upon <a href="#sec-10.2">lexical environments</a>:</p>


<section id="sec-10.2.2.1">
<h1><span class="secnum"><a href="#sec-10.2.2.1"
    title="link to this section">10.2.2.1</a></span>
    GetIdentifierReference (lex, name, strict)</h1>

<p>The abstract operation GetIdentifierReference is called with a
<a href="#sec-10.2">Lexical Environment</a> <var>lex</var>, an identifier
String <var>name</var>, and a Boolean flag <var>strict</var>. The value of
<var>lex</var> may be <span class="value">null</span>. When called, the
following steps are performed:</p>

<ol class="proc">
  <li>If <var>lex</var> is the value <span class="value">null</span>, then
    <ol class="block">
      <li>Return a value of type <a href="#sec-8.7">Reference</a> whose base value is
          <span class="value">undefined</span>, whose referenced name is
          <var>name</var>, and whose strict mode flag is
          <var>strict</var>.</li>
    </ol>
  </li>

  <li>Let <var>envRec</var> be <var>lex</var>&rsquo;s environment record.</li>

  <li>Let <var>exists</var> be the result of calling the
      HasBinding(<var>N</var>) concrete method of <var>envRec</var> passing
      <var>name</var> as the argument <var>N</var>.</li>

  <li>If <var>exists</var> is <span class="value">true</span>, then
    <ol class="block">
      <li>Return a value of type <a href="#sec-8.7">Reference</a> whose base value is
          <var>envRec</var>, whose referenced name is <var>name</var>, and
          whose strict mode flag is <var>strict</var>.</li>
    </ol>
  </li>

  <li>Else
    <ol class="block">
      <li>Let <var>outer</var> be the value of
          <var>lex</var>&rsquo;s <a href="#def-outer-environment">outer environment
          reference</a>.</li>

      <li>Return the result of
          calling <a href="#sec-10.2.2.1">GetIdentifierReference</a> passing
          <var>outer</var>, <var>name</var>, and <var>strict</var> as
          arguments.</li>
    </ol>
  </li>
</ol>
</section>

<section id="sec-10.2.2.2">
<h1><span class="secnum"><a href="#sec-10.2.2.2"
    title="link to this section">10.2.2.2</a></span>
    NewDeclarativeEnvironment(E)</h1>

<p>When the abstract operation NewDeclarativeEnvironment is called with either
a <a href="#sec-10.2">Lexical Environment</a> or
<span class="value">null</span> as argument <var>E</var> the following steps
are performed:</p>

<ol class="proc">
  <li>Let <var>env</var> be a new <a href="#sec-10.2">Lexical
      Environment</a>.</li>

  <li>Let <var>envRec</var> be a new declarative environment record containing
      no bindings.</li>

  <li>Set <var>env</var>&rsquo;s environment record to be
      <var>envRec</var>.</li>

  <li>Set the <a href="#def-outer-environment">outer lexical environment
      reference</a> of <var>env</var> to <var>E</var>.</li>

  <li>Return <var>env</var>.</li>
</ol>
</section>

<section id="sec-10.2.2.3">
<h1><span class="secnum"><a href="#sec-10.2.2.3"
    title="link to this section">10.2.2.3</a></span>
    NewObjectEnvironment (O, E)</h1>

<p>When the abstract operation NewObjectEnvironmentis called with an Object
<var>O</var> and a <a href="#sec-10.2">Lexical Environment</a> <var>E</var> (or
<span class="value">null</span>) as arguments, the following steps are
performed:</p>

<ol class="proc">
  <li>Let <var>env</var> be a new <a href="#sec-10.2">Lexical
      Environment</a>.</li>

  <li>Let <var>envRec</var> be a new object environment record containing
      <var>O</var> as the <a href="#sec-10.2.1.2">binding object</a>.</li>

  <li>Set <var>env</var>&rsquo;s environment record to be
      <var>envRec</var>.</li>

  <li>Set the <a href="#def-outer-environment">outer lexical environment
      reference</a> of <var>env</var> to <var>E</var>.</li>

  <li>Return <var>env</var>.</li>
</ol>
</section>
</section>

<section id="sec-10.2.3">
<h1><span class="secnum"><a href="#sec-10.2.3"
    title="link to this section">10.2.3</a></span>
    The Global Environment</h1>

<p>The <dfn>global environment</dfn> is a unique <a href="#sec-10.2">Lexical
Environment</a> which is created before any ECMAScript code is executed. The
global environment&rsquo;s Environment Record is an
<a href="#sec-10.2.1.2">object environment record</a> whose
<a href="#sec-10.2.1.2">binding object</a> is the <a href="#sec-15.1">global
object (15.1)</a>. The global environment&rsquo;s
<a href="#def-outer-environment">outer environment reference</a> is
<span class="value">null</span>.</p>

<p>As ECMAScript code is executed, additional properties may be added to the
global object and the initial properties may be modified.</p>
</section>
</section>


<section id="sec-10.3">
<h1><span class="secnum"><a href="#sec-10.3"
    title="link to this section">10.3</a></span>
    Execution Contexts</h1>

<p>When control is transferred to ECMAScript executable code, control is
entering an <dfn>execution context</dfn>. Active execution contexts logically
form a stack. The top execution context on this logical stack is the running
execution context. A new execution context is created whenever control is
transferred from the executable code associated with the currently running
execution context to executable code that is not associated with
<span class="pagemark" id="page67">PDF page 67 / printed page 57</span> that
execution context. The newly created execution context is pushed onto the stack
and becomes the running execution context.</p>

<p>An execution context contains whatever state is necessary to track the
execution progress of its associated code. In addition, each execution context
has the state components listed in Table 19.</p>

<figure id="table19">
<figcaption>Table 19 &mdash; Execution Context State Components</figcaption>
<table class="real-table">
  <tr>
    <th>Component</th>
    <th>Purpose</th>
  </tr>
  <tr>
    <td>LexicalEnvironment</td>
    <td>Identifies the <a href="#sec-10.2">Lexical Environment</a> used to
        resolve identifier references made by code within this execution
        context.</td>
  </tr>
  <tr>
    <td>VariableEnvironment</td>
    <td>Identifies the <a href="#sec-10.2">Lexical Environment</a> whose
        environment record holds bindings created by <span class="nt"
        data-nt="VariableStatement">VariableStatements</span> and
        <span class="nt"
        data-nt="FunctionDeclaration">FunctionDeclarations</span> within this
        execution context.</td>
  </tr>
  <tr>
    <td>ThisBinding</td>
    <td>The value associated with the <code class="t">this</code> keyword
        within ECMAScript code associated with this execution context.</td>
  </tr>
</table>
</figure>

<p>The LexicalEnvironment and VariableEnvironment components of an execution
context are always <a href="#sec-10.2">Lexical Environments</a>. When an
execution context is created its LexicalEnvironment and VariableEnvironment
components initially have the same value. The value of the VariableEnvironment
component never changes while the value of the LexicalEnvironment component may
change during execution of code within an execution context.</p>

<p>In most situations only the running execution context (the top of the
execution context stack) is directly manipulated by algorithms within this
specification. Hence when the terms &ldquo;LexicalEnvironment&rdquo;,
&ldquo;VariableEnvironment&rdquo; and &ldquo;ThisBinding&rdquo; are used
without qualification they are in reference to those components of the running
execution context.</p>

<p>An execution context is purely a specification mechanism and need not
correspond to any particular artefact of an ECMAScript implementation. It is
impossible for an ECMAScript program to access an execution context.</p>


<section id="sec-10.3.1">
<h1><span class="secnum"><a href="#sec-10.3.1"
    title="link to this section">10.3.1</a></span>
    Identifier Resolution</h1>

<p>Identifier resolution is the process of determining the binding of an
<span class="nt">Identifier</span> using the LexicalEnvironment of the running
execution context. During execution of ECMAScript code, the syntactic
production <span class="prod"><span class="nt">PrimaryExpression</span>
<span class="geq">:</span> <span class="nt">Identifier</span></span> is
evaluated using the following algorithm:</p>

<ol class="proc">
  <li>Let <var>env</var> be the running execution context&rsquo;s
      LexicalEnvironment.</li>

  <li>If the syntactic production that is being evaluated is contained in a
      <a href="#sec-10.1.1">strict mode code</a>, then let <var>strict</var> be
      <span class="value">true</span>, else let <var>strict</var> be
      <span class="value">false</span>.</li>

  <li>Return the result of calling
      <a href="#sec-10.2.2.1">GetIdentifierReference</a> function passing
      <var>env</var>, <span class="nt">Identifier</span>, and <var>strict</var>
      as arguments.</li>
</ol>

<p>The result of evaluating an identifier is always a value of type
<a href="#sec-8.7">Reference</a> with its referenced name component equal to
the <span class="nt">Identifier</span> String.</p>
</section>
</section>


<section id="sec-10.4">
<h1><span class="secnum"><a href="#sec-10.4"
    title="link to this section">10.4</a></span>
    Establishing an Execution Context</h1>

<p>Evaluation of <a href="#def-global-code">global code</a> or code using the
eval function (<a href="#sec-15.1.2.1">15.1.2.1</a>) establishes and enters a
new execution context. Every invocation of an ECMAScript code function
(<a href="#sec-13.2.1">13.2.1</a>) also establishes and enters a new execution
context, even if a function is calling itself recursively. Every return exits
an execution context. A thrown exception may also exit one or more execution
contexts.</p>

<p>When control enters an execution context, the execution context&rsquo;s
ThisBinding is set, its VariableEnvironment and initial LexicalEnvironment are
defined, and declaration binding instantiation (<a href="#sec-10.5">10.5</a>)
is performed. The exact manner in which these actions occur depend on the type
of code being entered.</p>

<span class="pagemark" id="page68">PDF page 68 / printed page 58</span>
<section id="sec-10.4.1">
<h1><span class="secnum"><a href="#sec-10.4.1"
    title="link to this section">10.4.1</a></span>
    Entering Global Code</h1>

<p>The following steps are performed when control enters the execution context
for <a href="#def-global-code">global code</a>:</p>

<ol class="proc">
  <li>Initialize the execution context using the global code as described in
      <a href="#sec-10.4.1.1">10.4.1.1</a>.</li>

  <li>Perform Declaration Binding Instantiation as described in
      <a href="#sec-10.5">10.5</a> using the global code.</li>
</ol>

<section id="sec-10.4.1.1">
<h1><span class="secnum"><a href="#sec-10.4.1.1"
    title="link to this section">10.4.1.1</a></span>
    Initial Global Execution Context</h1>

<p>The following steps are performed to initialize a global execution context
for ECMAScript code <var>C</var>:</p>

<ol class="proc">
  <li>Set the VariableEnvironment to the <a href="#sec-10.2.3">Global
      Environment</a>.</li>

  <li>Set the LexicalEnvironment to the <a href="#sec-10.2.3">Global
      Environment</a>.</li>

  <li>Set the ThisBinding to the global object.</li>
</ol>
</section>
</section>

<section id="sec-10.4.2">
<h1><span class="secnum"><a href="#sec-10.4.2"
    title="link to this section">10.4.2</a></span>
    Entering Eval Code</h1>

<p>The following steps are performed when control enters the execution context
for <a href="#def-eval-code">eval code</a>:</p>

<ol class="proc">
  <li>If there is no calling context or if the eval code is not being evaluated
      by a <a href="#sec-15.1.2.1.1">direct call (15.1.2.1.1) to the eval
      function</a> then,
    <ol class="block">
      <li>Initialize the execution context as if it was a global execution
          context using the eval code as <var>C</var> as described
          in <a href="#sec-10.4.1.1">10.4.1.1</a>.</li>
    </ol>
  </li>

  <li>Else,
    <ol class="block">
      <li>Set the ThisBinding to the same value as the ThisBinding of the
          calling execution context.</li>

      <li>Set the LexicalEnvironment to the same value as the
          LexicalEnvironment of the calling execution context.</li>

      <li>Set the VariableEnvironment to the same value as the
          VariableEnvironment of the calling execution context.</li>
    </ol>
  </li>

  <li>If the eval code is <a href="#sec-10.1.1">strict code</a>, then
    <ol class="block">
      <li>Let <var>strictVarEnv</var> be the result of calling
          <a href="#sec-10.2.2.2">NewDeclarativeEnvironment</a> passing the
          LexicalEnvironment as the argument.</li>

      <li>Set the LexicalEnvironment to <var>strictVarEnv</var>.</li>

      <li>Set the VariableEnvironment to <var>strictVarEnv</var>.</li>
    </ol>
  </li>

  <li>Perform Declaration Binding Instantiation as described in
      <a href="#sec-10.5">10.5</a> using the <a href="#def-eval-code">eval
      code</a>.</li>
</ol>

<section id="sec-10.4.2.1">
<h1><span class="secnum"><a href="#sec-10.4.2.1"
    title="link to this section">10.4.2.1</a></span>
    Strict Mode Restrictions</h1>

<p>The <a href="#def-eval-code">eval code</a> cannot
<a href="#sec-10.5">instantiate variable or function bindings</a> in the
variable environment of the calling context that invoked the eval if either the
code of the calling context or the <a href="#def-eval-code">eval code</a> is
<a href="#sec-10.1.1">strict code</a>. Instead such bindings are instantiated
in a new VariableEnvironment that is only accessible to the
<a href="#def-eval-code">eval code</a>.</p>
</section>
</section>

<section id="sec-10.4.3">
<h1><span class="secnum"><a href="#sec-10.4.3"
    title="link to this section">10.4.3</a></span>
    Entering Function Code</h1>

<p>The following steps are performed when control enters the execution context
for function code contained in function object <var>F</var>, a caller provided
<var>thisArg</var>, and a caller provided <var>argumentsList</var>:</p>

<ol class="proc">
  <li>If the function code is <a href="#sec-10.1.1">strict code</a>, set the
      ThisBinding to <var>thisArg</var>.</li>

  <li>Else if <var>thisArg</var> is <span class="value">null</span> or
      <span class="value">undefined</span>, set the ThisBinding to the global
      object.</li>

  <li>Else if <a href="#def-type">Type</a>(<var>thisArg</var>) is not Object,
      set the ThisBinding to
      <a href="#sec-9.9">ToObject</a>(<var>thisArg</var>).</li>

  <li>Else set the ThisBinding to <var>thisArg</var>.</li>

  <li>Let <var>localEnv</var> be the result of calling
      <a href="#sec-10.2.2.2">NewDeclarativeEnvironment</a> passing the value
      of the [[Scope]] internal property of <var>F</var> as the argument.</li>

  <li>Set the LexicalEnvironment to <var>localEnv</var>.</li>

  <li>Set the VariableEnvironment to <var>localEnv</var>.</li>

  <li>Let <var>code</var> be the value of <var>F</var>&rsquo;s [[Code]]
      internal property.</li>

  <li>Perform Declaration Binding Instantiation using the function code
      <var>code</var> and <var>argumentList</var> as described in
      <a href="#sec-10.5">10.5</a>.</li>
</ol>
</section>
</section>


<section id="sec-10.5">
<span class="pagemark" id="page69">PDF page 69 / printed page 59</span>
<h1><span class="secnum"><a href="#sec-10.5"
    title="link to this section">10.5</a></span>
    Declaration Binding Instantiation</h1>

<p>Every execution context has an associated VariableEnvironment. Variables and
functions declared in ECMAScript code evaluated in an execution context are
added as bindings in that VariableEnvironment&rsquo;s
<a href="#sec-10.2.1">Environment Record</a>. For function code, parameters are
also added as bindings to that <a href="#sec-10.2.1">Environment
Record</a>.</p>

<p>Which <a href="#sec-10.2.1">Environment Record</a> is used to bind a
declaration and its kind depends upon the type of ECMAScript code executed by
the execution context, but the remainder of the behaviour is generic. On
entering an execution context, bindings are created in the VariableEnvironment
as follows using the caller provided <var>code</var> and, if it is function
code, argument <a href="#sec-8.8">List</a> <var>args</var>:</p>

<ol class="proc">
  <li>Let <var>env</var> be the environment record component of the running
      execution context&rsquo;s VariableEnvironment.</li>

  <li>If <var>code</var> is <a href="#def-eval-code">eval code</a>, then let
      <var>configurableBindings</var> be <span class="value">true</span> else
      let <var>configurableBindings</var> be
      <span class="value">false</span>.</li>

  <li>If <var>code</var> is <a href="#sec-10.1.1">strict mode code</a>, then
      let <var>strict</var> be <span class="value">true</span> else let
      <var>strict</var> be <span class="value">false</span>.</li>

  <li>If <var>code</var> is function code, then
    <ol class="block">
      <li>Let <var>func</var> be the function whose [[Call]] internal method
          initiated execution of <var>code</var>. Let <var>names</var> be the
          value of <var>func</var>&rsquo;s [[FormalParameters]] internal
          property.</li>

      <li>Let <var>argCount</var> be the number of elements in <var>args</var>.</li>

      <li>Let <var>n</var> be the number 0.</li>

      <li>For each String <var>argName</var> in <var>names</var>, in list order do
        <ol class="block">
          <li>Let <var>n</var> be the current value of <var>n</var> plus
              1.</li>

          <li>If <var>n</var> is greater than <var>argCount</var>, let
              <var>v</var> be <span class="value">undefined</span> otherwise
              let <var>v</var> be the value of the <var>n</var>th element of
              <var>args</var>.</li>

          <li>Let <var>argAlreadyDeclared</var> be the result of calling
              <var>env</var>&rsquo;s HasBinding concrete method passing
              <var>argName</var> as the argument.</li>

          <li>If <var>argAlreadyDeclared</var> is
              <span class="value">false</span>, call <var>env</var>&rsquo;s
              CreateMutableBinding concrete method passing <var>argName</var>
              as the argument.</li>

          <li>Call <var>env</var>&rsquo;s SetMutableBinding concrete method passing
              <var>argName</var>, <var>v</var>, and <var>strict</var> as the
              arguments.</li>
        </ol>
      </li>
    </ol>
  </li>

  <li>For each <span class="nt">FunctionDeclaration</span> <var>f</var> in
      <var>code</var>, in source text order do
    <ol class="block">
      <li>Let <var>fn</var> be the <span class="nt">Identifier</span> in
          <span class="nt">FunctionDeclaration</span> <var>f</var>.</li>

      <li>Let <var>fo</var> be the result of instantiating
          <span class="nt">FunctionDeclaration</span> <var>f</var> as described
          in <a href="#sec-13">Clause 13</a>.</li>

      <li>Let <var>funcAlreadyDeclared</var> be the result of calling
          <var>env</var>&rsquo;s HasBinding concrete method passing <var>fn</var> as
          the argument.</li>

      <li>If <var>funcAlreadyDeclared</var> is
          <span class="value">false</span>, call <var>env</var>&rsquo;s
          CreateMutableBinding concrete method passing <var>fn</var> and
          <var>configurableBindings</var> as the arguments.</li>

      <li>Else if <var>env</var> is the environment record component of the
          global environment then
        <ol class="block">
          <li>Let <var>go</var> be the global object.</li>

          <li>Let <var>existingProp</var> be the resulting of calling the
              [[GetProperty]] internal method of <var>go</var> with argument
              <var>fn</var>.</li>

          <li>If <var>existingProp</var>.[[Configurable]] is
              <span class="value">true</span>, then
            <ol class="block">
              <li>Call the [[DefineOwnProperty]] internal method of
                  <var>go</var>, passing <var>fn</var>, <a href="#sec-8.10">Property Descriptor</a>
                  {[[Value]]: <span class="value">undefined</span>,
                  [[Writable]]: <span class="value">true</span>,
                  [[Enumerable]]: <span class="value">true</span>,
                  [[Configurable]]: <var>configurableBindings</var> }, and
                  <span class="value">true</span> as arguments.</li>
            </ol>
          </li>

          <li>Else if
              <a href="#sec-8.10.1">IsAccessorDescriptor</a>(<var>existingProp</var>)
              or <var>existingProp</var> does not have attribute values
              {[[Writable]]: <span class="value">true</span>, [[Enumerable]]:
              <span class="value">true</span>}, then
            <ol>
              <li>Throw a TypeError exception.</li>
            </ol>
          </li>
        </ol>
      </li>

      <li>Call <var>env</var>&rsquo;s SetMutableBinding concrete method passing
          <var>fn</var>, <var>fo</var>, and <var>strict</var> as the
          arguments.</li>
    </ol>
  </li>

  <li>Let <var>argumentsAlreadyDeclared</var> be the result of calling
      <var>env</var>&rsquo;s HasBinding concrete method passing
      <span class="string value">"arguments"</span> as the argument.</li>

  <li>If <var>code</var> is function code and
      <var>argumentsAlreadyDeclared</var> is <span class="value">false</span>,
      then
    <ol class="block">
      <li>Let <var>argsObj</var> be the result of calling the abstract
          operation CreateArgumentsObject (<a href="#sec-10.6">10.6</a>)
          passing <var>func</var>, <var>names</var>, <var>args</var>,
          <var>env</var> and <var>strict</var> as arguments.</li>

      <li>If <var>strict</var> is <span class="value">true</span>, then
        <ol class="block">
          <li>Call
              <var>env</var>&rsquo;s <a href="#sec-10.2.1.1.7">CreateImmutableBinding</a>
              concrete method passing the String
              <span class="string value">"arguments"</span> as the argument.</li>

          <li>Call
              <var>env</var>&rsquo;s <a href="#sec-10.2.1.1.8">InitializeImmutableBinding</a>
              concrete method passing <span class="string value">"arguments"</span>
              and <var>argsObj</var> as arguments.</li>
        </ol>
      </li>

      <li>Else,
        <ol class="block">
          <li>Call <var>env</var>&rsquo;s CreateMutableBinding concrete method
              passing the String <span class="string value">"arguments"</span> as the
              argument.</li>

          <li>Call <var>env</var>&rsquo;s SetMutableBinding concrete method passing
              <span class="string value">"arguments"</span>, <var>argsObj</var>, and
              <span class="value">false</span> as arguments.</li>
        </ol>
      </li>
    </ol>
  </li>

  <li>For each <span class="nt">VariableDeclaration</span> and
      <span class="nt">VariableDeclarationNoIn</span> <var>d</var> in
      <var>code</var>, in source text order do
    <ol class="block">
      <li>Let <var>dn</var> be the <span class="nt">Identifier</span> in
          <var>d</var>.</li>

      <li>Let <var>varAlreadyDeclared</var> be the result of calling
          <var>env</var>&rsquo;s HasBinding concrete method passing <var>dn</var> as
          the argument.</li>

      <li>If <var>varAlreadyDeclared</var> is <span class="value">false</span>, then
        <ol class="block">
          <li>Call <var>env</var>&rsquo;s CreateMutableBinding concrete method
              passing <var>dn</var> and <var>configurableBindings</var> as the
              arguments.</li>

          <li><span class="pagemark" id="page70">PDF page 70 / printed page
              60</span>Call <var>env</var>&rsquo;s SetMutableBinding concrete
              method passing <var>dn</var>,
              <span class="value">undefined</span>, and <var>strict</var> as
              the arguments.</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>
</section>


<section id="sec-10.6">
<h1><span class="secnum"><a href="#sec-10.6"
    title="link to this section">10.6</a></span>
    Arguments Object</h1>

<p>When control enters an execution context for function code, an arguments
object is created unless (as specified in <a href="#sec-10.5">10.5</a>) the
identifier <code class="t">arguments</code> occurs as an
<span class="nt">Identifier</span> in the function&rsquo;s
<span class="nt">FormalParameterList</span> or occurs as the
<span class="nt">Identifier</span> of a
<span class="nt">VariableDeclaration</span> or
<span class="nt">FunctionDeclaration</span> contained in the function code.</p>

<p>The arguments object is created by calling the abstract operation
CreateArgumentsObject with arguments <var>func</var> the function object whose
code is to be evaluated, <var>names</var> a <a href="#sec-8.8">List</a>
containing the function&rsquo;s formal parameter names, <var>args</var> the
actual arguments passed to the [[Call]] internal method, <var>env</var> the
variable environment for the function code, and <var>strict</var> a Boolean
that indicates whether or not the function code is <a href="#sec-10.1.1">strict
code</a>. When CreateArgumentsObject is called the following steps are
performed:</p>

<ol class="proc">
  <li>Let <var>len</var> be the number of elements in <var>args</var>.</li>

  <li>Let <var>obj</var> be the result of creating a new ECMAScript
      object.</li>

  <li>Set all the ???internal methods of <var>obj</var> as specified in
      <a href="#sec-8.12">8.12</a>.</li>

  <li>Set the [[Class]] internal property of <var>obj</var> to
      <span class="string value">"Arguments"</span>.</li>

  <li>Let <var>Object</var> be the standard built-in Object constructor
      (<a href="#sec-15.2.2">15.2.2</a>).</li>

  <li>Set the [[Prototype]] internal property of <var>obj</var> to the standard
      built-in Object prototype object (<a href="#sec-15.2.4">15.2.4</a>).</li>

  <li>Call the [[DefineOwnProperty]] internal method on <var>obj</var> passing
      <span class="string value">"length"</span>, the
      <a href="#sec-8.10">Property Descriptor</a> {[[Value]]: <var>len</var>,
      [[Writable]]: <span class="value">true</span>, [[Enumerable]]:
      <span class="value">false</span>, [[Configurable]]:
      <span class="value">true</span>}, and <span class="value">false</span> as
      arguments.</li>

  <li>Let <var>map</var> be the result of creating a new object as if by the
      expression <code class="expr">new Object()</code> where
      <code class="expr">Object</code> is the standard built-in constructor
      with that name.</li>

  <li>Let <var>mappedNames</var> be an empty <a href="#sec-8.8">List</a>.</li>

  <li>Let <var>indx</var> = <var>len</var> &minus; 1.</li>

  <li>Repeat while <var>indx</var> &gt;= 0,
    <ol class="block">
      <li>Let <var>val</var> be the element of <var>args</var> at 0-origined
          list position <var>indx</var>.</li>

      <li>Call the [[DefineOwnProperty]] internal method on <var>obj</var>
          passing <a href="#sec-9.8">ToString</a>(<var>indx</var>), the
          property descriptor {[[Value]]: <var>val</var>, [[Writable]]:
          <span class="value">true</span>, [[Enumerable]]:
          <span class="value">true</span>, [[Configurable]]:
          <span class="value">true</span>}, and
          <span class="value">false</span> as arguments.</li>

      <li>If <var>indx</var> is less than the number of elements in <var>names</var>,
          then
        <ol class="block">
          <li>Let <var>name</var> be the element of <var>names</var> at
              0-origined list position <var>indx</var>.</li>

          <li>If <var>strict</var> is <span class="value">false</span> and <var>name</var> is not an
              element of <var>mappedNames</var>, then
            <ol class="block">
              <li>Add <var>name</var> as an element of the list
                  <var>mappedNames</var>.</li>

              <li>Let <var>g</var> be the result of calling the
                  <span class="abstractopname">MakeArgGetter</span> abstract
                  operation with arguments <var>name</var> and
                  <var>env</var>.</li>

              <li>Let <var>p</var> be the result of calling the
                  <span class="abstractopname">MakeArgSetter</span> abstract
                  operation with arguments <var>name</var> and
                  <var>env</var>.</li>

              <li>Call the [[DefineOwnProperty]] internal method of
                  <var>map</var>
                  passing <a href="#sec-9.8">ToString</a>(<var>indx</var>), the
                  <a href="#sec-8.10">Property Descriptor</a> {[[Set]]: <var>p</var>, [[Get]]:
                  <var>g</var>, [[Configurable]]:
                  <span class="value">true</span>}, and
                  <span class="value">false</span> as arguments.</li>
            </ol>
          </li>
        </ol>
      </li>

      <li>Let <var>indx</var> = <var>indx</var> &minus; 1.</li>
    </ol>
  </li>

  <li>If <var>mappedNames</var> is not empty, then
    <ol class="block">
      <li>Set the [[ParameterMap]] internal property of <var>obj</var> to
          <var>map</var>.</li>

      <li>Set the [[Get]], [[GetOwnProperty]], [[DefineOwnProperty]], and
          [[Delete]] internal methods of <var>obj</var> to the definitions
          provided below.</li>
    </ol>
  </li>

  <li>If <var>strict</var> is <span class="value">false</span>, then
    <ol class="block">
      <li>Call the [[DefineOwnProperty]] internal method on <var>obj</var>
          passing <span class="string value">"callee"</span>, the
          <a href="#sec-8.10">property descriptor</a> {[[Value]]:
          <var>func</var>, [[Writable]]: <span class="value">true</span>,
          [[Enumerable]]: <span class="value">false</span>, [[Configurable]]:
          <span class="value">true</span>}, and
          <span class="value">false</span> as arguments.</li>
    </ol>
  </li>

  <li>Else, <var>strict</var> is <span class="value">true</span> so
    <ol class="block">
      <li>Let <var>thrower</var> be the [[ThrowTypeError]] function Object
          (<a href="#sec-13.2.3">13.2.3</a>).</li>

      <li>Call the [[DefineOwnProperty]] internal method of <var>obj</var> with
          arguments <span class="string value">"caller"</span>,
          <a href="#sec-8.10">PropertyDescriptor</a> {[[Get]]:
          <var>thrower</var>, [[Set]]: <var>thrower</var>, [[Enumerable]]:
          <span class="value">false</span>, [[Configurable]]:
          <span class="value">false</span>}, and
          <span class="value">false</span>.</li>

      <li><span class="pagemark" id="page71">PDF page 71 / printed page
          61</span>Call the [[DefineOwnProperty]] internal method of
          <var>obj</var> with arguments <span class="string
          value">"callee"</span>, <a href="#sec-8.10">PropertyDescriptor</a>
          {[[Get]]: <var>thrower</var>, [[Set]]: <var>thrower</var>,
          [[Enumerable]]: <span class="value">false</span>, [[Configurable]]:
          <span class="value">false</span>}, and
          <span class="value">false</span>.</li>
    </ol>
  </li>

  <li>Return <var>obj</var>.</li>
</ol>

<p>The abstract operation <span class="abstractopname">MakeArgGetter</span>
called with String <var>name</var> and environment record <var>env</var>
creates a function object that when executed returns the value bound for
<var>name</var> in <var>env</var>. It performs the following steps:</p>

<ol class="proc">
  <li>Let <var>body</var> be the result of concatenating the Strings
      <span class="string value">"return "</span>, <var>name</var>, and
      <span class="string value">";"</span>.</li>

  <li>Return the result of creating a function object as described in
      <a href="#sec-13.2">13.2</a> using no <var>FormalParameterList</var>,
      <var>body</var> for <span class="nt">FunctionBody</span>, <var>env</var>
      as <var>Scope</var>, and <span class="value">true</span> for
      <var>Strict</var>.</li>
</ol>

<p>The abstract operation <span class="abstractopname">MakeArgSetter</span>
called with String <var>name</var> and environment record <var>env</var>
creates a function object that when executed sets the value bound for
<var>name</var> in <var>env</var>. It performs the following steps:</p>

<ol class="proc">
  <li>Let <var>param</var> be the String <var>name</var> concatenated with the
      String <span class="string value">"_arg"</span>.</li>

  <li>Let <var>body</var> be the String <span class="string
      value">"<var>&lt;name&gt;</var> = <var>&lt;param&gt;</var>;"</span> with
      <span class="bogus string value"><var>&lt;name&gt;</var></span> replaced
      by the value of <var>name</var> and <span class="bogus string
      value"><var>&lt;param&gt;</var></span> replaced by the value of
      <var>param</var>.</li>

  <li>Return the result of creating a function object as described in
      <a href="#sec-13.2">13.2</a> using a <a href="#sec-8.8">List</a>
      containing the single String <var>param</var> as
      <var>FormalParameterList</var>, <var>body</var> for
      <span class="nt">FunctionBody</span>, <var>env</var> as <var>Scope</var>,
      and <span class="value">true</span> for <var>Strict</var>.</li>
</ol>

<p>The [[Get]] internal method of an arguments object for a non-strict mode
function with formal parameters when called with a property name <var>P</var>
performs the following steps:</p>

<ol class="proc">
  <li>Let <var>map</var> be the value of the [[ParameterMap]] internal property
      of the arguments object.</li>

  <li>Let <var>isMapped</var> be the result of calling the [[GetOwnProperty]]
      internal method of <var>map</var> passing <var>P</var> as the
      argument.</li>

  <li>If the value of <var>isMapped</var> is
      <span class="value">undefined</span>, then
    <ol class="block">
      <li>Let <var>v</var> be the result of calling the default [[Get]]
          internal method (<a href="#sec-8.12.3">8.12.3</a>) on the arguments
          object passing <var>P</var> as the argument.</li>

      <li>If <var>P</var> is <span class="string value">"caller"</span> and
          <var>v</var> is a strict mode Function object, throw a
          <span class="errorname">TypeError</span> exception.</li>

      <li>Return <var>v</var>.</li>
    </ol>
  </li>

  <li>Else, <var>map</var> contains a formal parameter mapping for <var>P</var>
      so,
    <ol class="block">
      <li>Return the result of calling the [[Get]] internal method of
          <var>map</var> passing <var>P</var> as the argument.</li>
    </ol>
  </li>
</ol>

<p>The [[GetOwnProperty]] internal method of an arguments object for a
non-strict mode function with formal parameters when called with a property
name <var>P</var> performs the following steps:</p>

<ol class="proc">
  <li>Let <var>desc</var> be the result of calling the default
      [[GetOwnProperty]] internal method (<a href="#sec-8.12.1">8.12.1</a>) on
      the arguments object passing <var>P</var> as the argument.</li>

  <li>If <var>desc</var> is <span class="value">undefined</span> then return
      <var>desc</var>.</li>

  <li>Let <var>map</var> be the value of the [[ParameterMap]] internal property
      of the arguments object.</li>

  <li>Let <var>isMapped</var> be the result of calling the [[GetOwnProperty]]
      internal method of <var>map</var> passing <var>P</var> as the
      argument.</li>

  <li>If the value of <var>isMapped</var> is not
      <span class="value">undefined</span>, then
    <ol class="block">
      <li>Set <var>desc</var>.[[Value]] to the result of calling the [[Get]]
          internal method of <var>map</var> passing <var>P</var> as the
          argument.</li>
    </ol>
  </li>

  <li>Return <var>desc</var>.</li>
</ol>

<p>The [[DefineOwnProperty]] internal method of an arguments object for a
non-strict mode function with formal parameters when called with a property
name <var>P</var>, <a href="#sec-8.10">Property Descriptor</a> <var>Desc</var>,
and Boolean flag <var>Throw</var> performs the following steps:</p>

<ol class="proc">
  <li>Let <var>map</var> be the value of the [[ParameterMap]] internal property
      of the arguments object.</li>

  <li>Let <var>isMapped</var> be the result of calling the [[GetOwnProperty]]
      internal method of <var>map</var> passing <var>P</var> as the
      argument.</li>

  <li>Let <var>allowed</var> be the result of calling the default
      [[DefineOwnProperty]] internal method (<a href="#sec-8.12.9">8.12.9</a>)
      on the arguments object passing <var>P</var>, <var>Desc</var>, and
      <span class="value">false</span> as the arguments.</li>

  <li>If <var>allowed</var> is <span class="value">false</span>, then
    <ol class="block">
      <li>If <var>Throw</var> is <span class="value">true</span> then throw a
          <span class="errorname">TypeError</span> exception, otherwise return
          <span class="value">false</span>.</li>
    </ol>
  </li>

  <li>If the value of <var>isMapped</var> is not
      <span class="value">undefined</span>, then
    <ol class="block">
      <li><span class="pagemark" id="page72">PDF page 72 / printed page
          62</span>If
          <a href="#sec-8.10.1">IsAccessorDescriptor</a>(<var>Desc</var>)
          is <span class="value">true</span>, then
        <ol class="block">
          <li>Call the [[Delete]] internal method of <var>map</var> passing
              <var>P</var>, and <span class="value">false</span> as the
              arguments.</li>
        </ol>
      </li>

      <li>Else
        <ol class="block">
          <li>If <var>Desc</var>.[[Value]] is present, then
            <ol class="block">
              <li>Call the [[Put]] internal method of <var>map</var> passing
                  <var>P</var>, <var>Desc</var>.[[Value]], and <var>Throw</var>
                  as the arguments.</li>
            </ol>
          </li>

          <li>If <var>Desc</var>.[[Writable]] is present and its value
              is <span class="value">false</span>, then
            <ol class="block">
              <li>Call the [[Delete]] internal method of <var>map</var> passing
                  <var>P</var> and <span class="value">false</span> as
                  arguments.</li>
            </ol>
          </li>
        </ol>
      </li>
    </ol>
  </li>

  <li>Return <span class="value">true</span>.</li>
</ol>

<p>The [[Delete]] internal method of an arguments object for a non-strict mode
function with formal parameters when called with a property name <var>P</var>
and Boolean flag <var>Throw</var> performs the following steps:</p>

<ol class="proc">
  <li>Let <var>map</var> be the value of the [[ParameterMap]] internal property
      of the arguments object.</li>

  <li>Let <var>isMapped</var> be the result of calling the [[GetOwnProperty]]
      internal method of <var>map</var> passing <var>P</var> as the
      argument.</li>

  <li>Let <var>result</var> be the result of calling the default [[Delete]]
      internal method (<a href="#sec-8.12.7">8.12.7</a>) on the arguments
      object passing <var>P</var> and <var>Throw</var> as the arguments.</li>

  <li>If <var>result</var> is <span class="value">true</span> and the value of
      <var>isMapped</var> is not <span class="value">undefined</span>, then
    <ol class="block">
      <li>Call the [[Delete]] internal method of <var>map</var> passing
          <var>P</var>, and <span class="value">false</span> as the
          arguments.</li>
    </ol>
  </li>

  <li>Return <var>result</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE 1</span> For non-strict mode functions the
  <a href="#def-array-index">array index</a> (defined in
  <a href="#sec-15.4">15.4</a>) <a href="#def-named-data-property">named data
  properties</a> of an arguments object whose numeric name values are less than
  the number of formal parameters of the corresponding function object
  initially share their values with the corresponding argument bindings in the
  function&rsquo;s execution context. This means that changing the property
  changes the corresponding value of the argument binding and vice-versa. This
  correspondence is broken if such a property is deleted and then redefined or
  if the property is changed into an accessor property. For strict mode
  functions, the values of the arguments object&rsquo;s properties are simply a
  copy of the arguments passed to the function and there is no dynamic linkage
  between the property values and the formal parameter values.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> The ParameterMap object and its property
  values are used as a device for specifying the arguments object
  correspondence to argument bindings. The ParameterMap object and the objects
  that are the values of its properties are not directly accessible from
  ECMAScript code. An ECMAScript implementation does not need to actually
  create or use such objects to implement the specified semantics.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 3</span> Arguments objects for strict mode functions
  define non-configurable accessor properties named
  &ldquo;<code class="propname">caller</code>&rdquo; and
  &ldquo;<code class="propname">callee</code>&rdquo; which throw a
  <span class="errorname">TypeError</span> exception on access. The
  &ldquo;<code class="propname">callee</code>&rdquo; property has a more
  specific meaning for non-strict mode functions and a
  &ldquo;<code class="propname">caller</code>&rdquo; property has historically
  been provided as an implementation-defined extension by some ECMAScript
  implementations. The strict mode definition of these properties exists to
  ensure that neither of them is defined in any other manner by conforming
  ECMAScript implementations.</p>
</div>
</section>
</section>



<section id="sec-11">
<h1><span class="secnum"><a href="#sec-11"
    title="link to this section">11</a></span>
    Expressions</h1>

<section id="sec-11.1">
<h1><span class="secnum"><a href="#sec-11.1"
    title="link to this section">11.1</a></span>
    Primary Expressions</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-PrimaryExpression">
    <div class="lhs">
      <span class="nt">PrimaryExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">this</code>
    </div>
    <div class="rhs">
      <span class="nt">Identifier</span>
    </div>
    <div class="rhs">
      <span class="nt">Literal</span>
    </div>
    <div class="rhs">
      <span class="nt">ArrayLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">ObjectLiteral</span>
    </div>
    <div class="rhs">
      <code class="t">(</code> <span class="nt">Expression</span> <code class="t">)</code>
    </div>
  </div>
</div>

<section id="sec-11.1.1">
<h1><span class="secnum"><a href="#sec-11.1.1"
    title="link to this section">11.1.1</a></span>
    The this Keyword</h1>

<p>The <code class="t">this</code> keyword evaluates to the value of the
ThisBinding of the current execution context.</p>
</section>

<section id="sec-11.1.2">
<span class="pagemark" id="page73">PDF page 73 / printed page 63</span>
<h1><span class="secnum"><a href="#sec-11.1.2"
    title="link to this section">11.1.2</a></span>
    Identifier Reference</h1>

<p>An <span class="nt">Identifier</span> is evaluated by performing Identifier
Resolution as specified in <a href="#sec-10.3.1">10.3.1</a>. The result of
evaluating an <span class="nt">Identifier</span> is always a value of type
<a href="#sec-8.7">Reference</a>.</p>
</section>

<section id="sec-11.1.3">
<h1><span class="secnum"><a href="#sec-11.1.3"
    title="link to this section">11.1.3</a></span>
    Literal Reference</h1>

<p>A <span class="nt">Literal</span> is evaluated as described in
<a href="#sec-7.8">7.8</a>.</p>
</section>

<section id="sec-11.1.4">
<h1><span class="secnum"><a href="#sec-11.1.4"
    title="link to this section">11.1.4</a></span>
    Array Initialiser</h1>

<p>An array initialiser is an expression describing the initialisation of an
Array object, written in a form of a literal. It is a list of zero or more
expressions, each of which represents an <a href="#def-array-element">array
element</a>, enclosed in square brackets. The elements need not be literals;
they are evaluated each time the array initialiser is evaluated.</p>

<p>Array elements may be elided at the beginning, middle or end of the element
list. Whenever a comma in the element list is not preceded by an
<span class="nt">AssignmentExpression</span> (i.e., a comma at the beginning or
after another comma), the missing array element contributes to the length of
the Array and increases the index of subsequent elements. Elided array elements
are not defined. If an element is elided at the end of an array, that element
does not contribute to the length of the Array.</p>


<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-ArrayLiteral">
    <div class="lhs">
      <span class="nt">ArrayLiteral</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">[</code> <span class="nt">Elision</span><sub>opt</sub> <code class="t">]</code>
    </div>
    <div class="rhs">
      <code class="t">[</code> <span class="nt">ElementList</span> <code class="t">]</code>
    </div>
    <div class="rhs">
      <code class="t">[</code> <span class="nt">ElementList</span> <code class="t">,</code> <span class="nt">Elision</span><sub>opt</sub> <code class="t">]</code>
    </div>
  </div>

  <div class="gp" id="def-ElementList">
    <div class="lhs">
      <span class="nt">ElementList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Elision</span><sub>opt</sub> <span class="nt">AssignmentExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">ElementList</span> <code class="t">,</code> <span class="nt">Elision</span><sub>opt</sub> <span class="nt">AssignmentExpression</span>
    </div>
  </div>

  <div class="gp" id="def-Elision">
    <div class="lhs">
      <span class="nt">Elision</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">,</code>
    </div>
    <div class="rhs">
      <span class="nt">Elision</span> <code class="t">,</code>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>The production <span class="prod"><span class="nt">ArrayLiteral</span>
<span class="geq">:</span> <code class="t">[</code>
<span class="nt">Elision</span><sub>opt</sub> <code class="t">]</code></span>
is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>array</var> be the result of creating a new object as if by the
      expression <code class="expr">new Array()</code> where
      <code class="expr">Array</code> is the standard built-in constructor with
      that name.</li>

  <li>Let <var>pad</var> be the result of evaluating
      <span class="nt">Elision</span>; if not present, use the numeric value
      zero.</li>

  <li>Call the [[Put]] internal method of <var>array</var> with arguments
      <span class="string value">"length"</span>, <var>pad</var>, and
      <span class="value">false</span>.</li>

  <li>Return <var>array</var>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">ArrayLiteral</span>
<span class="geq">:</span> <code class="t">[</code>
<span class="nt">ElementList</span> <code class="t">]</code></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Return the result of evaluating <span class="nt">ElementList</span>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">ArrayLiteral</span>
<span class="geq">:</span> <code class="t">[</code>
<span class="nt">ElementList</span> <code class="t">,</code>
<span class="nt">Elision</span><sub>opt</sub> <code class="t">]</code></span>
is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>array</var> be the result of evaluating
      <span class="nt">ElementList</span>.</li>

  <li>Let <var>pad</var> be the result of evaluating
      <span class="nt">Elision</span>; if not present, use the numeric value
      zero.</li>

  <li>Let <var>len</var> be the result of calling the [[Get]] internal method
      of <var>array</var> with argument <span class="string
      value">"length"</span>.</li>

  <li>Call the [[Put]] internal method of <var>array</var> with arguments
      <span class="string value">"length"</span>,
      <a href="#sec-9.6">ToUint32</a>(<var>pad</var>+<var>len</var>), and
      <span class="value">false</span>.</li>

  <li>Return <var>array</var>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">ElementList</span>
<span class="geq">:</span> <span class="nt">Elision</span><sub>opt</sub>
<span class="nt">AssignmentExpression</span></span> is evaluated as
follows:</p>

<ol class="proc">
  <li><span class="pagemark" id="page74">PDF page 74 / printed page
      64</span>Let <var>array</var> be the result of creating a new object as
      if by the expression <code class="expr">new Array()</code> where
      <code class="expr">Array</code> is the standard built-in constructor with
      that name.</li>

  <li>Let <var>firstIndex</var> be the result of evaluating
      <span class="nt">Elision</span>; if not present, use the numeric value
      zero.</li>

  <li>Let <var>initResult</var> be the result of evaluating
      <span class="nt">AssignmentExpression</span>.</li>

  <li>Let <var>initValue</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>initResult</var>).</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>array</var> with
      arguments <a href="#sec-9.8">ToString</a>(<var>firstIndex</var>), the
      <a href="#sec-8.10">Property Descriptor</a> { [[Value]]:
      <var>initValue</var>, [[Writable]]: <span class="value">true</span>,
      [[Enumerable]]: <span class="value">true</span>, [[Configurable]]:
      <span class="value">true</span>}, and
      <span class="value">false</span>.</li>

  <li>Return <var>array</var>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">ElementList</span>
<span class="geq">:</span> <span class="nt">ElementList</span>
<code class="t">,</code> <span class="nt">Elision</span><sub>opt</sub>
<span class="nt">AssignmentExpression</span></span> is evaluated as
follows:</p>

<ol class="proc">
  <li>Let <var>array</var> be the result of evaluating
      <span class="nt">ElementList</span>.</li>

  <li>Let <var>pad</var> be the result of evaluating
      <span class="nt">Elision</span>; if not present, use the numeric value
      zero.</li>

  <li>Let <var>initResult</var> be the result of evaluating
      <span class="nt">AssignmentExpression</span>.</li>

  <li>Let <var>initValue</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>initResult</var>).</li>

  <li>Let <var>len</var> be the result of calling the [[Get]] internal method
      of <var>array</var> with argument <span class="string
      value">"length"</span>.</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>array</var> with
      arguments
      <a href="#sec-9.8">ToString</a>(<a href="#sec-9.6">ToUint32</a>((<var>pad</var>+<var>len</var>))
      and the <a href="#sec-8.10">Property Descriptor</a> { [[Value]]:
      <var>initValue</var>, [[Writable]]: <span class="value">true</span>,
      [[Enumerable]]: <span class="value">true</span>, [[Configurable]]:
      <span class="value">true</span>}, and
      <span class="value">false</span>.</li>

  <li>Return <var>array</var>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">Elision</span>
<span class="geq">:</span> <code class="t">,</code></span> is evaluated as
follows:</p>

<ol class="proc">
  <li>Return the numeric value 1.</li>
</ol>

<p>The production <span class="prod"><span class="nt">Elision</span>
<span class="geq">:</span> <span class="nt">Elision</span>
<code class="t">,</code></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>preceding</var> be the result of evaluating
      <span class="nt">Elision</span>.</li>

  <li>Return <var>preceding</var>+1.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> [[DefineOwnProperty]] is used to ensure that
  own properties are defined for the array even if the standard built-in Array
  prototype object has been modified in a manner that would preclude the
  creation of new own properties using [[Put]].</p>
</div>
</section>

<section id="sec-11.1.5">
<h1><span class="secnum"><a href="#sec-11.1.5"
    title="link to this section">11.1.5</a></span>
    Object Initialiser</h1>

<p>An object initialiser is an expression describing the initialisation of an
Object, written in a form resembling a literal. It is a list of zero or more
pairs of property names and associated values, enclosed in curly braces. The
values need not be literals; they are evaluated each time the object
initialiser is evaluated.</p>


<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-ObjectLiteral">
    <div class="lhs">
      <span class="nt">ObjectLiteral</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">{</code> <code class="t">}</code>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">PropertyNameAndValueList</span> <code class="t">}</code>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">PropertyNameAndValueList</span> <code class="t">,</code> <code class="t">}</code>
    </div>
  </div>

  <div class="gp" id="def-PropertyNameAndValueList">
    <div class="lhs">
      <span class="nt">PropertyNameAndValueList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">PropertyAssignment</span>
    </div>
    <div class="rhs">
      <span class="nt">PropertyNameAndValueList</span> <code class="t">,</code> <span class="nt">PropertyAssignment</span>
    </div>
  </div>

  <div class="gp" id="def-PropertyAssignment">
    <div class="lhs">
      <span class="nt">PropertyAssignment</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">PropertyName</span> <code class="t">:</code> <span class="nt">AssignmentExpression</span>
    </div>
    <div class="rhs">
      <code class="t">get</code> <span class="nt">PropertyName</span> <code class="t">(</code> <code class="t">)</code> <code class="t">{</code> <span class="nt">FunctionBody</span> <code class="t">}</code>
    </div>
    <div class="rhs">
      <code class="t">set</code> <span class="nt">PropertyName</span> <code class="t">(</code> <span class="nt">PropertySetParameterList</span> <code class="t">)</code> <code class="t">{</code> <span class="nt">FunctionBody</span> <code class="t">}</code>
    </div>
  </div>

  <div class="gp" id="def-PropertyName">
    <span class="pagemark" id="page75">PDF page 75 / printed page 65</span>
    <div class="lhs">
      <span class="nt">PropertyName</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">IdentifierName</span>
    </div>
    <div class="rhs">
      <span class="nt">StringLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">NumericLiteral</span>
    </div>
  </div>

  <div class="gp" id="def-PropertySetParameterList">
    <div class="lhs">
      <span class="nt">PropertySetParameterList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Identifier</span>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>The production <span class="prod"><span class="nt">ObjectLiteral</span>
<span class="geq">:</span> <code class="t">{</code>
<code class="t">}</code></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Return a new object created as if by the expression
      <code class="expr">new Object()</code> where
      <code class="expr">Object</code> is the standard built-in constructor
      with that name.</li>
</ol>

<p>The productions <span class="prod"><span class="nt">ObjectLiteral</span>
<span class="geq">:</span> <code class="t">{</code>
<span class="nt">PropertyNameAndValueList</span>
<code class="t">}</code></span> and
<span class="prod"><span class="nt">ObjectLiteral</span>
<span class="geq">:</span> <code class="t">{</code>
<span class="nt">PropertyNameAndValueList</span> <code class="t">,</code>
<code class="t">}</code></span> are evaluated as follows:</p>

<ol class="proc">
  <li>Return the result of evaluating
      <span class="nt">PropertyNameAndValueList</span>.</li>
</ol>

<p>The production
<span class="prod"><span class="nt">PropertyNameAndValueList</span>
<span class="geq">:</span> <span class="nt">PropertyAssignment</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>obj</var> be the result of creating a new object as if by the
      expression <code class="expr">new Object()</code> where
      <code class="expr">Object</code> is the standard built-in constructor
      with that name.</li>

  <li>Let <var>propId</var> be the result of evaluating
      <span class="nt">PropertyAssignment</span>.</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>obj</var> with
      arguments <var>propId</var>.name, <var>propId</var>.descriptor, and
      <span class="value">false</span>.</li>

  <li>Return <var>obj</var>.</li>
</ol>

<p>The production
<span class="prod"><span class="nt">PropertyNameAndValueList</span>
<span class="geq">:</span> <span class="nt">PropertyNameAndValueList</span>
<code class="t">,</code> <span class="nt">PropertyAssignment</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>obj</var> be the result of evaluating
      <span class="nt">PropertyNameAndValueList</span>.</li>

  <li>Let <var>propId</var> be the result of evaluating
      <span class="nt">PropertyAssignment</span>.</li>

  <li>Let <var>previous</var> be the result of calling the [[GetOwnProperty]]
      internal method of <var>obj</var> with argument
      <var>propId</var>.name.</li>

  <li>If <var>previous</var> is not <span class="value">undefined</span> then
      throw a <span class="errorname">SyntaxError</span> exception if any of
      the following conditions are true
    <ol class="block">
      <li>This production is contained in <a href="#sec-10.1.1">strict code</a>
          and <a href="#sec-8.10.2">IsDataDescriptor</a>(<var>previous</var>)
          is <span class="value">true</span> and
          <a href="#sec-8.10.2">IsDataDescriptor</a>(<var>propId</var>.descriptor)
          is <span class="value">true</span>.</li>

      <li><a href="#sec-8.10.2">IsDataDescriptor</a>(<var>previous</var>)
          is <span class="value">true</span> and
          <a href="#sec-8.10.1">IsAccessorDescriptor</a>(<var>propId</var>.descriptor)
          is <span class="value">true</span>.</li>

      <li><a href="#sec-8.10.1">IsAccessorDescriptor</a>(<var>previous</var>)
          is <span class="value">true</span> and
          <a href="#sec-8.10.2">IsDataDescriptor</a>(<var>propId</var>.descriptor)
          is <span class="value">true</span>.</li>

      <li><a href="#sec-8.10.1">IsAccessorDescriptor</a>(<var>previous</var>)
          is <span class="value">true</span> and
          <a href="#sec-8.10.1">IsAccessorDescriptor</a>(<var>propId</var>.descriptor)
          is <span class="value">true</span> and either both
          <var>previous</var> and <var>propId</var>.descriptor have [[Get]]
          fields or both <var>previous</var> and <var>propId</var>.descriptor
          have [[Set]] fields.</li>
    </ol>
  </li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>obj</var> with
      arguments <var>propId</var>.name, <var>propId</var>.descriptor, and
      <span class="value">false</span>.</li>

  <li>Return <var>obj</var>.</li>
</ol>

<p>If the above steps would throw a <span class="errorname">SyntaxError</span>
then an implementation must treat the error as an early error
(<a href="#sec-16">Clause 16</a>).</p>

<p>The production <span class="prod"><span class="nt">PropertyAssignment</span>
<span class="geq">:</span> <span class="nt">PropertyName</span>
<code class="t">:</code> <span class="nt">AssignmentExpression</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>propName</var> be the result of evaluating
      <span class="nt">PropertyName</span>.</li>

  <li>Let <var>exprValue</var> be the result of evaluating
      <span class="nt">AssignmentExpression</span>.</li>

  <li>Let <var>propValue</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>exprValue</var>).</li>

  <li>Let <var>desc</var> be the <a href="#sec-8.10">Property Descriptor</a>
      {[[Value]]: <var>propValue</var>, [[Writable]]:
      <span class="value">true</span>, [[Enumerable]]:
      <span class="value">true</span>, [[Configurable]]:
      <span class="value">true</span>}.</li>

  <li>Return <a href="#def-property-identifier">Property Identifier</a>
      (<var>propName</var>, <var>desc</var>).</li>
</ol>

<p><span class="pagemark" id="page76">PDF page 76 / printed page 66</span> The
production <span class="prod"><span class="nt">PropertyAssignment</span>
<span class="geq">:</span> <code class="t">get</code>
<span class="nt">PropertyName</span> <code class="t">(</code>
<code class="t">)</code> <code class="t">{</code>
<span class="nt">FunctionBody</span> <code class="t">}</code></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>propName</var> be the result of evaluating
      <span class="nt">PropertyName</span>.</li>

  <li>Let <var>closure</var> be the result of creating a new Function object as
      specified in <a href="#sec-13.2">13.2</a> with an empty parameter list
      and body specified by <span class="nt">FunctionBody</span>. Pass in the
      LexicalEnvironment of the running execution context as the
      <var>Scope</var>. Pass in <span class="value">true</span> as the
      <var>Strict</var> flag if the <span class="nt">PropertyAssignment</span>
      is contained in <a href="#sec-10.1.1">strict code</a> or if its
      <span class="nt">FunctionBody</span> is <a href="#sec-10.1.1">strict
      code</a>.</li>

  <li>Let <var>desc</var> be the <a href="#sec-8.10">Property Descriptor</a>
      {[[Get]]: <var>closure</var>, [[Enumerable]]:
      <span class="value">true</span>, [[Configurable]]:
      <span class="value">true</span>}.</li>

  <li>Return <a href="#def-property-identifier">Property Identifier</a>
      (<var>propName</var>, <var>desc</var>).</li>
</ol>

<p>The production <span class="prod"><span class="nt">PropertyAssignment</span>
<span class="geq">:</span> <code class="t">set</code>
<span class="nt">PropertyName</span> <code class="t">(</code>
<span class="nt">PropertySetParameterList</span> <code class="t">)</code>
<code class="t">{</code> <span class="nt">FunctionBody</span>
<code class="t">}</code></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>propName</var> be the result of evaluating
      <span class="nt">PropertyName</span>.</li>

  <li>Let <var>closure</var> be the result of creating a new Function object as
      specified in <a href="#sec-13.2">13.2</a> with parameters specified by
      <span class="nt">PropertySetParameterList</span> and body specified by
      <span class="nt">FunctionBody</span>. Pass in the LexicalEnvironment of
      the running execution context as the <var>Scope</var>. Pass in
      <span class="value">true</span> as the <var>Strict</var> flag if the
      <span class="nt">PropertyAssignment</span> is contained in
      <a href="#sec-10.1.1">strict code</a> or if its
      <span class="nt">FunctionBody</span> is <a href="#sec-10.1.1">strict
      code</a>.</li>

  <li>Let <var>desc</var> be the <a href="#sec-8.10">Property Descriptor</a>
      {[[Set]]: <var>closure</var>, [[Enumerable]]:
      <span class="value">true</span>, [[Configurable]]:
      <span class="value">true</span>}.</li>

  <li>Return <a href="#def-property-identifier">Property Identifier</a>
      (<var>propName</var>, <var>desc</var>).</li>
</ol>

<p>It is a <span class="errorname">SyntaxError</span> if the
<span class="nt">Identifier</span> <span class="string value">"eval"</span> or
the <span class="nt">Identifier</span> <span class="string
value">"arguments"</span> occurs as the <span class="nt">Identifier</span> in a
<span class="nt">PropertySetParameterList</span> of a
<span class="nt">PropertyAssignment</span> that is contained in
<a href="#sec-10.1.1">strict code</a> or if its
<span class="nt">FunctionBody</span> is <a href="#sec-10.1.1">strict
code</a>.</p>

<p>The production <span class="prod"><span class="nt">PropertyName</span>
<span class="geq">:</span> <span class="nt">IdentifierName</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Return the String value containing the same sequence of characters as the
      <span class="nt">IdentifierName</span>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">PropertyName</span>
<span class="geq">:</span> <span class="nt">StringLiteral</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Return the SV of the <span class="nt">StringLiteral</span>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">PropertyName</span>
<span class="geq">:</span> <span class="nt">NumericLiteral</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>nbr</var> be the result of forming the value of the
      <span class="nt">NumericLiteral</span>.</li>

  <li>Return <a href="#sec-9.8">ToString</a>(<var>nbr</var>).</li>
</ol>
</section>

<section id="sec-11.1.6">
<h1><span class="secnum"><a href="#sec-11.1.6"
    title="link to this section">11.1.6</a></span>
    The Grouping Operator</h1>

<p>The production <span class="prod"><span class="nt">PrimaryExpression</span>
<span class="geq">:</span> <code class="t">(</code>
<span class="nt">Expression</span> <code class="t">)</code></span> is evaluated
as follows:</p>

<ol class="proc">
  <li>Return the result of evaluating <span class="nt">Expression</span>. This
      may be of type <a href="#sec-8.7">Reference</a>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> This algorithm does not apply
  <a href="#sec-8.7.1">GetValue</a> to the result of evaluating Expression. The
  principal motivation for this is so that operators such as
  <code class="t">delete</code> and <code class="t">typeof</code> may be
  applied to parenthesised expressions.</p>
</div>
</section>
</section>


<section id="sec-11.2">
<h1><span class="secnum"><a href="#sec-11.2"
    title="link to this section">11.2</a></span>
    Left-Hand-Side Expressions</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-MemberExpression">
    <div class="lhs">
      <span class="nt">MemberExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">PrimaryExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">FunctionExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">MemberExpression</span> <code class="t">[</code> <span class="nt">Expression</span> <code class="t">]</code>
    </div>
    <div class="rhs">
      <span class="nt">MemberExpression</span> <code class="t">.</code> <span class="nt">IdentifierName</span>
    </div>
    <div class="rhs">
      <code class="t">new</code> <span class="nt">MemberExpression</span> <span class="nt">Arguments</span>
    </div>
  </div>

  <div class="gp" id="def-NewExpression">
    <span class="pagemark" id="page77">PDF page 77 / printed page 67</span>
    <div class="lhs">
      <span class="nt">NewExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">MemberExpression</span>
    </div>
    <div class="rhs">
      <code class="t">new</code> <span class="nt">NewExpression</span>
    </div>
  </div>

  <div class="gp" id="def-CallExpression">
    <div class="lhs">
      <span class="nt">CallExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">MemberExpression</span> <span class="nt">Arguments</span>
    </div>
    <div class="rhs">
      <span class="nt">CallExpression</span> <span class="nt">Arguments</span>
    </div>
    <div class="rhs">
      <span class="nt">CallExpression</span> <code class="t">[</code> <span class="nt">Expression</span> <code class="t">]</code>
    </div>
    <div class="rhs">
      <span class="nt">CallExpression</span> <code class="t">.</code> <span class="nt">IdentifierName</span>
    </div>
  </div>

  <div class="gp" id="def-Arguments">
    <div class="lhs">
      <span class="nt">Arguments</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">(</code> <code class="t">)</code>
    </div>
    <div class="rhs">
      <code class="t">(</code> <span class="nt">ArgumentList</span> <code class="t">)</code>
    </div>
  </div>

  <div class="gp" id="def-ArgumentList">
    <div class="lhs">
      <span class="nt">ArgumentList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">AssignmentExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">ArgumentList</span> <code class="t">,</code> <span class="nt">AssignmentExpression</span>
    </div>
  </div>

  <div class="gp" id="def-LeftHandSideExpression">
    <div class="lhs">
      <span class="nt">LeftHandSideExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">NewExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">CallExpression</span>
    </div>
  </div>
</div>

<section id="sec-11.2.1">
<h1><span class="secnum"><a href="#sec-11.2.1"
    title="link to this section">11.2.1</a></span>
    Property Accessors</h1>

<p>Properties are accessed by name, using either the dot notation:</p>

<div class="display">
  <div>
    <span class="nt">MemberExpression</span> <code class="t">.</code>
    <span class="nt">IdentifierName</span>
  </div>

  <div>
    <span class="nt">CallExpression</span>
    <code class="t">.</code> <span class="nt">IdentifierName</span>
  </div>
</div>

<p>or the bracket notation:</p>

<div class="display">
  <div>
    <span class="nt">MemberExpression</span> <code class="t">[</code>
    <span class="nt">Expression</span> <code class="t">]</code>
  </div>
  <div>
    <span class="nt">CallExpression</span> <code class="t">[</code>
    <span class="nt">Expression</span> <code class="t">]</code>
  </div>
</div>

<p>The dot notation is explained by the following syntactic conversion:</p>

<div class="display">
  <div>
    <span class="nt">MemberExpression</span> <code class="t">.</code>
    <span class="nt">IdentifierName</span>
  </div>
</div>

<p>is identical in its behaviour to</p>

<div class="display">
  <div>
    <span class="nt">MemberExpression</span> <code class="t">[</code>
    <var>&lt;identifier-name-string&gt;</var> <code class="t">]</code>
  </div>
</div>

<p>and similarly</p>

<div class="display">
  <div>
    <span class="nt">CallExpression</span> <code class="t">.</code>
    <span class="nt">IdentifierName</span>
  </div>
</div>

<p>is identical in its behaviour to</p>

<div class="display">
  <div>
    <span class="nt">CallExpression</span> <code class="t">[</code>
    <var>&lt;identifier-name-string&gt;</var> <code class="t">]</code>
  </div>
</div>

<p>where <var>&lt;identifier-name-string&gt;</var> is a string literal
containing the same sequence of characters after processing of Unicode escape
sequences as the <span class="nt">IdentifierName</span>.</p>

<p>The production <span class="prod"><span class="nt">MemberExpression</span>
<span class="geq">:</span> <span class="nt">MemberExpression</span>
<code class="t">[</code> <span class="nt">Expression</span>
<code class="t">]</code></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>baseReference</var> be the result of evaluating
      <span class="nt">MemberExpression</span>.</li>

  <li>Let <var>baseValue</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>baseReference</var>).</li>

  <li>Let <var>propertyNameReference</var> be the result of evaluating
      <span class="nt">Expression</span>.</li>

  <li>Let <var>propertyNameValue</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>propertyNameReference</var>).</li>

  <li>Call
      <a href="#sec-9.10">CheckObjectCoercible</a>(<var>baseValue</var>).</li>

  <li>Let <var>propertyNameString</var> be
      <a href="#sec-9.8">ToString</a>(<var>propertyNameValue</var>).</li>

  <li>If the syntactic production that is being evaluated is contained in
      <a href="#sec-10.1.1">strict mode code</a>, let <var>strict</var> be
      <span class="value">true</span>, else let <var>strict</var> be
      <span class="value">false</span>.</li>

  <li><span class="pagemark" id="page78">PDF page 78 / printed page
      68</span>Return a value of type <a href="#sec-8.7">Reference</a> whose
      base value is <var>baseValue</var> and whose referenced name is
      <var>propertyNameString</var>, and whose strict mode flag is
      <var>strict</var>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">CallExpression</span>
<span class="geq">:</span> <span class="nt">CallExpression</span>
<code class="t">[</code> <span class="nt">Expression</span>
<code class="t">]</code></span> is evaluated in exactly the same manner, except
that the contained <span class="nt">CallExpression</span> is evaluated in step
1.</p>
</section>

<section id="sec-11.2.2">
<h1><span class="secnum"><a href="#sec-11.2.2"
    title="link to this section">11.2.2</a></span>
    The new Operator</h1>

<p>The production <span class="prod"><span class="nt">NewExpression</span>
<span class="geq">:</span> <code class="t">new</code>
<span class="nt">NewExpression</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>ref</var> be the result of evaluating
      <span class="nt">NewExpression</span>.</li>

  <li>Let <var>constructor</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>ref</var>).</li>

  <li>If <a href="#def-type">Type</a>(<var>constructor</var>) is not Object,
      throw a <span class="errorname">TypeError</span> exception.</li>

  <li>If <var>constructor</var> does not implement the [[Construct]] internal
      method, throw a <span class="errorname">TypeError</span> exception.</li>

  <li>Return the result of calling the [[Construct]] internal method on
      <var>constructor</var>, providing no arguments (that is, an empty list of
      arguments).</li>
</ol>

<p>The production <span class="prod"><span class="nt">MemberExpression</span>
<span class="geq">:</span> <code class="t">new</code>
<span class="nt">MemberExpression</span>
<span class="nt">Arguments</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>ref</var> be the result of evaluating
      <span class="nt">MemberExpression</span>.</li>

  <li>Let <var>constructor</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>ref</var>).</li>

  <li>Let <var>argList</var> be the result of evaluating
      <span class="nt">Arguments</span>, producing an internal list of argument
      values (<a href="#sec-11.2.4">11.2.4</a>).</li>

  <li>If <a href="#def-type">Type</a>(<var>constructor</var>) is not Object,
      throw a <span class="errorname">TypeError</span> exception.</li>

  <li>If <var>constructor</var> does not implement the [[Construct]] internal
      method, throw a <span class="errorname">TypeError</span> exception.</li>

  <li>Return the result of calling the [[Construct]] internal method on
      <var>constructor</var>, providing the list <var>argList</var> as the
      argument values.</li>
</ol>
</section>

<section id="sec-11.2.3">
<h1><span class="secnum"><a href="#sec-11.2.3"
    title="link to this section">11.2.3</a></span>
    Function Calls</h1>

<p>The production <span class="prod"><span class="nt">CallExpression</span>
<span class="geq">:</span> <span class="nt">MemberExpression</span>
<span class="nt">Arguments</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>ref</var> be the result of evaluating
      <span class="nt">MemberExpression</span>.</li>

  <li>Let <var>func</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>ref</var>).</li>

  <li>Let <var>argList</var> be the result of evaluating
      <span class="nt">Arguments</span>, producing an internal list of argument
      values (<a href="#sec-11.2.4">see 11.2.4</a>).</li>

  <li>If <a href="#def-type">Type</a>(<var>func</var>) is not Object, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>If <a href="#sec-9.11">IsCallable</a>(<var>func</var>) is
      <span class="value">false</span>, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>If <a href="#def-type">Type</a>(<var>ref</var>) is
      <a href="#sec-8.7">Reference</a>, then
    <ol class="block">
      <li>If <a href="#def-IsPropertyReference">IsPropertyReference</a>(<var>ref</var>)
          is <span class="value">true</span>, then
        <ol class="block">
          <li>Let <var>thisValue</var>
              be <a href="#def-GetBase">GetBase</a>(<var>ref</var>).</li>
        </ol>
      </li>

      <li>Else, the base of <var>ref</var> is an <a href="#sec-10.2.1">Environment Record</a>
        <ol class="block">
          <li>Let <var>thisValue</var> be the result of calling the
              ImplicitThisValue concrete method of
              <a href="#def-GetBase">GetBase</a>(<var>ref</var>).</li>
        </ol>
      </li>
    </ol>
  </li>

  <li>Else, <a href="#def-type">Type</a>(<var>ref</var>) is not
      <a href="#sec-8.7">Reference</a>.
    <ol class="block">
      <li>Let <var>thisValue</var> be
          <span class="value">undefined</span>.</li>
    </ol>
  </li>

  <li>Return the result of calling the [[Call]] internal method on
      <var>func</var>, providing <var>thisValue</var> as the
      <span class="this">this</span> value and providing the list
      <var>argList</var> as the argument values.</li>
</ol>

<p>The production <span class="prod"><span class="nt">CallExpression</span>
<span class="geq">:</span> <span class="nt">CallExpression</span>
<span class="nt">Arguments</span></span> is evaluated in exactly the same
manner, except that the contained <span class="nt">CallExpression</span> is
evaluated in step 1.</p>


<div class="note">
  <p><span class="nh">NOTE</span> The returned result will never be of type
  <a href="#sec-8.7">Reference</a> if <var>func</var> is a native ECMAScript
  object. Whether calling a host object can return a value of type
  <a href="#sec-8.7">Reference</a> is implementation-dependent. If a value of
  type <a href="#sec-8.7">Reference</a> is returned, it must be a non-strict
  <a href="#def-IsPropertyReference">Property Reference</a>.</p>
</div>
</section>

<section id="sec-11.2.4">
<h1><span class="secnum"><a href="#sec-11.2.4"
    title="link to this section">11.2.4</a></span>
    Argument Lists</h1>

<p>The evaluation of an argument list produces a <a href="#sec-8.8">List</a> of
values (<a href="#sec-8.8">see 8.8</a>).</p>

<p>The production <span class="prod"><span class="nt">Arguments</span>
<span class="geq">:</span> <code class="t">(</code>
<code class="t">)</code></span> is evaluated as follows:</p>

<ol class="proc">
  <li><span class="pagemark" id="page79">PDF page 79 / printed page
      69</span>Return an empty <a href="#sec-8.8">List</a>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">Arguments</span>
<span class="geq">:</span> <code class="t">(</code>
<span class="nt">ArgumentList</span> <code class="t">)</code></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Return the result of evaluating
      <span class="nt">ArgumentList</span>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">ArgumentList</span>
<span class="geq">:</span> <span class="nt">AssignmentExpression</span></span>
is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>ref</var> be the result of evaluating
      <span class="nt">AssignmentExpression</span>.</li>

  <li>Let <var>arg</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>ref</var>).</li>

  <li>Return a <a href="#sec-8.8">List</a> whose sole item is
      <var>arg</var>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">ArgumentList</span>
<span class="geq">:</span> <span class="nt">ArgumentList</span>
<code class="t">,</code> <span class="nt">AssignmentExpression</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>precedingArgs</var> be the result of evaluating
      <span class="nt">ArgumentList</span>.</li>

  <li>Let <var>ref</var> be the result of evaluating
      <span class="nt">AssignmentExpression</span>.</li>

  <li>Let <var>arg</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>ref</var>).</li>

  <li>Return a <a href="#sec-8.8">List</a> whose length is one greater than the
      length of <var>precedingArgs</var> and whose items are the items of
      <var>precedingArgs</var>, in order, followed at the end by <var>arg</var>
      which is the last item of the new list.</li>
</ol>
</section>

<section id="sec-11.2.5">
<h1><span class="secnum"><a href="#sec-11.2.5"
    title="link to this section">11.2.5</a></span>
    Function Expressions</h1>

<p>The production <span class="prod"><span class="nt">MemberExpression</span>
<span class="geq">:</span> <span class="nt">FunctionExpression</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Return the result of evaluating
      <span class="nt">FunctionExpression</span>.</li>
</ol>
</section>
</section>


<section id="sec-11.3">
<h1><span class="secnum"><a href="#sec-11.3"
    title="link to this section">11.3</a></span>
    Postfix Expressions</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-PostfixExpression">
    <div class="lhs">
      <span class="nt">PostfixExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">LeftHandSideExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">LeftHandSideExpression</span> <span class="grhsannot"><a href="#def-restricted-production">[no <span class="nt">LineTerminator</span> here]</a></span> <code class="t">++</code>
    </div>
    <div class="rhs">
      <span class="nt">LeftHandSideExpression</span> <span class="grhsannot"><a href="#def-restricted-production">[no <span class="nt">LineTerminator</span> here]</a></span> <code class="t">--</code>
    </div>
  </div>
</div>

<section id="sec-11.3.1">
<h1><span class="secnum"><a href="#sec-11.3.1"
    title="link to this section">11.3.1</a></span>
    Postfix Increment Operator</h1>

<p>The production <span class="prod"><span class="nt">PostfixExpression</span>
<span class="geq">:</span> <span class="nt">LeftHandSideExpression</span>
<span class="grhsannot"><a href="#def-restricted-production">[no
<span class="nt">LineTerminator</span> here]</a></span>
<code class="t">++</code></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lhs</var> be the result of evaluating
      <span class="nt">LeftHandSideExpression</span>.</li>

  <li>Throw a <span class="errorname">SyntaxError</span> exception if the
      following conditions are all true:
    <ul>
      <li><a href="#def-type">Type</a>(<var>lhs</var>) is <a href="#sec-8.7">Reference</a> is
          <span class="value">true</span></li>

      <li><a href="#def-IsStrictReference">IsStrictReference</a>(<var>lhs</var>)
          is <span class="value">true</span></li>

      <li><a href="#def-type">Type</a>(<a href="#def-GetBase">GetBase</a>(<var>lhs</var>))
          is Enviroment Record</li>

      <li><a href="#def-GetReferencedName">GetReferencedName</a>(<var>lhs</var>)
          is either <span class="string value">"eval"</span> or
          <span class="string value">"arguments"</span></li>
    </ul>
  </li>

  <li>Let <var>oldValue</var> be
      <a href="#sec-9.3">ToNumber</a>(<a href="#sec-8.7.1">GetValue</a>(<var>lhs</var>)).</li>

  <li>Let <var>newValue</var> be the result of adding the value
      <span class="value">1</span> to <var>oldValue</var>, using the same rules
      as for the <code class="t">+</code> operator (<a href="#sec-11.6.3">see
      11.6.3</a>).</li>

  <li>Call <a href="#sec-8.7.2">PutValue</a>(<var>lhs</var>,
      <var>newValue</var>).</li>

  <li>Return <var>oldValue</var>.</li>
</ol>
</section>

<section id="sec-11.3.2">
<h1><span class="secnum"><a href="#sec-11.3.2"
    title="link to this section">11.3.2</a></span>
    Postfix Decrement Operator</h1>

<p>The production <span class="prod"><span class="nt">PostfixExpression</span>
<span class="geq">:</span> <span class="nt">LeftHandSideExpression</span>
<span class="grhsannot"><a href="#def-restricted-production">[no
<span class="nt">LineTerminator</span> here]</a></span>
<code class="t">--</code></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lhs</var> be the result of evaluating
      <span class="nt">LeftHandSideExpression</span>.</li>

  <li>Throw a <span class="errorname">SyntaxError</span> exception if the
      following conditions are all true:
    <ul>
      <li><a href="#def-type">Type</a>(<var>lhs</var>) is <a href="#sec-8.7">Reference</a> is
          <span class="value">true</span></li>

      <li><span class="pagemark" id="page80">PDF page 80 / printed page
          70</span><a href="#def-IsStrictReference">IsStrictReference</a>(<var>lhs</var>)
          is <span class="value">true</span></li>

      <li><a href="#def-type">Type</a>(<a href="#def-GetBase">GetBase</a>(<var>lhs</var>))
          is Enviroment Record</li>

      <li><a href="#def-GetReferencedName">GetReferencedName</a>(<var>lhs</var>)
          is either <span class="string value">"eval"</span> or
          <span class="string value">"arguments"</span></li>
    </ul>
  </li>

  <li>Let <var>oldValue</var> be
      <a href="#sec-9.3">ToNumber</a>(<a href="#sec-8.7.1">GetValue</a>(<var>lhs</var>)).</li>

  <li>Let <var>newValue</var> be the result of subtracting the value
      <span class="value">1</span> from <var>oldValue</var>, using the same
      rules as for the <code class="t">-</code> operator
      (<a href="#sec-11.6.3">11.6.3</a>).</li>

  <li>Call <a href="#sec-8.7.2">PutValue</a>(<var>lhs</var>,
      <var>newValue</var>).</li>

  <li>Return <var>oldValue</var>.</li>
</ol>
</section>
</section>


<section id="sec-11.4">
<h1><span class="secnum"><a href="#sec-11.4"
    title="link to this section">11.4</a></span>
    Unary Operators</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-UnaryExpression">
    <div class="lhs">
      <span class="nt">UnaryExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">PostfixExpression</span>
    </div>
    <div class="rhs">
      <code class="t">delete</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <code class="t">void</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <code class="t">typeof</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <code class="t">++</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <code class="t">--</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <code class="t">+</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <code class="t">-</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <code class="t">~</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <code class="t">!</code> <span class="nt">UnaryExpression</span>
    </div>
  </div>
</div>

<section id="sec-11.4.1">
<h1><span class="secnum"><a href="#sec-11.4.1"
    title="link to this section">11.4.1</a></span>
    The <code class="t">delete</code> Operator</h1>

<p>The production <span class="prod"><span class="nt">UnaryExpression</span>
<span class="geq">:</span> <code class="t">delete</code>
<span class="nt">UnaryExpression</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>ref</var> be the result of evaluating
      <span class="nt">UnaryExpression</span>.</li>

  <li>If <a href="#def-type">Type</a>(<var>ref</var>) is not
      <a href="#sec-8.7">Reference</a>, return
      <span class="value">true</span>.</li>

  <li>If
      <a href="#def-IsUnresolvableReference">IsUnresolvableReference</a>(<var>ref</var>)
      then,
    <ol class="block">
      <li>If <a href="#def-IsStrictReference">IsStrictReference</a>(<var>ref</var>)
          is <span class="value">true</span>, throw a <span class="errorname">SyntaxError</span>
          exception.</li>

      <li>Else, return <span class="value">true</span>.</li>
    </ol>
  </li>

  <li>If
      <a href="#def-IsPropertyReference">IsPropertyReference</a>(<var>ref</var>)
      is <span class="value">true</span>, then
    <ol class="block">
      <li>Return the result of calling the [[Delete]] internal method
          on <a href="#sec-9.9">ToObject</a>(<a href="#def-GetBase">GetBase</a>(<var>ref</var>))
          providing <a href="#def-GetReferencedName">GetReferencedName</a>(<var>ref</var>)
          and <a href="#def-IsStrictReference">IsStrictReference</a>(<var>ref</var>)
          as the arguments.</li>
    </ol>
  </li>

  <li>Else, <var>ref</var> is a <a href="#sec-8.7">Reference</a> to an
      <a href="#sec-10.2.1">Environment Record</a> binding, so
    <ol class="block">
      <li>If <a href="#def-IsStrictReference">IsStrictReference</a>(<var>ref</var>)
          is <span class="value">true</span>, throw a <span class="errorname">SyntaxError</span>
          exception.</li>

      <li>Let <var>bindings</var>
          be <a href="#def-GetBase">GetBase</a>(<var>ref</var>).</li>

      <li>Return the result of calling the DeleteBinding concrete method
          of <var>bindings</var>, providing
          <a href="#def-GetReferencedName">GetReferencedName</a>(<var>ref</var>)
          as the argument.</li>
    </ol>
  </li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> When a <code class="t">delete</code> operator
  occurs within <a href="#sec-10.1.1">strict mode code</a>, a
  <span class="errorname">SyntaxError</span> exception is thrown if its
  <span class="nt">UnaryExpression</span> is a direct reference to a variable,
  function argument, or function name. In addition, if a
  <code class="t">delete</code> operator occurs within
  <a href="#sec-10.1.1">strict mode code</a> and the property to be deleted has
  the attribute { [[Configurable]]: <span class="value">false</span> }, a
  <span class="errorname">TypeError</span> exception is thrown.</p>
</div>
</section>

<section id="sec-11.4.2">
<h1><span class="secnum"><a href="#sec-11.4.2"
    title="link to this section">11.4.2</a></span>
    The <code class="t">void</code> Operator</h1>

<p>The production <span class="prod"><span class="nt">UnaryExpression</span>
<span class="geq">:</span> <code class="t">void</code>
<span class="nt">UnaryExpression</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>expr</var> be the result of evaluating
      <span class="nt">UnaryExpression</span>.</li>

  <li>Call <a href="#sec-8.7.1">GetValue</a>(<var>expr</var>).</li>

  <li>Return <span class="value">undefined</span>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> <a href="#sec-8.7.1">GetValue</a> must be
  called even though its value is not used because it may have observable
  side-effects.</p>
</div>
</section>


<span class="pagemark" id="page81">PDF page 81 / printed page 71</span>

<section id="sec-11.4.3">
<h1><span class="secnum"><a href="#sec-11.4.3"
    title="link to this section">11.4.3</a></span>
    The <code class="t">typeof</code> Operator</h1>

<p>The production <span class="prod"><span class="nt">UnaryExpression</span>
<span class="geq">:</span> <code class="t">typeof</code>
<span class="nt">UnaryExpression</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>val</var> be the result of evaluating
      <span class="nt">UnaryExpression</span>.</li>

  <li>If <a href="#def-type">Type</a>(<var>val</var>) is
      <a href="#sec-8.7">Reference</a>, then
    <ol class="block">
      <li>If <a href="#def-IsUnresolvableReference">IsUnresolvableReference</a>(<var>val</var>)
          is <span class="value">true</span>, return <span class="string
          value">"undefined"</span>.</li>

      <li>Let <var>val</var> be <a href="#sec-8.7.1">GetValue</a>(<var>val</var>).</li>
    </ol>
  </li>

  <li>Return a String determined by
      <a href="#def-type">Type</a>(<var>val</var>) according to Table 20.</li>
</ol>

<figure id="table20">
<figcaption>Table 20 &mdash; typeof Operator Results</figcaption>
<table class="real-table">
  <tr>
    <th>Type of <var>val</var></th>
    <th>Result</th>
  </tr>
  <tr>
    <td>Undefined</td>
    <td><span class="string value">"undefined"</span></td>
  </tr>
  <tr>
    <td>Null</td>
    <td><span class="string value">"object"</span></td>
  </tr>
  <tr>
    <td>Boolean</td>
    <td><span class="string value">"boolean"</span></td>
  </tr>
  <tr>
    <td>Number</td>
    <td><span class="string value">"number"</span></td>
  </tr>
  <tr>
    <td>String</td>
    <td><span class="string value">"string"</span></td>
  </tr>
  <tr>
    <td>Object (native and does not implement [[Call]])</td>
    <td><span class="string value">"object"</span></td>
  </tr>
  <tr>
    <td>Object (native or host and does implement [[Call]])</td>
    <td><span class="string value">"function"</span></td>
  </tr>
  <tr>
    <td>Object (host and does not implement [[Call]])</td>
    <td>Implementation-defined except may not be <span class="string
        value">"undefined"</span>, <span class="string value">"boolean"</span>,
        <span class="string value">"number"</span>, or <span class="string
        value">"string"</span>.</td>
  </tr>
</table>
</figure>
</section>

<section id="sec-11.4.4">
<h1><span class="secnum"><a href="#sec-11.4.4"
    title="link to this section">11.4.4</a></span>
    Prefix Increment Operator</h1>

<p>The production <span class="prod"><span class="nt">UnaryExpression</span>
<span class="geq">:</span> <code class="t">++</code>
<span class="nt">UnaryExpression</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>expr</var> be the result of evaluating UnaryExpression.</li>

  <li>Throw a <span class="errorname">SyntaxError</span> exception if the
      following conditions are all true:
    <ul>
      <li><a href="#def-type">Type</a>(<var>expr</var>) is <a href="#sec-8.7">Reference</a> is
          <span class="value">true</span></li>

      <li><a href="#def-IsStrictReference">IsStrictReference</a>(<var>expr</var>)
          is <span class="value">true</span></li>

      <li><a href="#def-type">Type</a>(<a href="#def-GetBase">GetBase</a>(<var>expr</var>))
          is Enviroment Record</li>

      <li><a href="#def-GetReferencedName">GetReferencedName</a>(<var>expr</var>)
          is either <span class="string value">"eval"</span> or
          <span class="string value">"arguments"</span></li>
    </ul>
  </li>

  <li>Let <var>oldValue</var> be
      <a href="#sec-9.3">ToNumber</a>(<a href="#sec-8.7.1">GetValue</a>(<var>expr</var>)).</li>

  <li>Let <var>newValue</var> be the result of adding the value
      <span class="value">1</span> to <var>oldValue</var>, using the same rules
      as for the <code class="t">+</code> operator (<a href="#sec-11.6.3">see
      11.6.3</a>).</li>

  <li>Call <a href="#sec-8.7.2">PutValue</a>(<var>expr</var>,
      <var>newValue</var>).</li>

  <li>Return <var>newValue</var>.</li>
</ol>
</section>

<section id="sec-11.4.5">
<h1><span class="secnum"><a href="#sec-11.4.5"
    title="link to this section">11.4.5</a></span>
    Prefix Decrement Operator</h1>

<p>The production <span class="prod"><span class="nt">UnaryExpression</span>
<span class="geq">:</span> <code class="t">--</code>
<span class="nt">UnaryExpression</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>expr</var> be the result of evaluating UnaryExpression.</li>

  <li>Throw a <span class="errorname">SyntaxError</span> exception if the
      following conditions are all true:
    <ul>
      <li><a href="#def-type">Type</a>(<var>expr</var>) is <a href="#sec-8.7">Reference</a> is
          <span class="value">true</span></li>

      <li><a href="#def-IsStrictReference">IsStrictReference</a>(<var>expr</var>)
          is <span class="value">true</span></li>

      <li><a href="#def-type">Type</a>(<a href="#def-GetBase">GetBase</a>(<var>expr</var>))
          is Enviroment Record</li>

      <li><a href="#def-GetReferencedName">GetReferencedName</a>(<var>expr</var>)
          is either <span class="string value">"eval"</span> or
          <span class="string value">"arguments"</span></li>
    </ul>
  </li>

  <li>Let <var>oldValue</var> be
      <a href="#sec-9.3">ToNumber</a>(<a href="#sec-8.7.1">GetValue</a>(<var>expr</var>)).</li>

  <li><span class="pagemark" id="page82">PDF page 82 / printed page
      72</span>Let <var>newValue</var> be the result of subtracting the value
      <span class="value">1</span> from <var>oldValue</var>, using the same
      rules as for the <code class="t">-</code> operator
      (<a href="#sec-11.6.3">see 11.6.3</a>).</li>

  <li>Call <a href="#sec-8.7.2">PutValue</a>(<var>expr</var>,
      <var>newValue</var>).</li>

  <li>Return <var>newValue</var>.</li>
</ol>
</section>

<section id="sec-11.4.6">
<h1><span class="secnum"><a href="#sec-11.4.6"
    title="link to this section">11.4.6</a></span>
    Unary <code class="t">+</code> Operator</h1>

<p>The unary + operator converts its operand to Number type.</p>

<p>The production <span class="prod"><span class="nt">UnaryExpression</span>
<span class="geq">:</span> <code class="t">+</code>
<span class="nt">UnaryExpression</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>expr</var> be the result of evaluating UnaryExpression.</li>

  <li>Return
      <a href="#sec-9.3">ToNumber</a>(<a href="#sec-8.7.1">GetValue</a>(<var>expr</var>)).</li>
</ol>
</section>

<section id="sec-11.4.7">
<h1><span class="secnum"><a href="#sec-11.4.7"
    title="link to this section">11.4.7</a></span>
    Unary <code class="t">-</code> Operator</h1>

<p>The unary <code class="t">-</code> operator converts its operand to Number
type and then negates it. Note that negating <span class="value">+0</span>
produces <span class="value">&minus;0</span>, and negating
<span class="value">&minus;0</span> produces <span class="value">+0</span>.</p>

<p>The production <span class="prod"><span class="nt">UnaryExpression</span>
<span class="geq">:</span> <code class="t">-</code>
<span class="nt">UnaryExpression</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>expr</var> be the result of evaluating UnaryExpression.</li>

  <li>Let <var>oldValue</var> be
      <a href="#sec-9.3">ToNumber</a>(<a href="#sec-8.7.1">GetValue</a>(<var>expr</var>)).</li>

  <li>If <var>oldValue</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return the result of negating <var>oldValue</var>; that is, compute a
      Number with the same magnitude but opposite sign.</li>
</ol>
</section>

<section id="sec-11.4.8">
<h1><span class="secnum"><a href="#sec-11.4.8"
    title="link to this section">11.4.8</a></span>
    Bitwise NOT Operator ( <code class="t">~</code> )</h1>

<p>The production <span class="prod"><span class="nt">UnaryExpression</span>
<span class="geq">:</span> <code class="t">~</code>
<span class="nt">UnaryExpression</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>expr</var> be the result of evaluating
      <span class="nt">UnaryExpression</span>.</li>

  <li>Let <var>oldValue</var> be
      <a href="#sec-9.5">ToInt32</a>(<a href="#sec-8.7.1">GetValue</a>(<var>expr</var>)).</li>

  <li>Return the result of applying bitwise complement to <var>oldValue</var>.
      The result is a signed 32-bit integer.</li>
</ol>
</section>

<section id="sec-11.4.9">
<h1><span class="secnum"><a href="#sec-11.4.9"
    title="link to this section">11.4.9</a></span>
    Logical NOT Operator ( <code class="t">!</code> )</h1>

<p>The production <span class="prod"><span class="nt">UnaryExpression</span>
<span class="geq">:</span> <code class="t">!</code>
<span class="nt">UnaryExpression</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>expr</var> be the result of evaluating
      <span class="nt">UnaryExpression</span>.</li>

  <li>Let <var>oldValue</var> be
      <a href="#sec-9.2">ToBoolean</a>(<a href="#sec-8.7.1">GetValue</a>(<var>expr</var>)).</li>

  <li>If <var>oldValue</var> is <span class="value">true</span>, return
      <span class="value">false</span>.</li>

  <li>Return <span class="value">true</span>.</li>
</ol>
</section>
</section>


<section id="sec-11.5">
<h1><span class="secnum"><a href="#sec-11.5"
    title="link to this section">11.5</a></span>
    Multiplicative Operators</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-MultiplicativeExpression">
    <div class="lhs">
      <span class="nt">MultiplicativeExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">MultiplicativeExpression</span> <code class="t">*</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">MultiplicativeExpression</span> <code class="t">/</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">MultiplicativeExpression</span> <code class="t">%</code> <span class="nt">UnaryExpression</span>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>The production
<span class="prod"><span class="nt">MultiplicativeExpression</span>
<span class="geq">:</span> <span class="nt">MultiplicativeExpression</span>
<code class="bogus t"><var>@</var></code>
<span class="nt">UnaryExpression</span></span>, where <code class="bogus
t"><var>@</var></code> stands for one of the operators in the above
definitions, is evaluated as follows:</p>

<ol class="proc">
  <li><span class="pagemark" id="page83">PDF page 83 / printed page
      73</span>Let <var>left</var> be the result of evaluating
      MultiplicativeExpression.</li>

  <li>Let <var>leftValue</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>left</var>).</li>

  <li>Let <var>right</var> be the result of evaluating UnaryExpression.</li>

  <li>Let <var>rightValue</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>right</var>).</li>

  <li>Let <var>leftNum</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>leftValue</var>).</li>

  <li>Let <var>rightNum</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>rightValue</var>).</li>

  <li>Return the result of applying the specified operation (*, /, or %) to
      <var>leftNum</var> and <var>rightNum</var>. See the Notes below
      <a href="#sec-11.5.1">11.5.1</a>, <a href="#sec-11.5.2">11.5.2</a>,
      <a href="#sec-11.5.3">11.5.3</a>.</li>
</ol>

<section id="sec-11.5.1">
<h1><span class="secnum"><a href="#sec-11.5.1"
    title="link to this section">11.5.1</a></span>
    Applying the <code class="t">*</code> Operator</h1>

<p>The <code class="t">*</code> operator performs multiplication, producing the
product of its operands. Multiplication is commutative. Multiplication is not
always associative in ECMAScript, because of finite precision.</p>

<p>The result of a floating-point multiplication is governed by the rules of
IEEE 754 binary double-precision arithmetic:</p>

<ul>
  <li>If either operand is <span class="value">NaN</span>, the result is
      <span class="value">NaN</span>.</li>

  <li>The sign of the result is positive if both operands have the same sign,
      negative if the operands have different signs.</li>

  <li>Multiplication of an infinity by a zero results in
      <span class="value">NaN</span>.</li>

  <li>Multiplication of an infinity by an infinity results in an infinity. The
      sign is determined by the rule already stated above.</li>

  <li>Multiplication of an infinity by a finite non-zero value results in a
      signed infinity. The sign is determined by the rule already stated
      above.</li>

  <li>In the remaining cases, where neither an infinity or NaN is involved, the
      product is computed and rounded to the nearest representable value using
      IEEE 754 round-to-nearest mode. If the magnitude is too large to
      represent, the result is then an infinity of appropriate sign. If the
      magnitude is too small to represent, the result is then a zero of
      appropriate sign. The ECMAScript language requires support of gradual
      underflow as defined by IEEE 754.</li>
</ul>
</section>

<section id="sec-11.5.2">
<h1><span class="secnum"><a href="#sec-11.5.2"
    title="link to this section">11.5.2</a></span>
    Applying the <code class="t">/</code> Operator</h1>

<p>The <code class="t">/</code> operator performs division, producing the
quotient of its operands. The left operand is the dividend and the right
operand is the divisor. ECMAScript does not perform integer division. The
operands and result of all division operations are double-precision
floating-point numbers. The result of division is determined by the
specification of IEEE 754 arithmetic:</p>

<ul>
  <li>If either operand is <span class="value">NaN</span>, the result is
      <span class="value">NaN</span>.</li>

  <li>The sign of the result is positive if both operands have the same sign,
      negative if the operands have different signs.</li>

  <li>Division of an infinity by an infinity results in
      <span class="value">NaN</span>.</li>

  <li>Division of an infinity by a zero results in an infinity. The sign is
      determined by the rule already stated above.</li>

  <li>Division of an infinity by a non-zero finite value results in a signed
      infinity. The sign is determined by the rule already stated above.</li>

  <li>Division of a finite value by an infinity results in zero. The sign is
      determined by the rule already stated above.</li>

  <li>Division of a zero by a zero results in <span class="value">NaN</span>;
      division of zero by any other finite value results in zero, with the sign
      determined by the rule already stated above.</li>

  <li>Division of a non-zero finite value by a zero results in a signed
      infinity. The sign is determined by the rule already stated above.</li>

  <li>In the remaining cases, where neither an infinity, nor a zero, nor
      <span class="value">NaN</span> is involved, the quotient is computed and
      rounded to the nearest representable value using IEEE 754
      round-to-nearest mode. If the magnitude is too large to represent, the
      operation overflows; the result is then an infinity of appropriate sign.
      If the magnitude is too small to represent, the <span class="pagemark"
      id="page84">PDF page 84 / printed page 74</span> operation underflows and
      the result is a zero of the appropriate sign. The ECMAScript language
      requires support of gradual underflow as defined by IEEE 754.</li>
</ul>
</section>

<section id="sec-11.5.3">
<h1><span class="secnum"><a href="#sec-11.5.3"
    title="link to this section">11.5.3</a></span>
    Applying the <code class="t">%</code> Operator</h1>

<p>The <code class="t">%</code> operator yields the remainder of its operands
from an implied division; the left operand is the dividend and the right
operand is the divisor.</p>

<div class="note">
  <p><span class="nh">NOTE</span> In C and C++, the remainder operator accepts
  only integral operands; in ECMAScript, it also accepts floating-point
  operands.</p>
</div>

<p>The result of a floating-point remainder operation as computed by the
<code class="t">%</code> operator is not the same as the
&ldquo;remainder&rdquo; operation defined by IEEE 754. The IEEE 754
&ldquo;remainder&rdquo; operation computes the remainder from a rounding
division, not a truncating division, and so its behaviour is not analogous to
that of the usual integer remainder operator. Instead the ECMAScript language
defines <code class="t">%</code> on floating-point operations to behave in a
manner analogous to that of the Java integer remainder operator; this may be
compared with the C library function fmod.</p>

<p>The result of an ECMAScript floating-point remainder operation is determined
by the rules of IEEE arithmetic:</p>

<ul>
  <li>If either operand is <span class="value">NaN</span>, the result is
      <span class="value">NaN</span>.</li>

  <li>The sign of the result equals the sign of the dividend.</li>

  <li>If the dividend is an infinity, or the divisor is a zero, or both, the
      result is <span class="value">NaN</span>.</li>

  <li>If the dividend is finite and the divisor is an infinity, the result
      equals the dividend.</li>

  <li>If the dividend is a zero and the divisor is finite, the result is the
      same as the dividend.</li>

  <li>In the remaining cases, where neither an infinity, nor a zero, nor
      <span class="value">NaN</span> is involved, the floating-point remainder
      <var>r</var> from a dividend <var>n</var> and a divisor <var>d</var> is
      defined by the mathematical relation <var>r</var> = <var>n</var> &minus;
      (<var>d</var> &times; <var>q</var>) where <var>q</var> is an integer that
      is negative only if <var>n</var>/<var>d</var> is negative and positive
      only if <var>n</var>/<var>d</var> is positive, and whose magnitude is as
      large as possible without exceeding the magnitude of the true
      mathematical quotient of <var>n</var> and <var>d</var>.</li>

</ul>
</section>
</section>


<section id="sec-11.6">
<h1><span class="secnum"><a href="#sec-11.6"
    title="link to this section">11.6</a></span>
    Additive Operators</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-AdditiveExpression">
    <div class="lhs">
      <span class="nt">AdditiveExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">MultiplicativeExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">AdditiveExpression</span> <code class="t">+</code> <span class="nt">MultiplicativeExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">AdditiveExpression</span> <code class="t">-</code> <span class="nt">MultiplicativeExpression</span>
    </div>
  </div>
</div>

<section id="sec-11.6.1">
<h1><span class="secnum"><a href="#sec-11.6.1"
    title="link to this section">11.6.1</a></span>
    The Addition operator ( <code class="t">+</code> )</h1>

<p>The addition operator either performs string concatenation or numeric
addition.</p>

<p>The production <span class="prod"><span class="nt">AdditiveExpression</span>
<span class="geq">:</span> <span class="nt">AdditiveExpression</span>
<code class="t">+</code>
<span class="nt">MultiplicativeExpression</span></span> is evaluated as
follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating AdditiveExpression.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating
      MultiplicativeExpression.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>Let <var>lprim</var> be
      <a href="#sec-9.1">ToPrimitive</a>(<var>lval</var>).</li>

  <li>Let <var>rprim</var> be
      <a href="#sec-9.1">ToPrimitive</a>(<var>rval</var>).</li>

  <li>If <a href="#def-type">Type</a>(<var>lprim</var>) is String or
      <a href="#def-type">Type</a>(<var>rprim</var>) is String, then
    <ol class="block">
      <li>Return the String that is the result of
          concatenating <a href="#sec-9.8">ToString</a>(<var>lprim</var>)
          followed by <a href="#sec-9.8">ToString</a>(<var>rprim</var>).</li>
    </ol>
  </li>

  <li>Return the result of applying the addition operation to
      <a href="#sec-9.3">ToNumber</a>(<var>lprim</var>) and
      <a href="#sec-9.3">ToNumber</a>(<var>rprim</var>). See the Note below
      <a href="#sec-11.6.3">11.6.3</a>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE 1</span> No hint is provided in the calls to
  <a href="#sec-9.1">ToPrimitive</a> in steps 5 and 6. All native ECMAScript
  objects except Date objects handle the absence of a hint as if the hint
  Number were given; Date objects handle the absence of a hint as if the hint
  String were given. Host objects may handle the absence of a hint in some
  other manner.</p>
</div>


<div class="note">
  <p><span class="pagemark" id="page85">PDF page 85 / printed page 75</span>
  <span class="nh">NOTE 2</span> Step 7 differs from step 3 of the comparison
  algorithm for the relational operators (<a href="#sec-11.8.5">11.8.5</a>), by
  using the logical-or operation instead of the logical-and operation.</p>
</div>
</section>

<section id="sec-11.6.2">
<h1><span class="secnum"><a href="#sec-11.6.2"
    title="link to this section">11.6.2</a></span>
    The Subtraction Operator ( <code class="t">-</code> )</h1>

<p>The production <span class="prod"><span class="nt">AdditiveExpression</span>
<span class="geq">:</span> <span class="nt">AdditiveExpression</span>
<code class="t">-</code>
<span class="nt">MultiplicativeExpression</span></span> is evaluated as
follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating AdditiveExpression.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating
      MultiplicativeExpression.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>Let <var>lnum</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>lval</var>).</li>

  <li>Let <var>rnum</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>rval</var>).</li>

  <li>Return the result of applying the subtraction operation to
      <var>lnum</var> and <var>rnum</var>. See the note below
      <a href="#sec-11.6.3">11.6.3</a>.</li>
</ol>
</section>

<section id="sec-11.6.3">
<h1><span class="secnum"><a href="#sec-11.6.3"
    title="link to this section">11.6.3</a></span>
    Applying the Additive Operators to Numbers</h1>

<p>The <code class="t">+</code> operator performs addition when applied to two
operands of numeric type, producing the sum of the operands. The
<code class="t">-</code> operator performs subtraction, producing the
difference of two numeric operands.</p>

<p>Addition is a commutative operation, but not always associative.</p>

<p>The result of an addition is determined using the rules of IEEE 754 binary
double-precision arithmetic:</p>

<ul>
  <li>If either operand is <span class="value">NaN</span>, the result is
      <span class="value">NaN</span>.</li>

  <li>The sum of two infinities of opposite sign is
      <span class="value">NaN</span>.</li>

  <li>The sum of two infinities of the same sign is the infinity of that
      sign.</li>

  <li>The sum of an infinity and a finite value is equal to the infinite
      operand.</li>

  <li>The sum of two negative zeros is <span class="value">&minus;0</span>. The
      sum of two positive zeros, or of two zeros of opposite sign, is
      <span class="value">+0</span>.</li>

  <li>The sum of a zero and a nonzero finite value is equal to the nonzero
      operand.</li>

  <li>The sum of two nonzero finite values of the same magnitude and opposite
      sign is <span class="value">+0</span>.</li>

  <li>In the remaining cases, where neither an infinity, nor a zero, nor NaN is
      involved, and the operands have the same sign or have different
      magnitudes, the sum is computed and rounded to the nearest representable
      value using IEEE 754 round-to-nearest mode. If the magnitude is too large
      to represent, the operation overflows and the result is then an infinity
      of appropriate sign. The ECMAScript language requires support of gradual
      underflow as defined by IEEE 754.</li>
</ul>

<p>The <code class="t">-</code> operator performs subtraction when applied to
two operands of numeric type, producing the difference of its operands; the
left operand is the minuend and the right operand is the subtrahend. Given
numeric operands <var>a</var> and <var>b</var>, it is always the case that
<code class="expr"><var>a</var>-<var>b</var></code> produces the same result as
<code class="expr"><var>a</var> +(-<var>b</var>)</code>.</p>
</section>
</section>


<section id="sec-11.7">
<h1><span class="secnum"><a href="#sec-11.7"
    title="link to this section">11.7</a></span>
    Bitwise Shift Operators</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-ShiftExpression">
    <div class="lhs">
      <span class="nt">ShiftExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">AdditiveExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">ShiftExpression</span> <code class="t">&lt;&lt;</code> <span class="nt">AdditiveExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">ShiftExpression</span> <code class="t">&gt;&gt;</code> <span class="nt">AdditiveExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">ShiftExpression</span> <code class="t">&gt;&gt;&gt;</code> <span class="nt">AdditiveExpression</span>
    </div>
  </div>
</div>

<section id="sec-11.7.1">
<h1><span class="secnum"><a href="#sec-11.7.1"
    title="link to this section">11.7.1</a></span>
    The Left Shift Operator ( <code class="t">&lt;&lt;</code> )</h1>

<p>Performs a bitwise left shift operation on the left operand by the amount
specified by the right operand.</p>

<p><span class="pagemark" id="page86">PDF page 86 / printed page 76</span> The
production <span class="prod"><span class="nt">ShiftExpression</span>
<span class="geq">:</span> <span class="nt">ShiftExpression</span>
<code class="t">&lt;&lt;</code>
<span class="nt">AdditiveExpression</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">ShiftExpression</span>.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">AdditiveExpression</span>.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>Let <var>lnum</var> be
      <a href="#sec-9.5">ToInt32</a>(<var>lval</var>).</li>

  <li>Let <var>rnum</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>rval</var>).</li>

  <li>Let <var>shiftCount</var> be the result of masking out all but the least
      significant 5 bits of <var>rnum</var>, that is, compute <var>rnum</var>
      &amp; 0x1F.</li>

  <li>Return the result of left shifting <var>lnum</var> by
      <var>shiftCount</var> bits. The result is a signed 32-bit integer.</li>
</ol>
</section>

<section id="sec-11.7.2">
<h1><span class="secnum"><a href="#sec-11.7.2"
    title="link to this section">11.7.2</a></span>
    The Signed Right Shift Operator ( <code class="t">&gt;&gt;</code> )</h1>

<p>Performs a sign-filling bitwise right shift operation on the left operand by
the amount specified by the right operand.</p>

<p>The production <span class="prod"><span class="nt">ShiftExpression</span>
<span class="geq">:</span> <span class="nt">ShiftExpression</span>
<code class="t">&gt;&gt;</code>
<span class="nt">AdditiveExpression</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">ShiftExpression</span>.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">AdditiveExpression</span>.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>Let <var>lnum</var> be
      <a href="#sec-9.5">ToInt32</a>(<var>lval</var>).</li>

  <li>Let <var>rnum</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>rval</var>).</li>

  <li>Let <var>shiftCount</var> be the result of masking out all but the least
      significant 5 bits of <var>rnum</var>, that is, compute <var>rnum</var>
      &amp; 0x1F.</li>

  <li>Return the result of performing a sign-extending right shift of
      <var>lnum</var> by <var>shiftCount</var> bits. The most significant bit
      is propagated. The result is a signed 32-bit integer.</li>
</ol>
</section>

<section id="sec-11.7.3">
<h1><span class="secnum"><a href="#sec-11.7.3"
    title="link to this section">11.7.3</a></span>
    The Unsigned Right Shift Operator ( <code class="t">&gt;&gt;&gt;</code> )</h1>

<p>Performs a zero-filling bitwise right shift operation on the left operand by
the amount specified by the right operand.</p>

<p>The production <span class="prod"><span class="nt">ShiftExpression</span>
<span class="geq">:</span> <span class="nt">ShiftExpression</span>
<code class="t">&gt;&gt;&gt;</code>
<span class="nt">AdditiveExpression</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">ShiftExpression</span>.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">AdditiveExpression</span>.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>Let <var>lnum</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>lval</var>).</li>

  <li>Let <var>rnum</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>rval</var>).</li>

  <li>Let <var>shiftCount</var> be the result of masking out all but the least
      significant 5 bits of <var>rnum</var>, that is, compute <var>rnum</var>
      &amp; 0x1F.</li>

  <li>Return the result of performing a zero-filling right shift of
      <var>lnum</var> by <var>shiftCount</var> bits. Vacated bits are filled
      with zero. The result is an unsigned 32-bit integer.</li>
</ol>
</section>
</section>


<section id="sec-11.8">
<span class="pagemark" id="page87">PDF page 87 / printed page 77</span>
<h1><span class="secnum"><a href="#sec-11.8"
    title="link to this section">11.8</a></span>
    Relational Operators</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-RelationalExpression">
    <div class="lhs">
      <span class="nt">RelationalExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpression</span> <code class="t">&lt;</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpression</span> <code class="t">&gt;</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpression</span> <code class="t">&lt;=</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpression</span> <code class="t">&gt;=</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpression</span> <code class="t">instanceof</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpression</span> <code class="t">in</code> <span class="nt">ShiftExpression</span>
    </div>
  </div>

  <div class="gp" id="def-RelationalExpressionNoIn">
    <div class="lhs">
      <span class="nt">RelationalExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpressionNoIn</span> <code class="t">&lt;</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpressionNoIn</span> <code class="t">&gt;</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpressionNoIn</span> <code class="t">&lt;=</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpressionNoIn</span> <code class="t">&gt;=</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpressionNoIn</span> <code class="t">instanceof</code> <span class="nt">ShiftExpression</span>
    </div>
  </div>
</div>

<div class="note">
  <p><span class="nh">NOTE</span> The &ldquo;NoIn&rdquo; variants are needed to
  avoid confusing the <code class="t">in</code> operator in a relational
  expression with the <code class="t">in</code> operator in a
  <code class="t">for</code> statement.</p>
</div>

<h2>Semantics</h2>

<p>The result of evaluating a relational operator is always of type Boolean,
reflecting whether the relationship named by the operator holds between its two
operands.</p>

<p>The <span class="nt">RelationalExpressionNoIn</span> productions are
evaluated in the same manner as the
<span class="nt">RelationalExpression</span> productions except that the
contained <span class="nt">RelationalExpressionNoIn</span> is evaluated instead
of the contained <span class="nt">RelationalExpression</span>.</p>


<section id="sec-11.8.1">
<h1><span class="secnum"><a href="#sec-11.8.1"
    title="link to this section">11.8.1</a></span>
    The Less-than Operator ( <code class="t">&lt;</code> )</h1>

<p>The production
<span class="prod"><span class="nt">RelationalExpression</span>
<span class="geq">:</span> <span class="nt">RelationalExpression</span>
<code class="t">&lt;</code> <span class="nt">ShiftExpression</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">RelationalExpression</span>.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">ShiftExpression</span>.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>Let <var>r</var> be the result of performing abstract relational
      comparison <var>lval</var> &lt; <var>rval</var>.
      (<a href="#sec-11.8.5">see 11.8.5</a>)</li>

  <li>If <var>r</var> is <span class="value">undefined</span>, return
      <span class="value">false</span>. Otherwise, return <var>r</var>.</li>
</ol>
</section>

<section id="sec-11.8.2">
<h1><span class="secnum"><a href="#sec-11.8.2"
    title="link to this section">11.8.2</a></span>
    The Greater-than Operator ( <code class="t">&gt;</code> )</h1>

<p>The production <span class="prod">RelationalExpression
<span class="geq">:</span> <span class="nt">RelationalExpression</span>
<code class="t">&gt;</code> <span class="nt">ShiftExpression</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">RelationalExpression</span>.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">ShiftExpression</span>.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>Let <var>r</var> be the result of performing abstract relational
      comparison <var>rval</var> &lt; <var>lval</var> with <var>LeftFirst</var>
      equal to <span class="value">false</span>. (<a href="#sec-11.8.5">see
      11.8.5</a>).</li>

  <li>If <var>r</var> is <span class="value">undefined</span>, return
      <span class="value">false</span>. Otherwise, return <var>r</var>.</li>
</ol>
</section>

<section id="sec-11.8.3">
<span class="pagemark" id="page88">PDF page 88 / printed page 78</span>
<h1><span class="secnum"><a href="#sec-11.8.3"
    title="link to this section">11.8.3</a></span>
    The Less-than-or-equal Operator ( <code class="t">&lt;=</code> )</h1>

<p>The production <span class="prod">RelationalExpression
<span class="geq">:</span> <span class="nt">RelationalExpression</span>
<code class="t">&lt;=</code> <span class="nt">ShiftExpression</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">RelationalExpression</span>.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">ShiftExpression</span>.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>Let <var>r</var> be the result of performing abstract relational
      comparison <var>rval</var> &lt; <var>lval</var> with <var>LeftFirst</var>
      equal to <span class="value">false</span>. (<a href="#sec-11.8.5">see
      11.8.5</a>).</li>

  <li>If <var>r</var> is <span class="value">true</span> or
      <span class="value">undefined</span>, return
      <span class="value">false</span>. Otherwise, return
      <span class="value">true</span>.</li>
</ol>
</section>

<section id="sec-11.8.4">
<h1><span class="secnum"><a href="#sec-11.8.4"
    title="link to this section">11.8.4</a></span>
    The Greater-than-or-equal Operator ( <code class="t">&gt;=</code> )</h1>

<p>The production <span class="prod">RelationalExpression
<span class="geq">:</span> <span class="nt">RelationalExpression</span>
<code class="t">&gt;=</code> <span class="nt">ShiftExpression</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">RelationalExpression</span>.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">ShiftExpression</span>.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>Let <var>r</var> be the result of performing abstract relational
      comparison <var>lval</var> &lt; <var>rval</var>.
      (<a href="#sec-11.8.5">see 11.8.5</a>)</li>

  <li>If <var>r</var> is <span class="value">true</span> or
      <span class="value">undefined</span>, return
      <span class="value">false</span>. Otherwise, return
      <span class="value">true</span>.</li>
</ol>
</section>

<section id="sec-11.8.5">
<h1><span class="secnum"><a href="#sec-11.8.5"
    title="link to this section">11.8.5</a></span>
    The Abstract Relational Comparison Algorithm</h1>

<p>The comparison <var>x</var> &lt; <var>y</var>, where <var>x</var> and
<var>y</var> are values, produces <span class="value">true</span>,
<span class="value">false</span>, or <span class="value">undefined</span>
(which indicates that at least one operand is <span class="value">NaN</span>).
In addition to <var>x</var> and <var>y</var> the algorithm takes a Boolean flag
named <var>LeftFirst</var> as a parameter. The flag is used to control the
order in which operations with potentially visible side-effects are performed
upon <var>x</var> and <var>y</var>. It is necessary because ECMAScript
specifies left to right evaluation of expressions. The default value of
<var>LeftFirst</var> is <span class="value">true</span> and indicates that the
<var>x</var> parameter corresponds to an expression that occurs to the left of
the <var>y</var> parameter&rsquo;s corresponding expression. If
<var>LeftFirst</var> is <span class="value">false</span>, the reverse is the
case and operations must be performed upon <var>y</var> before <var>x</var>.
Such a comparison is performed as follows:</p>

<ol class="proc">
  <li>If the <var>LeftFirst</var> flag is <span class="value">true</span>, then
    <ol class="block">
      <li>Let <var>px</var> be the result of
          calling <a href="#sec-9.1">ToPrimitive</a>(<var>x</var>, hint
          Number).</li>

      <li>Let <var>py</var> be the result of
          calling <a href="#sec-9.1">ToPrimitive</a>(<var>y</var>, hint
          Number).</li>
    </ol>
  </li>

  <li>Else the order of evaluation needs to be reversed to preserve left to
      right evaluation
    <ol class="block">
      <li>Let <var>py</var> be the result of
          calling <a href="#sec-9.1">ToPrimitive</a>(<var>y</var>, hint
          Number).</li>

      <li>Let <var>px</var> be the result of
          calling <a href="#sec-9.1">ToPrimitive</a>(<var>x</var>, hint
          Number).</li>
    </ol>
  </li>

  <li>If it is not the case that both
      <a href="#def-type">Type</a>(<var>px</var>) is String and
      <a href="#def-type">Type</a>(<var>py</var>) is String, then
    <ol class="block">
      <li>Let <var>nx</var> be the result of
          calling <a href="#sec-9.3">ToNumber</a>(<var>px</var>). Because
          <var>px</var> and <var>py</var> are primitive values evaluation order
          is not important.</li>

      <li>Let <var>ny</var> be the result of
          calling <a href="#sec-9.3">ToNumber</a>(<var>py</var>).</li>

      <li>If <var>nx</var> is <span class="value">NaN</span>, return <span class="value">undefined</span>.</li>

      <li>If <var>ny</var> is <span class="value">NaN</span>, return <span class="value">undefined</span>.</li>

      <li>If <var>nx</var> and <var>ny</var> are the same Number value, return
          <span class="value">false</span>.</li>

      <li>If <var>nx</var> is <span class="value">+0</span> and <var>ny</var>
          is <span class="value">&minus;0</span>, return
          <span class="value">false</span>.</li>

      <li>If <var>nx</var> is <span class="value">&minus;0</span> and
          <var>ny</var> is <span class="value">+0</span>, return
          <span class="value">false</span>.</li>

      <li>If <var>nx</var> is <span class="value">+&infin;</span>, return
          <span class="value">false</span>.</li>

      <li>If <var>ny</var> is <span class="value">+&infin;</span>, return
          <span class="value">true</span>.</li>

      <li>If <var>ny</var> is <span class="value">&minus;&infin;</span>, return
          <span class="value">false</span>.</li>

      <li>If <var>nx</var> is <span class="value">&minus;&infin;</span>, return
          <span class="value">true</span>.</li>

      <li>If the mathematical value of <var>nx</var> is less than the
          mathematical value of <var>ny</var> &mdash;note that these
          mathematical values are both finite and not both zero&mdash;return
          <span class="value">true</span>. Otherwise, return
          <span class="value">false</span>.</li>
    </ol>
  </li>

  <li>Else, both <var>px</var> and <var>py</var> are Strings
    <ol class="block">
      <li>If <var>py</var> is a prefix of <var>px</var>, return
          <span class="value">false</span>. (A String value <var>p</var> is a
          prefix of String value <var>q</var> if <var>q</var> can be the result
          of concatenating <var>p</var> and some other String <var>r</var>.
          Note that any String is a prefix of itself, because <var>r</var> may
          be the empty String.)</li>

      <li><span class="pagemark" id="page89">PDF page 89 / printed page
          79</span>If <var>px</var> is a prefix of <var>py</var>, return
          <span class="value">true</span>.</li>

      <li>Let <var>k</var> be the smallest nonnegative integer such that the
          character at position <var>k</var> within <var>px</var> is different
          from the character at position <var>k</var> within <var>py</var>.
          (There must be such a <var>k</var>, for neither String is a prefix of
          the other.)</li>

      <li>Let <var>m</var> be the integer that is the code unit value for the
          character at position <var>k</var> within <var>px</var>.</li>

      <li>Let <var>n</var> be the integer that is the code unit value for the
          character at position <var>k</var> within <var>py</var>.</li>

      <li>If <var>m</var> &lt; <var>n</var>, return
          <span class="value">true</span>. Otherwise, return
          <span class="value">false</span>.</li>
    </ol>
  </li>
</ol>

<div class="note">
  <p><span class="nh">NOTE 1</span> Step 3 differs from step 7 in the algorithm
  for the addition operator <code class="t">+</code>
  (<a href="#sec-11.6.1">11.6.1</a>) in using and instead of or.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> The comparison of Strings uses a simple
  lexicographic ordering on sequences of code unit values. There is no attempt
  to use the more complex, semantically oriented definitions of character or
  string equality and collating order defined in the Unicode specification.
  Therefore String values that are canonically equal according to the Unicode
  standard could test as unequal. In effect this algorithm assumes that both
  Strings are already in normalised form. Also, note that for strings
  containing supplementary characters, lexicographic ordering on sequences of
  UTF-16 code unit values differs from that on sequences of code point
  values.</p>
</div>
</section>

<section id="sec-11.8.6">
<h1><span class="secnum"><a href="#sec-11.8.6"
    title="link to this section">11.8.6</a></span>
    The <code class="t">instanceof</code> operator</h1>

<p>The production
<span class="prod"><span class="nt">RelationalExpression</span><span class="geq">:</span>
<span class="nt">RelationalExpression</span> <code class="t">instanceof</code>
<span class="nt">ShiftExpression</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">RelationalExpression</span>.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">ShiftExpression</span>.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>If <a href="#def-type">Type</a>(<var>rval</var>) is not Object, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>If <var>rval</var> does not have a [[HasInstance]] internal method, throw
      a <span class="errorname">TypeError</span> exception.</li>

  <li>Return the result of calling the [[HasInstance]] internal method of
      <var>rval</var> with argument <var>lval</var>.</li>
</ol>
</section>

<section id="sec-11.8.7">
<h1><span class="secnum"><a href="#sec-11.8.7"
    title="link to this section">11.8.7</a></span>
    The <code class="t">in</code> operator</h1>

<p>The production
<span class="prod"><span class="nt">RelationalExpression</span>
<span class="geq">:</span> <span class="nt">RelationalExpression</span>
<code class="t">in</code> <span class="nt">ShiftExpression</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">RelationalExpression</span>.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">ShiftExpression</span>.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>If <a href="#def-type">Type</a>(<var>rval</var>) is not Object, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Return the result of calling the [[HasProperty]] internal method of
      <var>rval</var> with argument
      <a href="#sec-9.8">ToString</a>(<var>lval</var>).</li>
</ol>
</section>
</section>


<section id="sec-11.9">
<h1><span class="secnum"><a href="#sec-11.9"
    title="link to this section">11.9</a></span>
    Equality Operators</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-EqualityExpression">
    <div class="lhs">
      <span class="nt">EqualityExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpression</span> <code class="t">==</code> <span class="nt">RelationalExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpression</span> <code class="t">!=</code> <span class="nt">RelationalExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpression</span> <code class="t">===</code> <span class="nt">RelationalExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpression</span> <code class="t">!==</code> <span class="nt">RelationalExpression</span>
    </div>
  </div>

  <div class="gp" id="def-EqualityExpressionNoIn">
    <div class="lhs">
      <span class="nt">EqualityExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpressionNoIn</span> <code class="t">==</code> <span class="nt">RelationalExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpressionNoIn</span> <code class="t">!=</code> <span class="nt">RelationalExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpressionNoIn</span> <code class="t">===</code> <span class="nt">RelationalExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpressionNoIn</span> <code class="t">!==</code> <span class="nt">RelationalExpressionNoIn</span>
    </div>
  </div>
</div>

<span class="pagemark" id="page90">PDF page 90 / printed page 80</span>
<h2>Semantics</h2>

<p>The result of evaluating an equality operator is always of type Boolean,
reflecting whether the relationship named by the operator holds between its two
operands.</p>

<p>The <span class="nt">EqualityExpressionNoIn</span> productions are evaluated
in the same manner as the <span class="nt">EqualityExpression</span>
productions except that the contained
<span class="nt">EqualityExpressionNoIn</span> and
<span class="nt">RelationalExpressionNoIn</span> are evaluated instead of the
contained <span class="nt">EqualityExpression</span> and
<span class="nt">RelationalExpression</span>, respectively.</p>


<section id="sec-11.9.1">
<h1><span class="secnum"><a href="#sec-11.9.1"
    title="link to this section">11.9.1</a></span>
    The Equals Operator ( <code class="t">==</code> )</h1>

<p>The production <span class="prod">EqualityExpression :
<span class="nt">EqualityExpression</span> <code class="t">==</code>
<span class="nt">RelationalExpression</span></span> is evaluated as
follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">EqualityExpression</span>.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">RelationalExpression</span>.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>Return the result of performing abstract equality comparison
      <var>rval</var> == <var>lval</var>. (<a href="#sec-11.9.3">see
      11.9.3</a>).</li>
</ol>
</section>

<section id="sec-11.9.2">
<h1><span class="secnum"><a href="#sec-11.9.2"
    title="link to this section">11.9.2</a></span>
    The Does-not-equals Operator ( <code class="t">!=</code> )</h1>

<p>The production <span class="prod">EqualityExpression
<span class="geq">:</span> <span class="nt">EqualityExpression</span>
<code class="t">!=</code> <span class="nt">RelationalExpression</span></span>
is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">EqualityExpression</span>.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">RelationalExpression</span>.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>Let <var>r</var> be the result of performing abstract equality comparison
      <var>rval</var> == <var>lval</var>. (<a href="#sec-11.9.3">see
      11.9.3</a>).</li>

  <li>If <var>r</var> is <span class="value">true</span>, return
      <span class="value">false</span>. Otherwise, return
      <span class="value">true</span>.</li>
</ol>
</section>

<section id="sec-11.9.3">
<h1><span class="secnum"><a href="#sec-11.9.3"
    title="link to this section">11.9.3</a></span>
    The Abstract Equality Comparison Algorithm</h1>

<p>The comparison <var>x</var> == <var>y</var>, where <var>x</var> and
<var>y</var> are values, produces <span class="value">true</span> or
<span class="value">false</span>. Such a comparison is performed as
follows:</p>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>x</var>) is the same as
      <a href="#def-type">Type</a>(<var>y</var>), then
    <ol class="block">
      <li>If <a href="#def-type">Type</a>(<var>x</var>) is Undefined, return
          <span class="value">true</span>.</li>

      <li>If <a href="#def-type">Type</a>(<var>x</var>) is Null, return
          <span class="value">true</span>.</li>

      <li>If <a href="#def-type">Type</a>(<var>x</var>) is Number, then
        <ol class="block">
          <li>If <var>x</var> is <span class="value">NaN</span>, return
              <span class="value">false</span>.</li>

          <li>If <var>y</var> is <span class="value">NaN</span>, return <span class="value">false</span>.</li>

          <li>If <var>x</var> is the same Number value as <var>y</var>, return
              <span class="value">true</span>.</li>

          <li>If <var>x</var> is <span class="value">+0</span> and <var>y</var>
              is <span class="value">&minus;0</span>, return
              <span class="value">true</span>.</li>

          <li>If <var>x</var> is <span class="value">&minus;0</span> and
              <var>y</var> is <span class="value">+0</span>, return
              <span class="value">true</span>.</li>

          <li>Return <span class="value">false</span>.</li>
        </ol>
      </li>

      <li>If <a href="#def-type">Type</a>(<var>x</var>) is String, then return
          <span class="value">true</span> if <var>x</var> and <var>y</var> are
          exactly the same sequence of characters (same length and same
          characters in corresponding positions). Otherwise, return
          <span class="value">false</span>.</li>

      <li>If <a href="#def-type">Type</a>(<var>x</var>) is Boolean, return
          <span class="value">true</span> if <var>x</var> and <var>y</var> are
          both <span class="value">true</span> or both
          <span class="value">false</span>. Otherwise, return
          <span class="value">false</span>.</li>

      <li>Return <span class="value">true</span> if <var>x</var> and
          <var>y</var> refer to the same object. Otherwise, return
          <span class="value">false</span>.</li>
    </ol>
  </li>

  <li>If <var>x</var> is <span class="value">null</span> and <var>y</var> is
      <span class="value">undefined</span>, return
      <span class="value">true</span>.</li>

  <li>If <var>x</var> is <span class="value">undefined</span> and <var>y</var>
      is <span class="value">null</span>, return
      <span class="value">true</span>.</li>

  <li>If <a href="#def-type">Type</a>(<var>x</var>) is Number and
      <a href="#def-type">Type</a>(<var>y</var>) is String, return the result
      of the comparison <var>x</var> ==
      <a href="#sec-9.3">ToNumber</a>(<var>y</var>).</li>

  <li>If <a href="#def-type">Type</a>(<var>x</var>) is String and
      <a href="#def-type">Type</a>(<var>y</var>) is Number, return the result
      of the comparison <a href="#sec-9.3">ToNumber</a>(<var>x</var>) ==
      <var>y</var>.</li>

  <li>If <a href="#def-type">Type</a>(<var>x</var>) is Boolean, return the
      result of the comparison <a href="#sec-9.3">ToNumber</a>(<var>x</var>) ==
      <var>y</var>.</li>

  <li>If <a href="#def-type">Type</a>(<var>y</var>) is Boolean, return the
      result of the comparison <var>x</var> ==
      <a href="#sec-9.3">ToNumber</a>(<var>y</var>).</li>

  <li>If <a href="#def-type">Type</a>(<var>x</var>) is either String or Number
      and <a href="#def-type">Type</a>(<var>y</var>) is Object, return the
      result of the comparison <var>x</var> ==
      <a href="#sec-9.1">ToPrimitive</a>(<var>y</var>).</li>

  <li><span class="pagemark" id="page91">PDF page 91 / printed page 81</span>If
      <a href="#def-type">Type</a>(<var>x</var>) is Object and
      <a href="#def-type">Type</a>(<var>y</var>) is either String or Number,
      return the result of the comparison
      <a href="#sec-9.1">ToPrimitive</a>(<var>x</var>) == <var>y</var>.</li>

  <li>Return <span class="value">false</span>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE 1</span> Given the above definition of equality:</p>

  <ul>
    <li>String comparison can be forced by: <code class="expr">"" + a == "" +
        b</code>.</li>

    <li>Numeric comparison can be forced by: <code class="expr">+a ==
        +b</code>.</li>

    <li>Boolean comparison can be forced by: <code class="expr">!a ==
        !b</code>.</li>
  </ul>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> The equality operators maintain the
  following invariants:</p>

  <ul>
    <li><code class="expr"><var>A</var> != <var>B</var></code> is equivalent to
        <code class="expr">!(<var>A</var> == <var>B</var>)</code>.</li>

    <li><code class="expr"><var>A</var> == <var>B</var></code> is equivalent to
        <code class="expr"><var>B</var> == <var>A</var></code>, except in the
        order of evaluation of <var>A</var> and <var>B</var>.</li>
  </ul>
</div>

<div class="note">
  <p><span class="nh">NOTE 3</span> The equality operator is not always
  transitive. For example, there might be two distinct String objects, each
  representing the same String value; each String object would be considered
  equal to the String value by the <code class="t">==</code> operator, but the
  two String objects would not be equal to each other.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 4</span> Comparison of Strings uses a simple
  equality test on sequences of code unit values. There is no attempt to use
  the more complex, semantically oriented definitions of character or string
  equality and collating order defined in the Unicode specification. Therefore
  Strings values that are canonically equal according to the Unicode standard
  could test as unequal. In effect this algorithm assumes that both Strings are
  already in normalised form.</p>
</div>
</section>

<section id="sec-11.9.4">
<h1><span class="secnum"><a href="#sec-11.9.4"
    title="link to this section">11.9.4</a></span>
    The Strict Equals Operator ( <code class="t">===</code> )</h1>

<p>The production <span class="prod"><span class="nt">EqualityExpression</span>
<span class="geq">:</span> <span class="nt">EqualityExpression</span>
<code class="t">===</code> <span class="nt">RelationalExpression</span></span>
is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">EqualityExpression</span>.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">RelationalExpression</span>.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>Return the result of performing the strict equality comparison
      <var>rval</var> === <var>lval</var>. (<a href="#sec-11.9.6">See
      11.9.6</a>)</li>
</ol>
</section>

<section id="sec-11.9.5">
<h1><span class="secnum"><a href="#sec-11.9.5"
    title="link to this section">11.9.5</a></span>
    The Strict Does-not-equal Operator ( <code class="t">!==</code> )</h1>

<p>The production <span class="prod">EqualityExpression
<span class="geq">:</span> <span class="nt">EqualityExpression</span>
<code class="t">!==</code> <span class="nt">RelationalExpression</span></span>
is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">EqualityExpression</span>.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">RelationalExpression</span>.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>Let <var>r</var> be the result of performing strict equality comparison
      <var>rval</var> === <var>lval</var>. (<a href="#sec-11.9.6">See
      11.9.6</a>)</li>

  <li>If <var>r</var> is <span class="value">true</span>, return
      <span class="value">false</span>. Otherwise, return
      <span class="value">true</span>.</li>
</ol>
</section>

<section id="sec-11.9.6">
<h1><span class="secnum"><a href="#sec-11.9.6"
    title="link to this section">11.9.6</a></span>
    The Strict Equality Comparison Algorithm</h1>

<p>The comparison <var>x</var> === <var>y</var>, where <var>x</var> and
<var>y</var> are values, produces <span class="value">true</span> or
<span class="value">false</span>. Such a comparison is performed as
follows:</p>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>x</var>) is different from
      <a href="#def-type">Type</a>(<var>y</var>), return
      <span class="value">false</span>.</li>

  <li>If <a href="#def-type">Type</a>(<var>x</var>) is Undefined, return
      <span class="value">true</span>.</li>

  <li>If <a href="#def-type">Type</a>(<var>x</var>) is Null, return
      <span class="value">true</span>.</li>

  <li>If <a href="#def-type">Type</a>(<var>x</var>) is Number, then
    <ol class="block">
      <li>If <var>x</var> is <span class="value">NaN</span>, return
          <span class="value">false</span>.</li>

      <li>If <var>y</var> is <span class="value">NaN</span>, return <span class="value">false</span>.</li>

      <li>If <var>x</var> is the same Number value as <var>y</var>, return
          <span class="value">true</span>.</li>

      <li>If <var>x</var> is <span class="value">+0</span> and <var>y</var> is
          <span class="value">&minus;0</span>, return
          <span class="value">true</span>.</li>

      <li>If <var>x</var> is <span class="value">&minus;0</span> and
          <var>y</var> is <span class="value">+0</span>, return
          <span class="value">true</span>.</li>

      <li>Return <span class="value">false</span>.</li>
    </ol>
  </li>

  <li><span class="pagemark" id="page92">PDF page 92 / printed page 82</span>If
      <a href="#def-type">Type</a>(<var>x</var>) is String, then return
      <span class="value">true</span> if <var>x</var> and <var>y</var> are
      exactly the same sequence of characters (same length and same characters
      in corresponding positions); otherwise, return
      <span class="value">false</span>.</li>

  <li>If <a href="#def-type">Type</a>(<var>x</var>) is Boolean, return
      <span class="value">true</span> if <var>x</var> and <var>y</var> are both
      <span class="value">true</span> or both <span class="value">false</span>;
      otherwise, return <span class="value">false</span>.</li>

  <li>Return <span class="value">true</span> if <var>x</var> and <var>y</var>
      refer to the same object. Otherwise, return
      <span class="value">false</span>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> This algorithm differs from
  <a href="#sec-9.12">the SameValue Algorithm (9.12)</a> in its treatment of
  signed zeroes and NaNs.</p>
</div>
</section>
</section>


<section id="sec-11.10">
<h1><span class="secnum"><a href="#sec-11.10"
    title="link to this section">11.10</a></span>
    Binary Bitwise Operators</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-BitwiseANDExpression">
    <div class="lhs">
      <span class="nt">BitwiseANDExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseANDExpression</span> <code class="t">&amp;</code> <span class="nt">EqualityExpression</span>
    </div>
  </div>

  <div class="gp" id="def-BitwiseANDExpressionNoIn">
    <div class="lhs">
      <span class="nt">BitwiseANDExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseANDExpressionNoIn</span> <code class="t">&amp;</code> <span class="nt">EqualityExpressionNoIn</span>
    </div>
  </div>

  <div class="gp" id="def-BitwiseXORExpression">
    <div class="lhs">
      <span class="nt">BitwiseXORExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseANDExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseXORExpression</span> <code class="t">^</code> <span class="nt">BitwiseANDExpression</span>
    </div>
  </div>

  <div class="gp" id="def-BitwiseXORExpressionNoIn">
    <div class="lhs">
      <span class="nt">BitwiseXORExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseANDExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseXORExpressionNoIn</span> <code class="t">^</code> <span class="nt">BitwiseANDExpressionNoIn</span>
    </div>
  </div>

  <div class="gp" id="def-BitwiseORExpression">
    <div class="lhs">
      <span class="nt">BitwiseORExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseXORExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseORExpression</span> <code class="t">|</code> <span class="nt">BitwiseXORExpression</span>
    </div>
  </div>

  <div class="gp" id="def-BitwiseORExpressionNoIn">
    <div class="lhs">
      <span class="nt">BitwiseORExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseXORExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseORExpressionNoIn</span> <code class="t">|</code> <span class="nt">BitwiseXORExpressionNoIn</span>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>The production <span class="prod"><var>A</var> <span class="geq">:</span>
<var>A</var> <code class="bogus t"><var>@</var></code> <var>B</var></span>,
where <code class="bogus t"><var>@</var></code> is one of the bitwise operators
in the productions above, is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating <var>A</var>.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating <var>B</var>.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>Let <var>lnum</var> be
      <a href="#sec-9.5">ToInt32</a>(<var>lval</var>).</li>

  <li>Let <var>rnum</var> be
      <a href="#sec-9.5">ToInt32</a>(<var>rval</var>).</li>

  <li>Return the result of applying the bitwise operator <code class="bogus
      t"><var>@</var></code> to <var>lnum</var> and <var>rnum</var>. The result
      is a signed 32 bit integer.</li>
</ol>
</section>


<section id="sec-11.11">
<h1><span class="secnum"><a href="#sec-11.11"
    title="link to this section">11.11</a></span>
    Binary Logical Operators</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-LogicalANDExpression">
    <div class="lhs">
      <span class="nt">LogicalANDExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseORExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalANDExpression</span> <code class="t">&amp;&amp;</code> <span class="nt">BitwiseORExpression</span>
    </div>
  </div>

  <div class="gp" id="def-LogicalANDExpressionNoIn">
    <div class="lhs">
      <span class="nt">LogicalANDExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseORExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalANDExpressionNoIn</span> <code class="t">&amp;&amp;</code> <span class="nt">BitwiseORExpressionNoIn</span>
    </div>
  </div>

  <div class="gp" id="def-LogicalORExpression">
    <span class="pagemark" id="page93">PDF page 93 / printed page 83</span>
    <div class="lhs">
      <span class="nt">LogicalORExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalANDExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalORExpression</span> <code class="t">||</code> <span class="nt">LogicalANDExpression</span>
    </div>
  </div>

  <div class="gp" id="def-LogicalORExpressionNoIn">
    <div class="lhs">
      <span class="nt">LogicalORExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalANDExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalORExpressionNoIn</span> <code class="t">||</code> <span class="nt">LogicalANDExpressionNoIn</span>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>The production
<span class="prod"><span class="nt">LogicalANDExpression</span>
<span class="geq">:</span> <span class="nt">LogicalANDExpression</span>
<code class="t">&amp;&amp;</code>
<span class="nt">BitwiseORExpression</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">LogicalANDExpression</span>.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>If <a href="#sec-9.2">ToBoolean</a>(<var>lval</var>) is
      <span class="value">false</span>, return <var>lval</var>.</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">BitwiseORExpression</span>.</li>

  <li>Return <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>
</ol>

<p>The production
<span class="prod"><span class="nt">LogicalORExpression</span>
<span class="geq">:</span> <span class="nt">LogicalORExpression</span>
<code class="t">||</code> <span class="nt">LogicalANDExpression</span></span>
is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">LogicalORExpression</span>.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>If <a href="#sec-9.2">ToBoolean</a>(<var>lval</var>) is
      <span class="value">true</span>, return <var>lval</var>.</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">LogicalANDExpression</span>.</li>

  <li>Return <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>
</ol>

<p>The <span class="nt">LogicalANDExpressionNoIn</span> and
<span class="nt">LogicalORExpressionNoIn</span> productions are evaluated in
the same manner as the <span class="nt">LogicalANDExpression</span> and
<span class="nt">LogicalORExpression</span> productions except that the
contained <span class="nt">LogicalANDExpressionNoIn</span>,
<span class="nt">BitwiseORExpressionNoIn</span> and
<span class="nt">LogicalORExpressionNoIn</span> are evaluated instead of the
contained <span class="nt">LogicalANDExpression</span>,
<span class="nt">BitwiseORExpression</span> and
<span class="nt">LogicalORExpression</span>, respectively.</p>


<div class="note">
  <p><span class="nh">NOTE</span> The value produced by a
  <code class="t">&amp;&amp;</code> or <code class="t">||</code> operator is
  not necessarily of type Boolean. The value produced will always be the value
  of one of the two operand expressions.</p>
</div>
</section>


<section id="sec-11.12">
<h1><span class="secnum"><a href="#sec-11.12"
    title="link to this section">11.12</a></span>
    Conditional Operator ( <code class="t">?</code> <code class="t">:</code> )</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-ConditionalExpression">
    <div class="lhs">
      <span class="nt">ConditionalExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalORExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalORExpression</span> <code class="t">?</code> <span class="nt">AssignmentExpression</span> <code class="t">:</code> <span class="nt">AssignmentExpression</span>
    </div>
  </div>

  <div class="gp" id="def-ConditionalExpressionNoIn">
    <div class="lhs">
      <span class="nt">ConditionalExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalORExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalORExpressionNoIn</span> <code class="t">?</code> <span class="nt">AssignmentExpression</span> <code class="t">:</code> <span class="nt">AssignmentExpressionNoIn</span>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>The production
<span class="prod"><span class="nt">ConditionalExpression</span>
<span class="geq">:</span> <span class="nt">LogicalORExpression</span>
<code class="t">?</code> <span class="nt">AssignmentExpression</span>
<code class="t">:</code> <span class="nt">AssignmentExpression</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">LogicalORExpression</span>.</li>

  <li>If
      <a href="#sec-9.2">ToBoolean</a>(<a href="#sec-8.7.1">GetValue</a>(<var>lref</var>))
      is <span class="value">true</span>, then
    <ol class="block">
      <li>Let <var>trueRef</var> be the result of evaluating the first
          <span class="nt">AssignmentExpression</span>.</li>

      <li>Return <a href="#sec-8.7.1">GetValue</a>(<var>trueRef</var>).</li>
    </ol>
  </li>

  <li>Else
    <ol class="block">
      <li>Let <var>falseRef</var> be the result of evaluating the second
          <span class="nt">AssignmentExpression</span>.</li>

      <li>Return <a href="#sec-8.7.1">GetValue</a>(<var>falseRef</var>).</li>
    </ol>
  </li>
</ol>

<p><span class="pagemark" id="page94">PDF page 94 / printed page 84</span> The
<span class="nt">ConditionalExpressionNoIn</span> production is evaluated in
the same manner as the <span class="nt">ConditionalExpression</span> production
except that the contained <span class="nt">LogicalORExpressionNoIn</span>,
<span class="nt">AssignmentExpression</span> and
<span class="nt">AssignmentExpressionNoIn</span> are evaluated instead of the
contained <span class="nt">LogicalORExpression</span>, first
<span class="nt">AssignmentExpression</span> and second
<span class="nt">AssignmentExpression</span>, respectively.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The grammar for a ConditionalExpression in
  ECMAScript is a little bit different from that in C and Java, which each
  allow the second subexpression to be an Expression but restrict the third
  expression to be a ConditionalExpression. The motivation for this difference
  in ECMAScript is to allow an assignment expression to be governed by either
  arm of a conditional and to eliminate the confusing and fairly useless case
  of a comma expression as the centre expression.</p>
</div>
</section>


<section id="sec-11.13">
<h1><span class="secnum"><a href="#sec-11.13"
    title="link to this section">11.13</a></span>
    Assignment Operators</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-AssignmentExpression">
    <div class="lhs">
      <span class="nt">AssignmentExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">ConditionalExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">LeftHandSideExpression</span> <span class="nt">AssignmentOperator</span> <span class="nt">AssignmentExpression</span>
    </div>
  </div>

  <div class="gp" id="def-AssignmentExpressionNoIn">
    <div class="lhs">
      <span class="nt">AssignmentExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">ConditionalExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">LeftHandSideExpression</span> <span class="nt">AssignmentOperator</span> <span class="nt">AssignmentExpressionNoIn</span>
    </div>
  </div>

  <div class="gp" id="def-AssignmentOperator">
    <div class="lhs">
      <span class="nt">AssignmentOperator</span> <span class="geq">:</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">=    *=   /=   %=   +=   -=   &lt;&lt;=  &gt;&gt;=  &gt;&gt;&gt;= &amp;=   ^=    |=</code>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>The <span class="nt">AssignmentExpressionNoIn</span> productions are
evaluated in the same manner as the
<span class="nt">AssignmentExpression</span> productions except that the
contained <span class="nt">ConditionalExpressionNoIn</span> and
<span class="nt">AssignmentExpressionNoIn</span> are evaluated instead of the
contained <span class="nt">ConditionalExpression</span> and
<span class="nt">AssignmentExpression</span>, respectively.</p>


<section id="sec-11.13.1">
<h1><span class="secnum"><a href="#sec-11.13.1"
    title="link to this section">11.13.1</a></span>
    Simple Assignment ( <code class="t">=</code> )</h1>

<p>The production
<span class="prod"><span class="nt">AssignmentExpression</span>
<span class="geq">:</span> <span class="nt">LeftHandSideExpression</span>
<code class="t">=</code> <span class="nt">AssignmentExpression</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">LeftHandSideExpression</span>.</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">AssignmentExpression</span>.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>Throw a <span class="errorname">SyntaxError</span> exception if the
      following conditions are all true:
    <ul>
      <li><a href="#def-type">Type</a>(<var>lref</var>) is <a href="#sec-8.7">Reference</a> is
          <span class="value">true</span></li>

      <li><a href="#def-IsStrictReference">IsStrictReference</a>(<var>lref</var>)
          is <span class="value">true</span></li>

      <li><a href="#def-type">Type</a>(<a href="#def-GetBase">GetBase</a>(<var>lref</var>))
          is Enviroment Record</li>

      <li><a href="#def-GetReferencedName">GetReferencedName</a>(<var>lref</var>)
          is either <span class="string value">"eval"</span> or
          <span class="string value">"arguments"</span></li>
    </ul>
  </li>

  <li>Call <a href="#sec-8.7.2">PutValue</a>(<var>lref</var>,
      <var>rval</var>).</li>

  <li>Return <var>rval</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> When an assignment occurs within
  <a href="#sec-10.1.1">strict mode code</a>, its <span class="nt"
  data-nt="LeftHandSideExpression">LeftHandSide</span> must not evaluate to an
  <a href="#def-IsUnresolvableReference">unresolvable reference</a>. If it does
  a <span class="errorname">ReferenceError</span> exception is thrown upon
  assignment. The <span class="nt"
  data-nt="LeftHandSideExpression">LeftHandSide</span> also may not be a
  reference to a data property with the attribute value
  {[[Writable]]:<span class="value">false</span>}, to an accessor property with
  the attribute value {[[Set]]:<span class="value">undefined</span>}, nor to a
  non-existent property of an object whose [[Extensible]] internal property has
  the value <span class="value">false</span>. In these cases a
  <span class="errorname">TypeError</span> exception is thrown.</p>
</div>
</section>

<section id="sec-11.13.2">
  <h1><span class="secnum"><a href="#sec-11.13.2"
    title="link to this section">11.13.2</a></span>
    Compound Assignment ( <code class="t"><var>op</var>=</code> )</h1>

<p>The production
<span class="prod"><span class="nt">AssignmentExpression</span>
<span class="geq">:</span> <span class="nt">LeftHandSideExpression</span>
<var>@</var> <code class="t">=</code>
<span class="nt">AssignmentExpression</span></span>, where <var>@</var>
represents one of the operators indicated above, is evaluated as follows:</p>

<ol class="proc">
  <li><span class="pagemark" id="page95">PDF page 95 / printed page
      85</span>Let <var>lref</var> be the result of evaluating
      <span class="nt">LeftHandSideExpression</span>.</li>

  <li>Let <var>lval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">AssignmentExpression</span>.</li>

  <li>Let <var>rval</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>

  <li>Let <var>r</var> be the result of applying operator <var>@</var> to
      <var>lval</var> and <var>rval</var>.</li>

  <li>Throw a <span class="errorname">SyntaxError</span> exception if the
      following conditions are all true:
    <ul>
      <li><a href="#def-type">Type</a>(<var>lref</var>) is <a href="#sec-8.7">Reference</a> is
          <span class="value">true</span></li>

      <li><a href="#def-IsStrictReference">IsStrictReference</a>(<var>lref</var>)
          is <span class="value">true</span></li>

      <li><a href="#def-type">Type</a>(<a href="#def-GetBase">GetBase</a>(<var>lref</var>))
          is Enviroment Record</li>

      <li><a href="#def-GetReferencedName">GetReferencedName</a>(lref) is
          either <span class="string value">"eval"</span> or
          <span class="string value">"arguments"</span></li>
    </ul>
  </li>

  <li>Call <a href="#sec-8.7.2">PutValue</a>(<var>lref</var>,
      <var>r</var>).</li>

  <li>Return <var>r</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> See NOTE
  <a href="#sec-11.13.1">11.13.1</a>.</p>
</div>
</section>
</section>


<section id="sec-11.14">
<h1><span class="secnum"><a href="#sec-11.14"
    title="link to this section">11.14</a></span>
    Comma Operator ( <code class="t">,</code> )</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-Expression">
    <div class="lhs">
      <span class="nt">Expression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">AssignmentExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">Expression</span> <code class="t">,</code> <span class="nt">AssignmentExpression</span>
    </div>
  </div>

  <div class="gp" id="def-ExpressionNoIn">
    <div class="lhs">
      <span class="nt">ExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">AssignmentExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">ExpressionNoIn</span> <code class="t">,</code> <span class="nt">AssignmentExpressionNoIn</span>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>The production <span class="prod"><span class="nt">Expression</span>
<span class="geq">:</span> <span class="nt">Expression</span>
<code class="t">,</code> <span class="nt">AssignmentExpression</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lref</var> be the result of evaluating
      <span class="nt">Expression</span>.</li>

  <li>Call <a href="#sec-8.7.1">GetValue</a>(<var>lref</var>).</li>

  <li>Let <var>rref</var> be the result of evaluating
      <span class="nt">AssignmentExpression</span>.</li>

  <li>Return <a href="#sec-8.7.1">GetValue</a>(<var>rref</var>).</li>
</ol>

<p>The <span class="nt">ExpressionNoIn</span> production is evaluated in the
same manner as the <span class="nt">Expression</span> production except that
the contained <span class="nt">ExpressionNoIn</span> and
<span class="nt">AssignmentExpressionNoIn</span> are evaluated instead of the
contained <span class="nt">Expression</span> and
<span class="nt">AssignmentExpression</span>, respectively.</p>


<div class="note">
  <p><span class="nh">NOTE</span> <a href="#sec-8.7.1">GetValue</a> must be
  called even though its value is not used because it may have observable
  side-effects.</p>
</div>
</section>
</section>



<section id="sec-12">
<span class="pagemark" id="page96">PDF page 96 / printed page 86</span>
<h1><span class="secnum"><a href="#sec-12"
    title="link to this section">12</a></span>
    Statements</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-Statement">
    <div class="lhs">
      <span class="nt">Statement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Block</span>
    </div>
    <div class="rhs">
      <span class="nt">VariableStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">EmptyStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">ExpressionStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">IfStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">IterationStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">ContinueStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">BreakStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">ReturnStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">WithStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">LabelledStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">SwitchStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">ThrowStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">TryStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">DebuggerStatement</span>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>A <span class="nt">Statement</span> can be part of a
<span class="nt">LabelledStatement</span>, which itself can be part of a
<span class="nt">LabelledStatement</span>, and so on. The labels introduced
this way are collectively referred to as the &ldquo;current label set&rdquo;
when describing the semantics of individual statements. A
<span class="nt">LabelledStatement</span> has no semantic meaning other than
the introduction of a label to a <dfn>label set</dfn>. The label set of an
<span class="nt">IterationStatement</span> or a
<span class="nt">SwitchStatement</span> initially contains the single element
<span class="spec value">empty</span>. The label set of any other statement is
initially empty.</p>

<div class="note">
  <p><span class="nh">NOTE</span> Several widely used implementations of
  ECMAScript are known to support the use of FunctionDeclaration as a
  Statement. However there are significant and irreconcilable variations among
  the implementations in the semantics applied to such <span class="nt"
  data-nt="FunctionDeclaration">FunctionDeclarations</span>. Because of these
  irreconcilable difference, the use of a
  <span class="nt">FunctionDeclaration</span> as a
  <span class="nt">Statement</span> results in code that is not reliably
  portable among implementations. It is recommended that ECMAScript
  implementations either disallow this usage of
  <span class="nt">FunctionDeclaration</span> or issue a warning when such a
  usage is encountered. Future editions of ECMAScript may define alternative
  portable means for declaring functions in a <span class="nt">Statement</span>
  context.</p>
</div>

<section id="sec-12.1">
<h1><span class="secnum"><a href="#sec-12.1"
    title="link to this section">12.1</a></span>
    Block</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-Block">
    <div class="lhs">
      <span class="nt">Block</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">StatementList</span><sub>opt</sub> <code class="t">}</code>
    </div>
  </div>

  <div class="gp" id="def-StatementList">
    <div class="lhs">
      <span class="nt">StatementList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Statement</span>
    </div>
    <div class="rhs">
      <span class="nt">StatementList</span> <span class="nt">Statement</span>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>The production <span class="prod"><span class="nt">Block</span>
<span class="geq">:</span> <code class="t">{</code>
<code class="t">}</code></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Return (<span class="spec value">normal</span>, <span class="spec
      value">empty</span>, <span class="spec value">empty</span>).</li>
</ol>

<p>The production <span class="prod"><span class="nt">Block</span>
<span class="geq">:</span> <code class="t">{</code>
<span class="nt">StatementList</span> <code class="t">}</code></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Return the result of evaluating
      <span class="nt">StatementList</span>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">StatementList</span>
<span class="geq">:</span> <span class="nt">Statement</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li><span class="pagemark" id="page97">PDF page 97 / printed page
      87</span>Let <var>s</var> be the result of evaluating
      <span class="nt">Statement</span>.</li>

  <li>If an exception was thrown, return (<span class="spec
      value">throw</span>, <var>V</var>, <span class="spec value">empty</span>)
      where <var>V</var> is the exception. (Execution now proceeds as if no
      exception were thrown.)</li>

  <li>Return <var>s</var>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">StatementList</span>
<span class="geq">:</span> <span class="nt">StatementList</span>
<span class="nt">Statement</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>sl</var> be the result of evaluating
      <span class="nt">StatementList</span>.</li>

  <li>If <var>sl</var> is an <a href="#sec-8.9">abrupt completion</a>, return
      <var>sl</var>.</li>

  <li>Let <var>s</var> be the result of evaluating
      <span class="nt">Statement</span>.</li>

  <li>If an exception was thrown, return (<span class="spec
      value">throw</span>, <var>V</var>, <span class="spec value">empty</span>)
      where <var>V</var> is the exception. (Execution now proceeds as if no
      exception were thrown.)</li>

  <li>If <var>s</var>.value is <span class="spec value">empty</span>, let
      <var>V</var> = <var>sl</var>.value, otherwise let <var>V</var> =
      <var>s</var>.value.</li>

  <li>Return (<var>s</var>.type, <var>V</var>, <var>s</var>.target).</li>
</ol>
</section>


<section id="sec-12.2">
<h1><span class="secnum"><a href="#sec-12.2"
    title="link to this section">12.2</a></span>
    Variable Statement</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-VariableStatement">
    <div class="lhs">
      <span class="nt">VariableStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">var</code> <span class="nt">VariableDeclarationList</span> <code class="t">;</code>
    </div>
  </div>

  <div class="gp" id="def-VariableDeclarationList">
    <div class="lhs">
      <span class="nt">VariableDeclarationList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">VariableDeclaration</span>
    </div>
    <div class="rhs">
      <span class="nt">VariableDeclarationList</span> <code class="t">,</code> <span class="nt">VariableDeclaration</span>
    </div>
  </div>

  <div class="gp" id="def-VariableDeclarationListNoIn">
    <div class="lhs">
      <span class="nt">VariableDeclarationListNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">VariableDeclarationNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">VariableDeclarationListNoIn</span> <code class="t">,</code> <span class="nt">VariableDeclarationNoIn</span>
    </div>
  </div>

  <div class="gp" id="def-VariableDeclaration">
    <div class="lhs">
      <span class="nt">VariableDeclaration</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Identifier</span> <span class="nt">Initialiser</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-VariableDeclarationNoIn">
    <div class="lhs">
      <span class="nt">VariableDeclarationNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Identifier</span> <span class="nt">InitialiserNoIn</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-Initialiser">
    <div class="lhs">
      <span class="nt">Initialiser</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">=</code> <span class="nt">AssignmentExpression</span>
    </div>
  </div>

  <div class="gp" id="def-InitialiserNoIn">
    <div class="lhs">
      <span class="nt">InitialiserNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">=</code> <span class="nt">AssignmentExpressionNoIn</span>
    </div>
  </div>
</div>


<p>A variable statement declares variables that are created as defined in
<a href="#sec-10.5">10.5</a>. Variables are initialised to
<span class="value">undefined</span> when created. A variable with an
<span class="nt">Initialiser</span> is assigned the value of its
<span class="nt">AssignmentExpression</span> when the
<span class="nt">VariableStatement</span> is executed, not when the variable is
created.</p>

<h2>Semantics</h2>

<p>The production <span class="prod"><span class="nt">VariableStatement</span>
<span class="geq">:</span> <code class="t">var</code>
<span class="nt">VariableDeclarationList</span> <code class="t">;</code></span>
is evaluated as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">VariableDeclarationList</span>.</li>

  <li>Return (<span class="spec value">normal</span>, <span class="spec
      value">empty</span>, <span class="spec value">empty</span>).</li>
</ol>

<p>The production
<span class="prod"><span class="nt">VariableDeclarationList</span>
<span class="geq">:</span><span class="nt">VariableDeclaration</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">VariableDeclaration</span>.</li>
</ol>

<p>The production
<span class="prod"><span class="nt">VariableDeclarationList</span>
<span class="geq">:</span> <span class="nt">VariableDeclarationList</span>
<code class="t">,</code> <span class="nt">VariableDeclaration</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li><span class="pagemark" id="page98">PDF page 98 / printed page
      88</span>Evaluate <span class="nt">VariableDeclarationList</span>.</li>

  <li>Evaluate <span class="nt">VariableDeclaration</span>.</li>
</ol>

<p>The production
<span class="prod"><span class="nt">VariableDeclaration</span>
<span class="geq">:</span> <span class="nt">Identifier</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Return a String value containing the same sequence of characters as in
      the <span class="nt">Identifier</span>.</li>
</ol>

<p>The production
<span class="prod"><span class="nt">VariableDeclaration</span>
<span class="geq">:</span> <span class="nt">Identifier</span>
<span class="nt">Initialiser</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>lhs</var> be the result of evaluating
      <span class="nt">Identifier</span> as described in
      <a href="#sec-11.1.2">11.1.2</a>.</li>

  <li>Let <var>rhs</var> be the result of evaluating
      <span class="nt">Initialiser</span>.</li>

  <li>Let <var>value</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>rhs</var>).</li>

  <li>Call <a href="#sec-8.7.2">PutValue</a>(<var>lhs</var>,
      <var>value</var>).</li>

  <li>Return a String value containing the same sequence of characters as in
      the <span class="nt">Identifier</span>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The String value of a
  <span class="nt">VariableDeclaration</span> is used in the evaluation of
  for-in statements (<a href="#sec-12.6.4">12.6.4</a>).</p>
</div>


<p>If a <span class="nt">VariableDeclaration</span> is nested within a with
statement and the Identifier in the <span class="nt">VariableDeclaration</span>
is the same as a property name of the binding object of the with
statement&rsquo;s object environment record, then step 4 will assign value to
the property instead of to the VariableEnvironment binding of the
<span class="nt">Identifier</span>.</p>

<p>The production <span class="prod"><span class="nt">Initialiser</span>
<span class="geq">:</span> <code class="t">=</code>
<span class="nt">AssignmentExpression</span></span> is evaluated as
follows:</p>

<ol class="proc">
  <li>Return the result of evaluating
      <span class="nt">AssignmentExpression</span>.</li>
</ol>

<p>The <span class="nt">VariableDeclarationListNoIn</span>,
<span class="nt">VariableDeclarationNoIn</span> and
<span class="nt">InitialiserNoIn</span> productions are evaluated in the same
manner as the <span class="nt">VariableDeclarationList</span>,
<span class="nt">VariableDeclaration</span> and
<span class="nt">Initialiser</span> productions except that the contained
<span class="nt">VariableDeclarationListNoIn</span>,
<span class="nt">VariableDeclarationNoIn</span>,
<span class="nt">InitialiserNoIn</span> and
<span class="nt">AssignmentExpressionNoIn</span> are evaluated instead of the
contained <span class="nt">VariableDeclarationList</span>,
<span class="nt">VariableDeclaration</span>,
<span class="nt">Initialiser</span> and
<span class="nt">AssignmentExpression</span>, respectively.</p>


<section id="sec-12.2.1">
<h1><span class="secnum"><a href="#sec-12.2.1"
    title="link to this section">12.2.1</a></span>
    Strict Mode Restrictions</h1>

<p>It is a <span class="errorname">SyntaxError</span> if a
<span class="nt">VariableDeclaration</span> or
<span class="nt">VariableDeclarationNoIn</span> occurs within
<a href="#sec-10.1.1">strict code</a> and its
<span class="nt">Identifier</span> is either <span class="string
value">"eval"</span> or <span class="string value">"arguments"</span>.</p>
</section>
</section>


<section id="sec-12.3">
<h1><span class="secnum"><a href="#sec-12.3"
    title="link to this section">12.3</a></span>
    Empty Statement</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-EmptyStatement">
    <div class="lhs">
      <span class="nt">EmptyStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">;</code>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>The production <span class="prod"><span class="nt">EmptyStatement</span>
<span class="geq">:</span> <code class="t">;</code></span> is evaluated as
follows:</p>

<ol class="proc">
  <li>Return (<span class="spec value">normal</span>, <span class="spec
      value">empty</span>, <span class="spec value">empty</span>).</li>
</ol>
</section>


<section id="sec-12.4">
<h1><span class="secnum"><a href="#sec-12.4"
    title="link to this section">12.4</a></span>
    Expression Statement</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-ExpressionStatement">
    <div class="lhs">
      <span class="nt">ExpressionStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="grhsannot">[<a href="#def-lookahead-notin">lookahead &notin;</a> {<code class="t">{</code>, <code class="t">function</code>}]</span> <span class="nt">Expression</span> <code class="t">;</code>
    </div>
  </div>
</div>

<div class="note">
  <p><span class="nh">NOTE</span> An
  <span class="nt">ExpressionStatement</span> cannot start with an opening
  curly brace because that might make it ambiguous with a
  <span class="nt">Block</span>. Also, an
  <span class="nt">ExpressionStatement</span> cannot start with the
  <code class="t">function</code> keyword because that might make it ambiguous
  with a <span class="nt">FunctionDeclaration</span>.</p>
</div>

<span class="pagemark" id="page99">PDF page 99 / printed page 89</span>
<h2>Semantics</h2>

<p>The production
<span class="prod"><span class="nt">ExpressionStatement</span>
<span class="geq">:</span>
<span class="grhsannot">[<a href="#def-lookahead-notin">lookahead &notin;</a>
{<code class="t">{</code>, <code class="t">function</code>}]</span>
<span class="nt">Expression</span> <code class="t">;</code></span> is evaluated
as follows:</p>

<ol class="proc">
  <li>Let <var>exprRef</var> be the result of evaluating
      <span class="nt">Expression</span>.</li>

  <li>Return (<span class="spec value">normal</span>,
      <a href="#sec-8.7.1">GetValue</a>(<var>exprRef</var>), <span class="spec
      value">empty</span>).</li>
</ol>
</section>


<section id="sec-12.5">
<h1><span class="secnum"><a href="#sec-12.5"
    title="link to this section">12.5</a></span>
    The <code class="t">if</code> Statement</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-IfStatement">
    <div class="lhs">
      <span class="nt">IfStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">if</code> <code class="t">(</code> <span class="nt">Expression</span> <code class="t">)</code> <span class="nt">Statement</span> <code class="t">else</code> <span class="nt">Statement</span>
    </div>
    <div class="rhs">
      <code class="t">if</code> <code class="t">(</code> <span class="nt">Expression</span> <code class="t">)</code> <span class="nt">Statement</span>
    </div>
  </div>
</div>


<p>Each <code class="t">else</code> for which the choice of associated
<code class="t">if</code> is ambiguous shall be associated with the nearest
possible <code class="t">if</code> that would otherwise have no corresponding
<code class="t">else</code>.</p>

<h2>Semantics</h2>

<p>The production <span class="prod"><span class="nt">IfStatement</span>
<span class="geq">:</span> <code class="t">if</code> <code class="t">(</code>
<span class="nt">Expression</span> <code class="t">)</code>
<span class="nt">Statement</span> <code class="t">else</code>
<span class="nt">Statement</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>exprRef</var> be the result of evaluating
      <span class="nt">Expression</span>.</li>

  <li>If
      <a href="#sec-9.2">ToBoolean</a>(<a href="#sec-8.7.1">GetValue</a>(<var>exprRef</var>))
      is <span class="value">true</span>, then
    <ol class="block">
      <li>Return the result of evaluating the first
          <span class="nt">Statement</span>.</li>
    </ol>
  </li>

  <li>Else,
    <ol class="block">
      <li>Return the result of evaluating the second
          <span class="nt">Statement</span>.</li>
    </ol>
  </li>
</ol>

<p>The production <span class="prod"><span class="nt">IfStatement</span>
<span class="geq">:</span> <code class="t">if</code> <code class="t">(</code>
<span class="nt">Expression</span> <code class="t">)</code>
<span class="nt">Statement</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>exprRef</var> be the result of evaluating
      <span class="nt">Expression</span>.</li>

  <li>If
      <a href="#sec-9.2">ToBoolean</a>(<a href="#sec-8.7.1">GetValue</a>(<var>exprRef</var>))
      is <span class="value">false</span>, return (<span class="spec
      value">normal</span>, <span class="spec value">empty</span>,
      <span class="spec value">empty</span>).</li>

  <li>Return the result of evaluating <span class="nt">Statement</span>.</li>
</ol>
</section>


<section id="sec-12.6">
<h1><span class="secnum"><a href="#sec-12.6"
    title="link to this section">12.6</a></span>
    Iteration Statements</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-IterationStatement">
    <div class="lhs">
      <span class="nt">IterationStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">do</code> <span class="nt">Statement</span> <code class="t">while</code> <code class="t">(</code> <span class="nt">Expression</span> <code class="t">)</code> <code class="t">;</code>
    </div>
    <div class="rhs">
      <code class="t">while</code> <code class="t">(</code> <span class="nt">Expression</span> <code class="t">)</code> <span class="nt">Statement</span>
    </div>
    <div class="rhs">
      <code class="t">for</code> <code class="t">(</code><span class="nt">ExpressionNoIn</span><sub>opt</sub><code class="t">;</code> <span class="nt">Expression</span><sub>opt</sub> <code class="t">;</code> <span class="nt">Expression</span><sub>opt</sub> <code class="t">)</code> <span class="nt">Statement</span>
    </div>
    <div class="rhs">
      <code class="t">for</code> <code class="t">(</code> <code class="t">var</code> <span class="nt">VariableDeclarationListNoIn</span> <code class="t">;</code> <span class="nt">Expression</span><sub>opt</sub> <code class="t">;</code> <span class="nt">Expression</span><sub>opt</sub> <code class="t">)</code> <span class="nt">Statement</span>
    </div>
    <div class="rhs">
      <code class="t">for</code> <code class="t">(</code> <span class="nt">LeftHandSideExpression</span> <code class="t">in</code> <span class="nt">Expression</span> <code class="t">)</code> <span class="nt">Statement</span>
    </div>
    <div class="rhs">
      <code class="t">for</code> <code class="t">(</code> <code class="t">var</code> <span class="nt">VariableDeclarationNoIn</span> <code class="t">in</code> <span class="nt">Expression</span> <code class="t">)</code> <span class="nt">Statement</span>
    </div>
  </div>
</div>

<section id="sec-12.6.1">
<h1><span class="secnum"><a href="#sec-12.6.1"
    title="link to this section">12.6.1</a></span>
    The <code class="t">do</code>&ndash;<code class="t">while</code> Statement</h1>

<p>The production <span class="prod"><code class="t">do</code>
<span class="nt">Statement</span> <code class="t">while</code>
<code class="t">(</code> <span class="nt">Expression</span>
<code class="t">)</code> <code class="t">;</code></span> is evaluated as
follows:</p>

<ol class="proc">
  <li>Let <var>V</var> = <span class="spec value">empty</span>.</li>

  <li>Let <var>iterating</var> be <span class="value">true</span>.</li>

  <li>Repeat, while <var>iterating</var> is <span class="value">true</span>
    <ol class="block">
      <li>Let <var>stmt</var> be the result of evaluating
          <span class="nt">Statement</span>.</li>

      <li>If <var>stmt</var>.value is not <span class="spec value">empty</span>, let <var>V</var> =
          <var>stmt</var>.value .</li>

      <li>If <var>stmt</var>.type is not <span class="spec
          value">continue</span> || <var>stmt</var>.target is not in the
          current label set, then
        <ol class="block">
          <li>If <var>stmt</var>.type is <span class="spec value">break</span>
              and <var>stmt</var>.target is in the current label set, return
              (<span class="spec value">normal</span>, <var>V</var>,
              <span class="spec value">empty</span>).</li>

          <li>If <var>stmt</var> is an <a href="#sec-8.9">abrupt
              completion</a>, return <var>stmt</var>.</li>
        </ol>
      </li>

      <li>Let <var>exprRef</var> be the result of evaluating
          <span class="nt">Expression</span>.</li>

      <li><span class="pagemark" id="page100">PDF page 100 / printed page
          90</span>If
          <a href="#sec-9.2">ToBoolean</a>(<a href="#sec-8.7.1">GetValue</a>(<var>exprRef</var>))
          is <span class="value">false</span>, set <var>iterating</var> to
          <span class="value">false</span>.</li>
    </ol>
  </li>

  <li>Return (<span class="spec value">normal</span>, <var>V</var>,
      <span class="spec value">empty</span>).</li>
</ol>
</section>

<section id="sec-12.6.2">
<h1><span class="secnum"><a href="#sec-12.6.2"
    title="link to this section">12.6.2</a></span>
    The <code class="t">while</code> Statement</h1>

<p>The production <span class="prod"><span class="nt">IterationStatement</span>
<span class="geq">:</span> <code class="t">while</code>
<code class="t">(</code> <span class="nt">Expression</span>
<code class="t">)</code> <span class="nt">Statement</span></span> is evaluated
as follows:</p>

<ol class="proc">
  <li>Let <var>V</var> = <span class="spec value">empty</span>.</li>

  <li>Repeat
    <ol class="block">
      <li>Let <var>exprRef</var> be the result of evaluating
          <span class="nt">Expression</span>.</li>

      <li>If
          <a href="#sec-9.2">ToBoolean</a>(<a href="#sec-8.7.1">GetValue</a>(<var>exprRef</var>))
          is <span class="value">false</span>, return (<span class="spec
          value">normal</span>, <var>V</var>, <span class="spec
          value">empty</span>).</li>

      <li>Let <var>stmt</var> be the result of evaluating
          <span class="nt">Statement</span>.</li>

      <li>If <var>stmt</var>.value is not <span class="spec
          value">empty</span>, let <var>V</var> = <var>stmt</var>.value.</li>

      <li>If <var>stmt</var>.type is not <span class="spec
          value">continue</span> || <var>stmt</var>.target is not in the
          current label set, then
        <ol class="block">
          <li>If <var>stmt</var>.type is <span class="spec value">break</span>
              and <var>stmt</var>.target is in the current label set, then
            <ol class="block">
              <li>Return (<span class="spec value">normal</span>, <var>V</var>,
                  <span class="spec value">empty</span>).</li>
            </ol>
          </li>

          <li>If <var>stmt</var> is an <a href="#sec-8.9">abrupt
              completion</a>, return <var>stmt</var>.</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>
</section>

<section id="sec-12.6.3">
<h1><span class="secnum"><a href="#sec-12.6.3"
    title="link to this section">12.6.3</a></span>
    The <code class="t">for</code> Statement</h1>

<p>The production <span class="prod"><span class="nt">IterationStatement</span>
<span class="geq">:</span> <code class="t">for</code> <code class="t">(</code>
<span class="nt">ExpressionNoIn</span><sub>opt</sub> <code class="t">;</code>
<span class="nt">Expression</span><sub>opt</sub> <code class="t">;</code>
<span class="nt">Expression</span><sub>opt</sub><code class="t">)</code>
<span class="nt">Statement</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>If <span class="nt">ExpressionNoIn</span> is present, then.
    <ol class="block">
      <li>Let <var>exprRef</var> be the result of evaluating
          <span class="nt">ExpressionNoIn</span>.</li>

      <li>Call <a href="#sec-8.7.1">GetValue</a>(<var>exprRef</var>). (This
          value is not used.)</li>
    </ol>
  </li>

  <li>Let <var>V</var> = <span class="spec value">empty</span>.</li>

  <li>Repeat
    <ol class="block">
      <li>If the first <span class="nt">Expression</span> is present, then
        <ol class="block">
          <li>Let <var>testExprRef</var> be the result of evaluating the first
              <span class="nt">Expression</span>.</li>

          <li>If <a href="#sec-8.7.1">GetValue</a>(<var>testExprRef</var>) is
              <span class="value">false</span>, return (<span class="spec
              value">normal</span>, <var>V</var>, <span class="spec
              value">empty</span>).</li>
        </ol>
      </li>

      <li>Let <var>stmt</var> be the result of evaluating
          <span class="nt">Statement</span>.</li>

      <li>If <var>stmt</var>.value is not <span class="spec
          value">empty</span>, let <var>V</var> =
          <var>stmt</var>.value&nbsp;.</li>

      <li>If <var>stmt</var>.type is <span class="spec value">break</span> and
          <var>stmt</var>.target is in the current label set, return
          (<span class="spec value">normal</span>, <var>V</var>,
          <span class="spec value">empty</span>).</li>

      <li>If <var>stmt</var>.type is not <span class="spec
          value">continue</span> || <var>stmt</var>.target is not in the
          current label set, then
        <ol class="block">
          <li>If <var>stmt</var> is an <a href="#sec-8.9">abrupt
              completion</a>, return <var>stmt</var>.</li>
        </ol>
      </li>

      <li>If the second <span class="nt">Expression</span> is present, then
        <ol class="block">
          <li>Let <var>incExprRef</var> be the result of evaluating the second
              <span class="nt">Expression</span>.</li>

          <li>Call <a href="#sec-8.7.1">GetValue</a>(<var>incExprRef</var>).
              (This value is not used.)</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<p>The production <span class="prod"><span class="nt">IterationStatement</span>
<span class="geq">:</span> <code class="t">for</code> <code class="t">(</code>
<code class="t">var</code> <span class="nt">VariableDeclarationListNoIn</span>
<code class="t">;</code> <span class="nt">Expression</span><sub>opt</sub>
<code class="t">;</code> <span class="nt">Expression</span><sub>opt</sub>
<code class="t">)</code> <span class="nt">Statement</span></span> is evaluated
as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">VariableDeclarationListNoIn</span>.</li>

  <li>Let <var>V</var> = <span class="spec value">empty</span>.</li>

  <li>Repeat
    <ol class="block">
      <li>If the first <span class="nt">Expression</span> is present, then
        <ol class="block">
          <li>Let <var>testExprRef</var> be the result of evaluating the first
              <span class="nt">Expression</span>.</li>

          <li>If <a href="#sec-8.7.1">GetValue</a>(<var>testExprRef</var>) is
              <span class="value">false</span>, then return (<span class="spec
              value">normal</span>, <var>V</var>, <span class="spec
              value">empty</span>).</li>
        </ol>
      </li>

      <li>Let <var>stmt</var> be the result of evaluating
          <span class="nt">Statement</span>.</li>

      <li>If <var>stmt</var>.value is not <span class="spec
          value">empty</span>, let <var>V</var> = <var>stmt</var>.value.</li>

      <li>If <var>stmt</var>.type is <span class="spec value">break</span> and
          <var>stmt</var>.target is in the current label set, return
          (<span class="spec value">normal</span>, <var>V</var>,
          <span class="spec value">empty</span>).</li>

      <li>If <var>stmt</var>.type is not <span class="spec
          value">continue</span> || <var>stmt</var>.target is not in the
          current label set, then
        <ol class="block">
          <li>If <var>stmt</var> is an <a href="#sec-8.9">abrupt
              completion</a>, return <var>stmt</var>.</li>
        </ol>
      </li>

      <li>If the second <span class="nt">Expression</span> is present, then.
        <ol class="block">
          <li>Let <var>incExprRef</var> be the result of evaluating the second
              <span class="nt">Expression</span>.</li>

          <li>Call <a href="#sec-8.7.1">GetValue</a>(<var>incExprRef</var>).
              (This value is not used.)</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>
</section>

<section id="sec-12.6.4">
<span class="pagemark" id="page101">PDF page 101 / printed page 91</span>
<h1><span class="secnum"><a href="#sec-12.6.4"
    title="link to this section">12.6.4</a></span>
    The <code class="t">for</code>&ndash;<code class="t">in</code> Statement</h1>

<p>The production <span class="prod"><span class="nt">IterationStatement</span>
<span class="geq">:</span> <code class="t">for</code> <code class="t">(</code>
<span class="nt">LeftHandSideExpression</span> <code class="t">in</code>
<span class="nt">Expression</span> <code class="t">)</code>
<span class="nt">Statement</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>exprRef</var> be the result of evaluating the
      <span class="nt">Expression</span>.</li>

  <li>Let <var>experValue</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>exprRef</var>).</li>

  <li>If <var>experValue</var> is <span class="value">null</span> or
      <span class="value">undefined</span>, return (<span class="spec
      value">normal</span>, <span class="spec value">empty</span>,
      <span class="spec value">empty</span>).</li>

  <li>Let <var>obj</var> be
      <a href="#sec-9.9">ToObject</a>(<var>experValue</var>).</li>

  <li>Let <var>V</var> = <span class="spec value">empty</span>.</li>

  <li>Repeat
    <ol class="block">
      <li>Let <var>P</var> be the name of the next property of <var>obj</var>
          whose [[Enumerable]] attribute is <span class="value">true</span>. If
          there is no such property, return (<span class="spec
          value">normal</span>, <var>V</var>, <span class="spec
          value">empty</span>).</li>

      <li>Let <var>lhsRef</var> be the result of evaluating the
          <span class="nt">LeftHandSideExpression</span> (it may be evaluated
          repeatedly).</li>

      <li>Call <a href="#sec-8.7.2">PutValue</a>(<var>lhsRef</var>, <var>P</var>).</li>

      <li>Let <var>stmt</var> be the result of evaluating
          <span class="nt">Statement</span>.</li>

      <li>If <var>stmt</var>.value is not <span class="spec
          value">empty</span>, let <var>V</var> = <var>stmt</var>.value.</li>

      <li>If <var>stmt</var>.type is <span class="spec value">break</span> and
          <var>stmt</var>.target is in the current label set, return
          (<span class="spec value">normal</span>, <var>V</var>,
          <span class="spec value">empty</span>).</li>

      <li>If <var>stmt</var>.type is not <span class="spec value">continue</span> || <var>stmt</var>.target is
          not in the current label set, then
        <ol class="block">
          <li>If <var>stmt</var> is an <a href="#sec-8.9">abrupt
              completion</a>, return <var>stmt</var>.</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<p>The production <span class="prod"><span class="nt">IterationStatement</span>
<span class="geq">:</span> <code class="t">for</code> <code class="t">(</code>
<code class="t">var</code> <span class="nt">VariableDeclarationNoIn</span>
<code class="t">in</code> <span class="nt">Expression</span>
<code class="t">)</code> <span class="nt">Statement</span></span> is evaluated
as follows:</p>

<ol class="proc">
  <li>Let <var>varName</var> be the result of evaluating
      <span class="nt">VariableDeclarationNoIn</span>.</li>

  <li>Let <var>exprRef</var> be the result of evaluating the
      <span class="nt">Expression</span>.</li>

  <li>Let <var>experValue</var> be
      <a href="#sec-8.7.1">GetValue</a>(<var>exprRef</var>).</li>

  <li>If <var>experValue</var> is <span class="value">null</span> or
      <span class="value">undefined</span>, return (<span class="spec
      value">normal</span>, <span class="spec value">empty</span>,
      <span class="spec value">empty</span>).</li>

  <li>Let <var>obj</var> be
      <a href="#sec-9.9">ToObject</a>(<var>experValue</var>).</li>

  <li>Let <var>V</var> = <span class="spec value">empty</span>.</li>

  <li>Repeat
    <ol class="block">
      <li>Let <var>P</var> be the name of the next property of <var>obj</var>
          whose [[Enumerable]] attribute is <span class="value">true</span>. If
          there is no such property, return (<span class="spec
          value">normal</span>, <var>V</var>, <span class="spec
          value">empty</span>).</li>

      <li>Let <var>varRef</var> be the result of evaluating <var>varName</var>
          as if it were an Identifier Reference
          (<a href="#sec-11.1.2">11.1.2</a>); it may be evaluated
          repeatedly.</li>

      <li>Call <a href="#sec-8.7.2">PutValue</a>(<var>varRef</var>, <var>P</var>).</li>

      <li>Let <var>stmt</var> be the result of evaluating
          <span class="nt">Statement</span>.</li>

      <li>If <var>stmt</var>.value is not <span class="spec
          value">empty</span>, let <var>V</var> = <var>stmt</var>.value.</li>

      <li>If <var>stmt</var>.type is <span class="spec value">break</span> and
          <var>stmt</var>.target is in the current label set, return
          (<span class="spec value">normal</span>, <var>V</var>,
          <span class="spec value">empty</span>).</li>

      <li>If <var>stmt</var>.type is not <span class="spec
          value">continue</span> || <var>stmt</var>.target is not in the
          current label set, then
        <ol class="block">
          <li>If <var>stmt</var> is an <a href="#sec-8.9">abrupt
              completion</a>, return <var>stmt</var>.</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<p>The mechanics and order of enumerating the properties (step 6.a in the first
algorithm, step 7.a in the second) is not specified. Properties of the object
being enumerated may be deleted during enumeration. If a property that has not
yet been visited during enumeration is deleted, then it will not be visited. If
new properties are added to the object being enumerated during enumeration, the
newly added properties are not guaranteed to be visited in the active
enumeration. A property name must not be visited more than once in any
enumeration.</p>

<p>Enumerating the properties of an object includes enumerating properties of
its prototype, and the prototype of the prototype, and so on, recursively; but
a property of a prototype is not enumerated if it is &ldquo;shadowed&rdquo;
because some previous object in the prototype chain has a property with the
same name. The values of [[Enumerable]] attributes are not considered when
determining if a property of a prototype object is shadowed by a previous
object on the prototype chain.</p>

<div class="note">
  <p><span class="nh">NOTE</span> See NOTE
  <a href="#sec-11.13.1">11.13.1</a>.</p>
</div>


<span class="pagemark" id="page102">PDF page 102 / printed page 92</span>
</section>
</section>


<section id="sec-12.7">
<h1><span class="secnum"><a href="#sec-12.7"
    title="link to this section">12.7</a></span>
    The <code class="t">continue</code> Statement</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-ContinueStatement">
    <div class="lhs">
      <span class="nt">ContinueStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">continue</code> <span class="grhsannot"><a href="#def-restricted-production">[no <span class="nt">LineTerminator</span> here]</a></span> <span class="nt">Identifier</span><sub>opt</sub> <code class="t">;</code>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>A program is considered syntactically incorrect if either of the following
is true:</p>

<ul>
  <li>The program contains a <code class="t">continue</code> statement without
      the optional <span class="nt">Identifier</span>, which is not nested,
      directly or indirectly (but not crossing function boundaries), within an
      <span class="nt">IterationStatement</span>.</li>

  <li>The program contains a <code class="t">continue</code> statement with the
      optional <span class="nt">Identifier</span>, where
      <span class="nt">Identifier</span> does not appear in the label set of an
      enclosing (but not crossing function boundaries)
      <span class="nt">IterationStatement</span>.</li>
</ul>

<p>A <span class="nt">ContinueStatement</span> without an
<span class="nt">Identifier</span> is evaluated as follows:</p>

<ol class="proc">
  <li>Return (<span class="spec value">continue</span>, <span class="spec
      value">empty</span>, <span class="spec value">empty</span>).</li>
</ol>

<p>A <span class="nt">ContinueStatement</span> with the optional
<span class="nt">Identifier</span> is evaluated as follows:</p>

<ol class="proc">
  <li>Return (<span class="spec value">continue</span>, <span class="spec
      value">empty</span>, <span class="nt">Identifier</span>).</li>
</ol>
</section>


<section id="sec-12.8">
<h1><span class="secnum"><a href="#sec-12.8"
    title="link to this section">12.8</a></span>
    The <code class="t">break</code> Statement</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-BreakStatement">
    <div class="lhs">
      <span class="nt">BreakStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">break</code> <span class="grhsannot"><a href="#def-restricted-production">[no <span class="nt">LineTerminator</span> here]</a></span> <span class="nt">Identifier</span><sub>opt</sub> <code class="t">;</code>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>A program is considered syntactically incorrect if either of the following
is true:</p>

<ul>
  <li>The program contains a <code class="t">break</code> statement without the
      optional <span class="nt">Identifier</span>, which is not nested,
      directly or indirectly (but not crossing function boundaries), within an
      <span class="nt">IterationStatement</span> or a
      <span class="nt">SwitchStatement</span>.</li>

  <li>The program contains a <code class="t">break</code> statement with the
      optional <span class="nt">Identifier</span>, where
      <span class="nt">Identifier</span> does not appear in the label set of an
      enclosing (but not crossing function boundaries)
      <span class="nt">Statement</span>.</li>
</ul>

<p>A <span class="nt">BreakStatement</span> without an
<span class="nt">Identifier</span> is evaluated as follows:</p>

<ol class="proc">
  <li>Return (<span class="spec value">break</span>, <span class="spec
      value">empty</span>, <span class="spec value">empty</span>).</li>
</ol>

<p>A <span class="nt">BreakStatement</span> with an
<span class="nt">Identifier</span> is evaluated as follows:</p>

<ol class="proc">
  <li>Return (<span class="spec value">break</span>, <span class="spec
      value">empty</span>, <span class="nt">Identifier</span>).</li>
</ol>
</section>


<section id="sec-12.9">
<h1><span class="secnum"><a href="#sec-12.9"
    title="link to this section">12.9</a></span>
    The <code class="t">return</code> Statement</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-ReturnStatement">
    <div class="lhs">
      <span class="nt">ReturnStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">return</code> <span class="grhsannot"><a href="#def-restricted-production">[no <span class="nt">LineTerminator</span> here]</a></span> <span class="nt">Expression</span><sub>opt</sub> <code class="t">;</code>
    </div>
  </div>
</div>

<span class="pagemark" id="page103">PDF page 103 / printed page 93</span>
<h2>Semantics</h2>

<p>An ECMAScript program is considered syntactically incorrect if it contains a
<code class="t">return</code> statement that is not within a
<span class="nt">FunctionBody</span>. A <code class="t">return</code> statement
causes a function to cease execution and return a value to the caller. If
<span class="nt">Expression</span> is omitted, the return value is
<span class="value">undefined</span>. Otherwise, the return value is the value
of <span class="nt">Expression</span>.</p>

<p>The production <span class="prod"><span class="nt">ReturnStatement</span>
<span class="geq">:</span> <code class="t">return</code>
<span class="grhsannot"><a href="#def-restricted-production">[no
<span class="nt">LineTerminator</span> here]</a></span>
<span class="nt">Expression</span><sub>opt</sub>
<code class="t">;</code></span> is evaluated as:</p>

<ol class="proc">
  <li>If the <span class="nt">Expression</span> is not present, return
      (<span class="spec value">return</span>,
      <span class="value">undefined</span>, <span class="spec
      value">empty</span>).</li>

  <li>Let <var>exprRef</var> be the result of evaluating
      <span class="nt">Expression</span>.</li>

  <li>Return (<span class="spec value">return</span>,
      <a href="#sec-8.7.1">GetValue</a>(<var>exprRef</var>), <span class="spec
      value">empty</span>).</li>
</ol>
</section>


<section id="sec-12.10">
<h1><span class="secnum"><a href="#sec-12.10"
    title="link to this section">12.10</a></span>
    The <code class="t">with</code> Statement</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-WithStatement">
    <div class="lhs">
      <span class="nt">WithStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">with</code> <code class="t">(</code> <span class="nt">Expression</span> <code class="t">)</code> <span class="nt">Statement</span>
    </div>
  </div>
</div>

<p>The <code class="t">with</code> statement adds an object environment record
for a computed object to the <a href="#sec-10.2">lexical environment</a> of the
current execution context. It then executes a statement using this augmented
lexical environment. Finally, it restores the original lexical environment.</p>

<h2>Semantics</h2>

<p>The production <span class="prod"><span class="nt">WithStatement</span>
<span class="geq">:</span> <code class="t">with</code> <code class="t">(</code>
<span class="nt">Expression</span> <code class="t">)</code>
<span class="nt">Statement</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>val</var> be the result of evaluating
      <span class="nt">Expression</span>.</li>

  <li>Let <var>obj</var> be
      <a href="#sec-9.9">ToObject</a>(<a href="#sec-8.7.1">GetValue</a>(<var>val</var>)).</li>

  <li>Let <var>oldEnv</var> be the running execution context&rsquo;s
      LexicalEnvironment.</li>

  <li>Let <var>newEnv</var> be the result of calling
      <a href="#sec-10.2.2.3">NewObjectEnvironment</a> passing <var>obj</var>
      and <var>oldEnv</var> as the arguments.</li>

  <li>Set the <var>provideThis</var> flag of <var>newEnv</var> to
      <span class="value">true</span>.</li>

  <li>Set the running execution context&rsquo;s LexicalEnvironment to
      <var>newEnv</var>.</li>

  <li>Let <var>C</var> be the result of evaluating
      <span class="nt">Statement</span> but if an exception is thrown during
      the evaluation, let <var>C</var> be (<span class="spec
      value">throw</span>, <var>V</var>, <span class="spec
      value">empty</span>), where <var>V</var> is the exception. (Execution now
      proceeds as if no exception were thrown.)</li>

  <li>Set the running execution context&rsquo;s <a href="#sec-10.2">Lexical
      Environment</a> to <var>oldEnv</var>.</li>

  <li>Return <var>C</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> No matter how control leaves the embedded
  <span class="nt">Statement</span>, whether normally or by some form of
  <a href="#sec-8.9">abrupt completion</a> or exception, the LexicalEnvironment
  is always restored to its former state.</p>
</div>

<section id="sec-12.10.1">
<h1><span class="secnum"><a href="#sec-12.10.1"
    title="link to this section">12.10.1</a></span>
    Strict Mode Restrictions</h1>

<p><a href="#sec-10.1.1">Strict mode code</a> may not include a
<span class="nt">WithStatement</span>. The occurrence of a
<span class="nt">WithStatement</span> in such a context is treated as a
<span class="errorname">SyntaxError</span>.</p>
</section>
</section>


<section id="sec-12.11">
<h1><span class="secnum"><a href="#sec-12.11"
    title="link to this section">12.11</a></span>
    The <code class="t">switch</code> Statement</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-SwitchStatement">
    <div class="lhs">
      <span class="nt">SwitchStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">switch</code> <code class="t">(</code> <span class="nt">Expression</span> <code class="t">)</code> <span class="nt">CaseBlock</span>
    </div>
  </div>

  <div class="gp" id="def-CaseBlock">
    <div class="lhs">
      <span class="nt">CaseBlock</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">CaseClauses</span><sub>opt</sub> <code class="t">}</code>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">CaseClauses</span><sub>opt</sub> <span class="nt">DefaultClause</span> <span class="nt">CaseClauses</span><sub>opt</sub> <code class="t">}</code>
    </div>
  </div>

  <div class="gp" id="def-CaseClauses">
    <span class="pagemark" id="page104">PDF page 104 / printed page 94</span>
    <div class="lhs">
      <span class="nt">CaseClauses</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">CaseClause</span>
    </div>
    <div class="rhs">
      <span class="nt">CaseClauses</span> <span class="nt">CaseClause</span>
    </div>
  </div>

  <div class="gp" id="def-CaseClause">
    <div class="lhs">
      <span class="nt">CaseClause</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">case</code> <span class="nt">Expression</span> <code class="t">:</code> <span class="nt">StatementList</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-DefaultClause">
    <div class="lhs">
      <span class="nt">DefaultClause</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">default</code> <code class="t">:</code> <span class="nt">StatementList</span><sub>opt</sub>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>The production <span class="prod"><span class="nt">SwitchStatement</span>
<span class="geq">:</span> <code class="t">switch</code>
<code class="t">(</code> <span class="nt">Expression</span>
<code class="t">)</code> <span class="nt">CaseBlock</span></span> is evaluated
as follows:</p>

<ol class="proc">
  <li>Let <var>exprRef</var> be the result of evaluating
      <span class="nt">Expression</span>.</li>

  <li>Let <var>R</var> be the result of evaluating
      <span class="nt">CaseBlock</span>, passing it
      <a href="#sec-8.7.1">GetValue</a>(<var>exprRef</var>) as a
      parameter.</li>

  <li>If <var>R</var>.type is <span class="spec value">break</span> and
      <var>R</var>.target is in the current label set, return
      (<span class="spec value">normal</span>, <var>R</var>.value,
      <span class="spec value">empty</span>).</li>

  <li>Return <var>R</var>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">CaseBlock</span>
<span class="geq">:</span> <code class="t">{</code>
<span class="nt">CaseClauses</span><sub>opt</sub>
<code class="t">}</code></span> is given an input parameter, <var>input</var>,
and is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>V</var> = <span class="spec value">empty</span>.</li>

  <li>Let <var>A</var> be the list of <span class="nt">CaseClause</span> items
      in source text order.</li>

  <li>Let <var>searching</var> be <span class="value">true</span>.</li>

  <li>Repeat, while <var>searching</var> is <span class="value">true</span>
    <ol class="block">
      <li>Let <var>C</var> be the next <span class="nt">CaseClause</span> in
          <var>A</var>. If there is no such <span class="nt">CaseClause</span>,
          return (<span class="spec value">normal</span>, <var>V</var>,
          <span class="spec value">empty</span>).</li>

      <li>Let <var>clauseSelector</var> be the result of evaluating <var>C</var>.</li>

      <li>If <var>input</var> is equal to <var>clauseSelector</var> as defined by the
          === operator, then
        <ol class="block">
          <li>Set <var>searching</var> to
              <span class="value">false</span>.</li>

          <li>If <var>C</var> has a <span class="nt">StatementList</span>, then
            <ol class="block">
              <li>Evaluate <var>C</var>&rsquo;s <span class="nt">StatementList</span>
                  and let <var>R</var> be the result.</li>

              <li>If <var>R</var> is an <a href="#sec-8.9">abrupt
                  completion</a>, then return <var>R</var>.</li>

              <li>Let <var>V</var> = <var>R</var>.value.</li>
            </ol>
          </li>
        </ol>
      </li>
    </ol>
  </li>

  <li>Repeat
    <ol class="block">
      <li>Let <var>C</var> be the next <span class="nt">CaseClause</span> in
          <var>A</var>. If there is no such <span class="nt">CaseClause</span>,
          return (<span class="spec value">normal</span>, <var>V</var>,
          <span class="spec value">empty</span>).</li>

      <li>If <var>C</var> has a <span class="nt">StatementList</span>, then
        <ol class="block">
          <li>Evaluate <var>C</var>&rsquo;s <span class="nt">StatementList</span> and
              let <var>R</var> be the result.</li>

          <li>If <var>R</var>.value is not <span class="spec
              value">empty</span>, then let <var>V</var> =
              <var>R</var>.value.</li>

          <li>If <var>R</var> is an <a href="#sec-8.9">abrupt completion</a>,
              then return (<var>R</var>.type, <var>V</var>,
              <var>R</var>.target).</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<p>The production <span class="prod"><span class="nt">CaseBlock</span>
<span class="geq">:</span> { <span class="nt">CaseClauses</span><sub>opt</sub>
<span class="nt">DefaultClause</span>
<span class="nt">CaseClauses</span><sub>opt</sub> }</span> is given an input
parameter, <var>input</var>, and is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>V</var> = <span class="spec value">empty</span>.</li>

  <li>Let <var>A</var> be the list of <span class="nt">CaseClause</span> items
      in the first <span class="nt">CaseClauses</span>, in source text
      order.</li>

  <li>Let <var>B</var> be the list of <span class="nt">CaseClause</span> items
      in the second <span class="nt">CaseClauses</span>, in source text
      order.</li>

  <li>Let <var>found</var> be <span class="value">false</span>.</li>

  <li>Repeat letting <var>C</var> be in order each
      <span class="nt">CaseClause</span> in <var>A</var>
    <ol class="block">
      <li>If <var>found</var> is <span class="value">false</span>, then
        <ol class="block">
          <li>Let <var>clauseSelector</var> be the result of evaluating
              <var>C</var>.</li>

          <li>If <var>input</var> is equal to <var>clauseSelector</var> as
              defined by the === operator, then set <var>found</var> to
              <span class="value">true</span>.</li>
        </ol>
      </li>

      <li>If <var>found</var> is <span class="value">true</span>, then
        <ol class="block">
          <li>If <var>C</var> has a <span class="nt">StatementList</span>, then
            <ol class="block">
              <li>Evaluate <var>C</var>&rsquo;s <span class="nt">StatementList</span>
                  and let <var>R</var> be the result.</li>

              <li>If <var>R</var>.value is not <span class="spec
                  value">empty</span>, then let <var>V</var> =
                  <var>R</var>.value.</li>

              <li><var>R</var> is an <a href="#sec-8.9">abrupt completion</a>,
                  then return (<var>R</var>.type, <var>V</var>,
                  <var>R</var>.target).</li>
            </ol>
          </li>
        </ol>
      </li>
    </ol>
  </li>

  <li>Let <var>foundInB</var> be <span class="value">false</span>.</li>

  <li>If <var>found</var> is <span class="value">false</span>, then
    <ol class="block">
      <li>Repeat, while <var>foundInB</var> is <span class="value">false</span> and all elements
          of <var>B</var> have not been processed
        <ol class="block">
          <li><span class="pagemark" id="page105">PDF page 105 / printed page
              95</span>Let <var>C</var> be the next
              <span class="nt">CaseClause</span> in <var>B</var>.</li>

          <li>Let <var>clauseSelector</var> be the result of evaluating
              <var>C</var>.</li>

          <li>If <var>input</var> is equal to <var>clauseSelector</var> as defined by
              the === operator, then
            <ol class="block">
              <li>Set <var>foundInB</var> to
                  <span class="value">true</span>.</li>

              <li>If <var>C</var> has a <span class="nt">StatementList</span>, then
                <ol class="block">
                  <li>Evaluate <var>C</var>&rsquo;s
                      <span class="nt">StatementList</span> and let
                      <var>R</var> be the result.</li>

                  <li>If <var>R</var>.value is not <span class="spec
                      value">empty</span>, then let <var>V</var> =
                      <var>R</var>.value.</li>

                  <li><var>R</var> is an <a href="#sec-8.9">abrupt
                      completion</a>, then return (<var>R</var>.type,
                      <var>V</var>, <var>R</var>.target).</li>
                </ol>
              </li>
            </ol>
          </li>
        </ol>
      </li>
    </ol>
  </li>

  <li>If <var>foundInB</var> is <span class="value">false</span> and the
      <span class="nt">DefaultClause</span> has a
      <span class="nt">StatementList</span>, then
    <ol class="block">
      <li>Evaluate the <span class="nt"
          data-nt="DefaultClause">DefaultClause&rsquo;s</span>
          <span class="nt">StatementList</span> and let <var>R</var> be the
          result.</li>

      <li>If <var>R</var>.value is not <span class="spec value">empty</span>,
          then let <var>V</var> = <var>R</var>.value.</li>

      <li>If <var>R</var> is an <a href="#sec-8.9">abrupt completion</a>, then
          return (<var>R</var>.type, <var>V</var>, <var>R</var>.target).</li>
    </ol>
  </li>

  <li>Repeat (Note that if step 7.a.i has been performed this loop does not
      start at the beginning of <var>B</var>)
    <ol class="block">
      <li>Let <var>C</var> be the next <span class="nt">CaseClause</span> in
          <var>B</var>. If there is no such <span class="nt">CaseClause</span>,
          return (<span class="spec value">normal</span>, <var>V</var>,
          <span class="spec value">empty</span>).</li>

      <li>If <var>C</var> has a <var>StatementList</var>, then
        <ol class="block">
          <li>Evaluate <var>C</var>&rsquo;s <var>StatementList</var> and let
              <var>R</var> be the result.</li>

          <li>If <var>R</var>.value is not <span class="spec
              value">empty</span>, then let <var>V</var> =
              <var>R</var>.value.</li>

          <li>If <var>R</var> is an <a href="#sec-8.9">abrupt completion</a>,
              then return (<var>R</var>.type, <var>V</var>,
              <var>R</var>.target).</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<p>The production <span class="prod"><span class="nt">CaseClause</span>
<span class="geq">:</span> <code class="t">case</code>
<span class="nt">Expression</span> <code class="t">:</code>
<span class="nt">StatementList</span><sub>opt</sub></span> is evaluated as
follows:</p>

<ol class="proc">
  <li>Let <var>exprRef</var> be the result of evaluating
      <span class="nt">Expression</span>.</li>

  <li>Return <a href="#sec-8.7.1">GetValue</a>(<var>exprRef</var>).</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> Evaluating <span class="nt">CaseClause</span>
  does not execute the associated <span class="nt">StatementList</span>. It
  simply evaluates the <span class="nt">Expression</span> and returns the
  value, which the <span class="nt">CaseBlock</span> algorithm uses to
  determine which <span class="nt">StatementList</span> to start executing.</p>
</div>
</section>


<section id="sec-12.12">
<h1><span class="secnum"><a href="#sec-12.12"
    title="link to this section">12.12</a></span>
    Labelled Statements</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-LabelledStatement">
    <div class="lhs">
      <span class="nt">LabelledStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Identifier</span> <code class="t">:</code> <span class="nt">Statement</span>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>A <span class="nt">Statement</span> may be prefixed by a label. Labelled
statements are only used in conjunction with labelled
<code class="t">break</code> and <code class="t">continue</code> statements.
ECMAScript has no <code class="t">goto</code> statement.</p>

<p>An ECMAScript program is considered syntactically incorrect if it contains a
<span class="nt">LabelledStatement</span> that is enclosed by a
<span class="nt">LabelledStatement</span> with the same
<span class="nt">Identifier</span> as label. This does not apply to labels
appearing within the body of a <span class="nt">FunctionDeclaration</span> that
is nested, directly or indirectly, within a labelled statement.</p>

<p>The production <span class="prod"><span class="nt">Identifier</span>
<code class="t">:</code> <span class="nt">Statement</span></span> is evaluated
by adding <span class="nt">Identifier</span> to the label set of
<span class="nt">Statement</span> and then evaluating
<span class="nt">Statement</span>. If the
<span class="nt">LabelledStatement</span> itself has a non-empty label set,
these labels are also added to the label set of
<span class="nt">Statement</span> before evaluating it. If the result of
evaluating <span class="nt">Statement</span> is (<span class="spec
value">break</span>, <var>V</var>, <var>L</var>) where <var>L</var> is equal to
<span class="nt">Identifier</span>, the production results in
(<span class="spec value">normal</span>, <var>V</var>, <span class="spec
value">empty</span>).</p>

<p>Prior to the evaluation of a <span class="nt">LabelledStatement</span>, the
contained <span class="nt">Statement</span> is regarded as possessing an empty
label set, unless it is an <span class="nt">IterationStatement</span> or a
<span class="nt">SwitchStatement</span>, in which case it is regarded as
possessing a label set consisting of the single element, <span class="spec
value">empty</span>.</p>
</section>


<section id="sec-12.13">
<h1><span class="secnum"><a href="#sec-12.13"
    title="link to this section">12.13</a></span>
    The <code class="t">throw</code> Statement</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-ThrowStatement">
    <div class="lhs">
      <span class="nt">ThrowStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">throw</code> <span class="grhsannot"><a href="#def-restricted-production">[no <span class="nt">LineTerminator</span> here]</a></span> <span class="nt">Expression</span> <code class="t">;</code>
    </div>
  </div>
</div>

<span class="pagemark" id="page106">PDF page 106 / printed page 96</span>
<h2>Semantics</h2>

<p>The production <span class="prod"><span class="nt">ThrowStatement</span>
<span class="geq">:</span> <code class="t">throw</code>
<span class="grhsannot"><a href="#def-restricted-production">[no
<span class="nt">LineTerminator</span> here]</a></span>
<span class="nt">Expression</span> <code class="t">;</code></span> is evaluated
as:</p>

<ol class="proc">
  <li>Let <var>exprRef</var> be the result of evaluating
      <span class="nt">Expression</span>.</li>

  <li>Return (<span class="spec value">throw</span>,
      <a href="#sec-8.7.1">GetValue</a>(<var>exprRef</var>), <span class="spec
      value">empty</span>).</li>
</ol>
</section>


<section id="sec-12.14">
<h1><span class="secnum"><a href="#sec-12.14"
    title="link to this section">12.14</a></span>
    The <code class="t">try</code> Statement</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-TryStatement">
    <div class="lhs">
      <span class="nt">TryStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">try</code> <span class="nt">Block</span> <span class="nt">Catch</span>
    </div>
    <div class="rhs">
      <code class="t">try</code> <span class="nt">Block</span> <span class="nt">Finally</span>
    </div>
    <div class="rhs">
      <code class="t">try</code> <span class="nt">Block</span> <span class="nt">Catch</span> <span class="nt">Finally</span>
    </div>
  </div>

  <div class="gp" id="def-Catch">
    <div class="lhs">
      <span class="nt">Catch</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">catch</code> <code class="t">(</code> <span class="nt">Identifier</span> <code class="t">)</code> <span class="nt">Block</span>
    </div>
  </div>

  <div class="gp" id="def-Finally">
    <div class="lhs">
      <span class="nt">Finally</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">finally</code> <span class="nt">Block</span>
    </div>
  </div>
</div>


<p>The <code class="t">try</code> statement encloses a block of code in which
an exceptional condition can occur, such as a runtime error or a
<code class="t">throw</code> statement. The <code class="t">catch</code> clause
provides the exception-handling code. When a catch clause catches an exception,
its <span class="nt">Identifier</span> is bound to that exception.</p>

<h2>Semantics</h2>

<p>The production <span class="prod"><span class="nt">TryStatement</span>
<span class="geq">:</span> <code class="t">try</code>
<span class="nt">Block</span> <span class="nt">Catch</span></span> is evaluated
as follows:</p>

<ol class="proc">
  <li>Let <var>B</var> be the result of evaluating
      <span class="nt">Block</span>.</li>

  <li>If <var>B</var>.type is not <span class="spec value">throw</span>, return
      <var>B</var>.</li>

  <li>Return the result of evaluating <span class="nt">Catch</span> with
      parameter <var>B</var>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">TryStatement</span>
<span class="geq">:</span> <code class="t">try</code>
<span class="nt">Block</span> <span class="nt">Finally</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>B</var> be the result of evaluating
      <span class="nt">Block</span>.</li>

  <li>Let <var>F</var> be the result of evaluating
      <span class="nt">Finally</span>.</li>

  <li>If <var>F</var>.type is <span class="spec value">normal</span>, return
      <var>B</var>.</li>

  <li>Return <var>F</var>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">TryStatement</span>
<span class="geq">:</span> <code class="t">try</code>
<span class="nt">Block</span> <span class="nt">Catch</span>
<span class="nt">Finally</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>B</var> be the result of evaluating
      <span class="nt">Block</span>.</li>

  <li>If <var>B</var>.type is <span class="spec value">throw</span>, then
    <ol class="block">
      <li>Let <var>C</var> be the result of evaluating
          <span class="nt">Catch</span> with parameter <var>B</var>.</li>
    </ol>
  </li>

  <li>Else, <var>B</var>.type is not <span class="spec value">throw</span>,
    <ol class="block">
      <li>Let <var>C</var> be <var>B</var>.</li>
    </ol>
  </li>

  <li>Let <var>F</var> be the result of evaluating
      <span class="nt">Finally</span>.</li>

  <li>If <var>F</var>.type is <span class="spec value">normal</span>, return
      <var>C</var>.</li>

  <li>Return <var>F</var>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">Catch</span>
<span class="geq">:</span> <code class="t">catch</code>
<code class="t">(</code> <span class="nt">Identifier</span>
<code class="t">)</code> <span class="nt">Block</span></span> is evaluated as
follows:</p>

<ol class="proc">
  <li>Let <var>C</var> be the parameter that has been passed to this
      production.</li>

  <li>Let <var>oldEnv</var> be the running execution context&rsquo;s
      LexicalEnvironment.</li>

  <li>Let <var>catchEnv</var> be the result of calling
      <a href="#sec-10.2.2.2">NewDeclarativeEnvironment</a> passing
      <var>oldEnv</var> as the argument.</li>

  <li>Call the CreateMutableBinding concrete method of <var>catchEnv</var>
      passing the <span class="nt">Identifier</span> String value as the
      argument.</li>

  <li><span class="pagemark" id="page107">PDF page 107 / printed page
      97</span>Call the SetMutableBinding concrete method of
      <var>catchEnv</var> passing the <span class="nt">Identifier</span>,
      <var>C</var>, and <span class="value">false</span> as arguments. Note
      that the last argument is immaterial in this situation.</li>

  <li>Set the running execution context&rsquo;s LexicalEnvironment to
      <var>catchEnv</var>.</li>

  <li>Let <var>B</var> be the result of evaluating
      <span class="nt">Block</span>.</li>

  <li>Set the running execution context&rsquo;s LexicalEnvironment to
      <var>oldEnv</var>.</li>

  <li>Return <var>B</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> No matter how control leaves the
  <span class="nt">Block</span> the LexicalEnvironment is always restored to
  its former state.</p>
</div>


<p>The production <span class="prod"><span class="nt">Finally</span>
<span class="geq">:</span> <code class="t">finally</code>
<span class="nt">Block</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Return the result of evaluating <span class="nt">Block</span>.</li>
</ol>

<section id="sec-12.14.1">
<h1><span class="secnum"><a href="#sec-12.14.1"
    title="link to this section">12.14.1</a></span>
    Strict Mode Restrictions</h1>

<p>It is a <span class="errorname">SyntaxError</span> if a
<span class="nt">TryStatement</span> with a <span class="nt">Catch</span>
occurs within <a href="#sec-10.1.1">strict code</a> and the
<span class="nt">Identifier</span> of the <span class="nt">Catch</span>
production is either <span class="string value">"eval"</span> or
<span class="string value">"arguments"</span>.</p>
</section>
</section>


<section id="sec-12.15">
<h1><span class="secnum"><a href="#sec-12.15"
    title="link to this section">12.15</a></span>
    The <code class="t">debugger</code> statement</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-DebuggerStatement">
    <div class="lhs">
      <span class="nt">DebuggerStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">debugger</span> <code class="t">;</code>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>Evaluating the <span class="nt">DebuggerStatement</span> production may
allow an implementation to cause a breakpoint when run under a debugger. If a
debugger is not present or active this statement has no observable effect.</p>

<p>The production <span class="prod"><span class="nt">DebuggerStatement</span>
<span class="geq">:</span> <code class="t">debugger</code>
<code class="nt">;</code></span> is evaluated as follows:</p>

<ol class="proc">
  <li>If an implementation defined debugging facility is available and enabled,
      then
    <ol class="block">
      <li>Perform an implementation defined debugging action.</li>

      <li>Let <var>result</var> be an implementation defined
          <a href="#sec-8.9">Completion</a> value.</li>
    </ol>
  </li>

  <li>Else
    <ol class="block">
      <li>Let <var>result</var> be (<span class="spec value">normal</span>,
          <span class="spec value">empty</span>, <span class="spec
          value">empty</span>).</li>
    </ol>
  </li>

  <li>Return <var>result</var>.</li>
</ol>
</section>
</section>



<section id="sec-13">
<h1><span class="secnum"><a href="#sec-13"
    title="link to this section">13</a></span>
    Function Definition</h1>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-FunctionDeclaration">
    <div class="lhs">
      <span class="nt">FunctionDeclaration</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">function</code> <span class="nt">Identifier</span> <code class="t">(</code> <span class="nt">FormalParameterList</span><sub>opt</sub> <code class="t">)</code> <code class="t">{</code> <span class="nt">FunctionBody</span> <code class="t">}</code>
    </div>
  </div>

  <div class="gp" id="def-FunctionExpression">
    <div class="lhs">
      <span class="nt">FunctionExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">function</code> <span class="nt">Identifier</span><sub>opt</sub> <code class="t">(</code> <span class="nt">FormalParameterList</span><sub>opt</sub> <code class="t">)</code> <code class="t">{</code> <span class="nt">FunctionBody</span> <code class="t">}</code>
    </div>
  </div>

  <div class="gp" id="def-FormalParameterList">
    <div class="lhs">
      <span class="nt">FormalParameterList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Identifier</span>
    </div>
    <div class="rhs">
      <span class="nt">FormalParameterList</span> <code class="t">,</code> <span class="nt">Identifier</span>
    </div>
  </div>

  <div class="gp" id="def-FunctionBody">
    <div class="lhs">
      <span class="nt">FunctionBody</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceElements</span><sub>opt</sub>
    </div>
  </div>
</div>

<span class="pagemark" id="page108">PDF page 108 / printed page 98</span>
<h2>Semantics</h2>

<p>The production
<span class="prod"><span class="nt">FunctionDeclaration</span>
<span class="geq">:</span> <code class="t">function</code>
<span class="nt">Identifier</span> <code class="t">(</code>
<span class="nt">FormalParameterList</span><sub>opt</sub>
<code class="t">)</code> <code class="t">{</code>
<span class="nt">FunctionBody</span> <code class="t">}</code></span> is
instantiated as follows during <a href="#sec-10.5">Declaration Binding
instantiation (10.5)</a>:</p>

<ol class="proc">
  <li>Return the result of creating a new Function object as specified in
      <a href="#sec-13.2">13.2</a> with parameters specified by
      <span class="nt">FormalParameterList</span><sub class="gopt">opt</sub>,
      and body specified by <span class="nt">FunctionBody</span>. Pass in the
      VariableEnvironment of the running execution context as the
      <var>Scope</var>. Pass in <span class="value">true</span> as the
      <var>Strict</var> flag if the <span class="nt">FunctionDeclaration</span>
      is contained in <a href="#sec-10.1.1">strict code</a> or if its
      <span class="nt">FunctionBody</span> is <a href="#sec-10.1.1">strict
      code</a>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">FunctionExpression</span>
<span class="geq">:</span> <code class="t">function</code>
<code class="t">(</code>
<span class="nt">FormalParameterList</span><sub>opt</sub>
<code class="t">)</code> <code class="t">{</code>
<span class="nt">FunctionBody</span> <code class="t">}</code></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Return the result of creating a new Function object as specified in
      <a href="#sec-13.2">13.2</a> with parameters specified by
      <span class="nt">FormalParameterList</span><sub class="gopt">opt</sub>
      and body specified by <span class="nt">FunctionBody</span>. Pass in the
      LexicalEnvironment of the running execution context as the
      <var>Scope</var>. Pass in <span class="value">true</span> as the
      <var>Strict</var> flag if the <span class="nt">FunctionExpression</span>
      is contained in <a href="#sec-10.1.1">strict code</a> or if its
      <span class="nt">FunctionBody</span> is <a href="#sec-10.1.1">strict
      code</a>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">FunctionExpression</span>
<span class="geq">:</span> <code class="t">function</code>
<span class="nt">Identifier</span> <code class="t">(</code>
<span class="nt">FormalParameterList</span><sub>opt</sub>
<code class="t">)</code> <code class="t">{</code>
<span class="nt">FunctionBody</span> <code class="t">}</code></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>funcEnv</var> be the result of calling
      <a href="#sec-10.2.2.2">NewDeclarativeEnvironment</a> passing the running
      execution context&rsquo;s <a href="#sec-10.2">Lexical Environment</a> as
      the argument.</li>

  <li>Let <var>envRec</var> be <var>funcEnv</var>&rsquo;s environment
      record.</li>

  <li>Call the <a href="#sec-10.2.1.1.7">CreateImmutableBinding(N)</a> concrete
      method of <var>envRec</var> passing the String value of
      <span class="nt">Identifier</span> as the argument.</li>

  <li>Let <var>closure</var> be the result of creating a new Function object as
      specified in <a href="#sec-13.2">13.2</a> with parameters specified by
      <span class="nt">FormalParameterList</span><sub class="gopt">opt</sub>
      and body specified by <span class="nt">FunctionBody</span>. Pass in
      <var>funcEnv</var> as the <var>Scope</var>. Pass in
      <span class="value">true</span> as the <var>Strict</var> flag if the
      <span class="nt">FunctionExpression</span> is contained in
      <a href="#sec-10.1.1">strict code</a> or if its
      <span class="nt">FunctionBody</span> is <a href="#sec-10.1.1">strict
      code</a>.</li>

  <li>Call the
      <a href="#sec-10.2.1.1.8">InitializeImmutableBinding(N,&nbsp;V)</a>
      concrete method of <var>envRec</var> passing the String value of
      <span class="nt">Identifier</span> and <var>closure</var> as the
      arguments.</li>

  <li>Return <var>closure</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The Identifier in a
  <span class="nt">FunctionExpression</span> can be referenced from inside the
  <span class="nt"
  data-nt="FunctionExpression">FunctionExpression&rsquo;s</span>
  <span class="nt">FunctionBody</span> to allow the function to call itself
  recursively. However, unlike in a
  <span class="nt">FunctionDeclaration</span>, the
  <span class="nt">Identifier</span> in a
  <span class="nt">FunctionExpression</span> cannot be referenced from and does
  not affect the scope enclosing the
  <span class="nt">FunctionExpression</span>.</p>
</div>

<p>The production <span class="prod"><span class="nt">FunctionBody</span>
<span class="geq">:</span>
<span class="nt">SourceElements</span><sub>opt</sub></span> is evaluated as
follows:</p>

<ol class="proc">
  <li>The code of this <span class="nt">FunctionBody</span> is
      <a href="#sec-10.1.1">strict mode code</a> if it is part of a
      <span class="nt">FunctionDeclaration</span> or
      <span class="nt">FunctionExpression</span> that is contained in
      <a href="#sec-10.1.1">strict mode code</a> or if the Directive Prologue
      (<a href="#sec-14.1">14.1</a>) of its
      <span class="nt">SourceElements</span> contains a Use Strict Directive or
      if any of the conditions in <a href="#sec-10.1.1">10.1.1</a> apply. If
      the code of this <span class="nt">FunctionBody</span> is
      <a href="#sec-10.1.1">strict mode code</a>,
      <span class="nt">SourceElements</span> is evaluated in the following
      steps as <a href="#sec-10.1.1">strict mode code</a>. Otherwise,
      <span class="nt">SourceElements</span> is evaluated in the following
      steps as non-strict mode code.</li>

  <li>If <span class="nt">SourceElements</span> is present return the result of
      evaluating <span class="nt">SourceElements</span>.</li>

  <li>Else return (<span class="spec value">normal</span>,
      <span class="value">undefined</span>, <span class="spec
      value">empty</span>).</li>
</ol>


<section id="sec-13.1">
<h1><span class="secnum"><a href="#sec-13.1"
    title="link to this section">13.1</a></span>
    Strict Mode Restrictions</h1>

<p>It is a <span class="errorname">SyntaxError</span> if any
<span class="nt">Identifier</span> value occurs more than once within a
<span class="nt">FormalParameterList</span> of a strict mode
<span class="nt">FunctionDeclaration</span> or
<span class="nt">FunctionExpression</span>.</p>

<p>It is a <span class="errorname">SyntaxError</span> if the
<span class="nt">Identifier</span> <span class="string value">"eval"</span> or
the <span class="nt">Identifier</span> <span class="string
value">"arguments"</span> occurs within a
<span class="nt">FormalParameterList</span> of a strict mode
<span class="nt">FunctionDeclaration</span> or
<span class="nt">FunctionExpression</span>.</p>

<p><span class="pagemark" id="page109">PDF page 109 / printed page 99</span> It
is a <span class="errorname">SyntaxError</span> if the
<span class="nt">Identifier</span> <span class="string value">"eval"</span> or
the <span class="nt">Identifier</span> <span class="string
value">"arguments"</span> occurs as the <span class="nt">Identifier</span> of a
strict mode <span class="nt">FunctionDeclaration</span> or
<span class="nt">FunctionExpression</span>.</p>
</section>


<section id="sec-13.2">
<h1><span class="secnum"><a href="#sec-13.2"
    title="link to this section">13.2</a></span>
    Creating Function Objects</h1>

<p>Given an optional parameter list specified by
<var>FormalParameterList</var>, a body specified by <var>FunctionBody</var>, a
<a href="#sec-10.2">Lexical Environment</a> specified by <var>Scope</var>, and
a Boolean flag <var>Strict</var>, a Function object is constructed as
follows:</p>

<ol class="proc">
  <li>Create a new native ECMAScript object and let <var>F</var> be that
      object.</li>

  <li>Set all the <a href="#sec-8.6.2">internal methods</a>, except for
      [[Get]], of <var>F</var> as described in
      <a href="#sec-8.12">8.12</a>.</li>

  <li>Set the [[Class]] internal property of <var>F</var> to
      <span class="string value">"Function"</span>.</li>

  <li>Set the [[Prototype]] internal property of <var>F</var> to the standard
      built-in Function prototype object as specified in
      <a href="#sec-15.3.3.1">15.3.3.1</a>.</li>

  <li>Set the [[Get]] internal property of <var>F</var> as described in
      <a href="#sec-15.3.5.4">15.3.5.4</a>.</li>

  <li>Set the [[Call]] internal property of <var>F</var> as described in
      <a href="#sec-13.2.1">13.2.1</a>.</li>

  <li>Set the [[Construct]] internal property of <var>F</var> as described in
      <a href="#sec-13.2.2">13.2.2</a>.</li>

  <li>Set the [[HasInstance]] internal property of <var>F</var> as described in
      <a href="#sec-15.3.5.3">15.3.5.3</a>.</li>

  <li>Set the [[Scope]] internal property of <var>F</var> to the value of
      <var>Scope</var>.</li>

  <li>Let <var>names</var> be a <a href="#sec-8.8">List</a> containing, in left
      to right textual order, the Strings corresponding to the identifiers of
      <var>FormalParameterList</var>.</li>

  <li>Set the [[FormalParameters]] internal property of <var>F</var> to
      <var>names</var>.</li>

  <li>Set the [[Code]] internal property of <var>F</var> to
      <var>FunctionBody</var>.</li>

  <li>Set the [[Extensible]] internal property of <var>F</var> to
      <span class="value">true</span>.</li>

  <li>Let <var>len</var> be the number of formal parameters specified in
      <var>FormalParameterList</var>. If no parameters are specified, let
      <var>len</var> be 0.</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>F</var> with
      arguments <span class="string value">"length"</span>,
      <a href="#sec-8.10">Property Descriptor</a> {[[Value]]: <var>len</var>,
      [[Writable]]: <span class="value">false</span>, [[Enumerable]]:
      <span class="value">false</span>, [[Configurable]]:
      <span class="value">false</span>}, and
      <span class="value">false</span>.</li>

  <li>Let <var>proto</var> be the result of creating a new object as would be
      constructed by the expression <code class="expr">new Object()</code>
      where <span class="libname">Object</span> is <a href="#sec-15.2">the
      standard built-in constructor with that name</a>.</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>proto</var> with
      arguments <span class="string value">"constructor"</span>,
      <a href="#sec-8.10">Property Descriptor</a> {[[Value]]: <var>F</var>,
      [[Writable]]: <span class="value">true</span>, [[Enumerable]]:
      <span class="value">false</span>, [[Configurable]]:
      <span class="value">true</span>}, and
      <span class="value">false</span>.</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>F</var> with
      arguments <span class="string value">"prototype"</span>,
      <a href="#sec-8.10">Property Descriptor</a> {[[Value]]: <var>proto</var>,
      [[Writable]]: <span class="value">true</span>, [[Enumerable]]:
      <span class="value">false</span>, [[Configurable]]:
      <span class="value">false</span>}, and
      <span class="value">false</span>.</li>

  <li>If <var>Strict</var> is <span class="value">true</span>, then
    <ol class="block">
      <li>Let <var>thrower</var> be the [[ThrowTypeError]] function Object
          (<a href="#sec-13.2.3">13.2.3</a>).</li>

      <li>Call the [[DefineOwnProperty]] internal method of <var>F</var> with
          arguments <span class="string value">"caller"</span>,
          <a href="#sec-8.10">PropertyDescriptor</a> {[[Get]]:
          <var>thrower</var>, [[Set]]: <var>thrower</var>, [[Enumerable]]:
          <span class="value">false</span>, [[Configurable]]:
          <span class="value">false</span>}, and
          <span class="value">false</span>.</li>

      <li>Call the [[DefineOwnProperty]] internal method of <var>F</var> with
          arguments <span class="string value">"arguments"</span>,
          <a href="#sec-8.10">PropertyDescriptor</a> {[[Get]]:
          <var>thrower</var>, [[Set]]: <var>thrower</var>, [[Enumerable]]:
          <span class="value">false</span>, [[Configurable]]:
          <span class="value">false</span>}, and
          <span class="value">false</span>.</li>
    </ol>
  </li>

  <li>Return <var>F</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> A <code class="propname">prototype</code>
  property is automatically created for every function, to allow for the
  possibility that the function will be used as a constructor.</p>
</div>

<section id="sec-13.2.1">
<h1><span class="secnum"><a href="#sec-13.2.1"
    title="link to this section">13.2.1</a></span>
    [[Call]]</h1>

<p>When the [[Call]] internal method for a Function object <var>F</var> is
called with a <span class="this">this</span> value and a list of arguments, the
following steps are taken:</p>

<ol class="proc">
  <li>Let <var>funcCtx</var> be the result of establishing a new execution
      context for function code using the value of <var>F</var>&rsquo;s
      [[FormalParameters]] internal property, the passed arguments
      <a href="#sec-8.8">List</a> <var>args</var>, and the
      <span class="this">this</span> value as described in
      <a href="#sec-10.4.3">10.4.3</a>.</li>

  <li>Let <var>result</var> be the result of evaluating the
      <span class="nt">FunctionBody</span> that is the value of
      <var>F</var>&rsquo;s [[Code]] internal property. If <var>F</var> does not
      have a [[Code]] internal property or if its value is an empty
      <span class="nt">FunctionBody</span>, then <var>result</var> is
      (<span class="spec value">normal</span>,
      <span class="value">undefined</span>, <span class="spec
      value">empty</span>).</li>

  <li>Exit the execution context <var>funcCtx</var>, restoring the previous
      execution context.</li>

  <li>If <var>result</var>.type is <span class="spec value">throw</span> then
      throw <var>result</var>.value.</li>

  <li>If <var>result</var>.type is <span class="spec value">return</span> then
      return <var>result</var>.value.</li>

  <li>Otherwise <var>result</var>.type must be <span class="spec
      value">normal</span>. Return <span class="value">undefined</span>.</li>
</ol>
</section>

<section id="sec-13.2.2">
<span class="pagemark" id="page110">PDF page 110 / printed page 100</span>
<h1><span class="secnum"><a href="#sec-13.2.2"
    title="link to this section">13.2.2</a></span>
    [[Construct]]</h1>

<p>When the [[Construct]] internal method for a Function object <var>F</var> is
called with a possibly empty list of arguments, the following steps are
taken:</p>

<ol class="proc">
  <li>Let <var>obj</var> be a newly created native ECMAScript object.</li>

  <li>Set all the <a href="#sec-8.6.2">internal methods</a> of <var>obj</var>
      as specified in <a href="#sec-8.12">8.12</a>.</li>

  <li>Set the [[Class]] internal property of <var>obj</var> to
      <span class="string value">"Object"</span>.</li>

  <li>Set the [[Extensible]] internal property of <var>obj</var> to
      <span class="value">true</span>.</li>

  <li>Let <var>proto</var> be the value of calling the [[Get]] internal
      property of <var>F</var> with argument <span class="string
      value">"prototype"</span>.</li>

  <li>If <a href="#def-type">Type</a>(<var>proto</var>) is Object, set the
      [[Prototype]] internal property of <var>obj</var> to
      <var>proto</var>.</li>

  <li>If <a href="#def-type">Type</a>(<var>proto</var>) is not Object, set the
      [[Prototype]] internal property of <var>obj</var> to the standard
      built-in Object prototype object as described in
      <a href="#sec-15.2.4">15.2.4</a>.</li>

  <li>Let <var>result</var> be the result of calling the [[Call]] internal
      property of <var>F</var>, providing <var>obj</var> as the
      <span class="this">this</span> value and providing the argument list
      passed into [[Construct]] as <var>args</var>.</li>

  <li>If <a href="#def-type">Type</a>(<var>result</var>) is Object then return
      <var>result</var>.</li>

  <li>Return <var>obj</var>.</li>
</ol>
</section>

<section id="sec-13.2.3">
<h1><span class="secnum"><a href="#sec-13.2.3"
    title="link to this section">13.2.3</a></span>
    The [[ThrowTypeError]] Function Object</h1>

<ol class="proc">
  <li>The [[ThrowTypeError]] object is a unique function object that is defined
      once as follows:</li>

  <li>Create a new native ECMAScript object and let <var>F</var> be that
      object.</li>

  <li>Set all the <a href="#sec-8.6.2">internal methods</a> of <var>F</var> as
      described in <a href="#sec-8.12">8.12</a>.</li>

  <li>Set the [[Class]] internal property of <var>F</var> to
      <span class="string value">"Function"</span>.</li>

  <li>Set the [[Prototype]] internal property of <var>F</var> to the standard
      built-in Function prototype object as specified in
      <a href="#sec-15.3.3.1">15.3.3.1</a>.</li>

  <li>Set the [[Call]] internal property of <var>F</var> as described in
      <a href="#sec-13.2.1">13.2.1</a>.</li>

  <li>Set the [[Scope]] internal property of <var>F</var> to the Global
      Environment.</li>

  <li>Set the [[FormalParameters]] internal property of <var>F</var> to an
      empty <a href="#sec-8.8">List</a>.</li>

  <li>Set the [[Code]] internal property of <var>F</var> to be a
      <span class="nt">FunctionBody</span> that unconditionally throws a
      <span class="errorname">TypeError</span> exception and performs no other
      action.</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>F</var> with
      arguments <span class="string value">"length"</span>,
      <a href="#sec-8.10">Property Descriptor</a> {[[Value]]:
      <span class="value">0</span>, [[Writable]]:
      <span class="value">false</span>, [[Enumerable]]:
      <span class="value">false</span>, [[Configurable]]:
      <span class="value">false</span>}, and
      <span class="value">false</span>.</li>

  <li>Set the [[Extensible]] internal property of <var>F</var> to
      <span class="value">false</span>.</li>

  <li>Let [[ThrowTypeError]] be <var>F</var>.</li>
</ol>
</section>
</section>
</section>



<section id="sec-14">
<h1><span class="secnum"><a href="#sec-14"
    title="link to this section">14</a></span>
    Program</h1>

<div class="syntax">
  <h2>Syntax</h2>
  <div class="gp" id="def-Program">
    <div class="lhs">
      <span class="nt">Program</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceElements</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-SourceElements">
    <div class="lhs">
      <span class="nt">SourceElements</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceElement</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceElements</span> <span class="nt">SourceElement</span>
    </div>
  </div>

  <div class="gp" id="def-SourceElement">
    <div class="lhs">
      <span class="nt">SourceElement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Statement</span> <span class="nt">FunctionDeclaration</span>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<p>The production <span class="prod"><span class="nt">Program</span>
<span class="geq">:</span>
<span class="nt">SourceElements</span><sub>opt</sub></span> is evaluated as
follows:</p>

<ol class="proc">
  <li>The code of this <span class="nt">Program</span> is
      <a href="#sec-10.1.1">strict mode code</a> if the Directive Prologue
      (<a href="#sec-14.1">14.1</a>) of its
      <span class="nt">SourceElements</span> contains a Use Strict Directive or
      if any of the conditions of <a href="#sec-10.1.1">10.1.1</a> apply. If
      the code of this <span class="nt">Program</span> is
      <a href="#sec-10.1.1">strict mode code</a>,
      <span class="nt">SourceElements</span> is evaluated in the following
      steps as <a href="#sec-10.1.1">strict mode code</a>. Otherwise
      <span class="nt">SourceElements</span> is evaluated in the following
      steps as non-strict mode code.</li>

  <li><span class="pagemark" id="page111">PDF page 111 / printed page
      101</span>If <span class="nt">SourceElements</span> is not present,
      return (<span class="spec value">normal</span>, <span class="spec
      value">empty</span>, <span class="spec value">empty</span>).</li>

  <li>Let <var>progCxt</var> be a new execution context for
      <a href="#def-global-code">global code</a> as described in
      <a href="#sec-10.4.1">10.4.1</a>.</li>

  <li>Let <var>result</var> be the result of evaluating
      <span class="nt">SourceElements</span>.</li>

  <li>Exit the execution context <var>progCxt</var>.</li>

  <li>Return <var>result</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The processes for initiating the evaluation
  of a <span class="nt">Program</span> and for dealing with the result of such
  an evaluation are defined by an ECMAScript implementation and not by this
  specification.</p>
</div>

<p>The production <span class="prod"><span class="nt">SourceElements</span>
<span class="geq">:</span> <span class="nt">SourceElements</span>
<span class="nt">SourceElement</span></span> is evaluated as follows:</p>

<ol class="proc">
  <li>Let <var>headResult</var> be the result of evaluating
      <span class="nt">SourceElements</span>.</li>

  <li>If <var>headResult</var> is an <a href="#sec-8.9">abrupt completion</a>,
      return <var>headResult</var>.</li>

  <li>Let <var>tailResult</var> be result of evaluating
      <span class="nt">SourceElement</span>.</li>

  <li>If <var>tailResult</var>.value is <span class="spec value">empty</span>,
      let <var>V</var> = <var>headResult</var>.value, otherwise let
      <var>V</var> = <var>tailResult</var>.value.</li>

  <li>Return (<var>tailResult</var>.type, <var>V</var>,
      <var>tailResult</var>.target).</li>
</ol>

<p>The production <span class="prod"><span class="nt">SourceElement</span>
<span class="geq">:</span> <span class="nt">Statement</span></span> is
evaluated as follows:</p>

<ol class="proc">
  <li>Return the result of evaluating <span class="nt">Statement</span>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">SourceElement</span>
<span class="geq">:</span> <span class="nt">FunctionDeclaration</span></span>
is evaluated as follows:</p>

<ol class="proc">
  <li>Return (<span class="spec value">normal</span>, <span class="spec
      value">empty</span>, <span class="spec value">empty</span>).</li>
</ol>


<section id="sec-14.1">
<h1><span class="secnum"><a href="#sec-14.1"
    title="link to this section">14.1</a></span>
    Directive Prologues and the Use Strict Directive</h1>

<p>A Directive Prologue is the longest sequence of
<span class="nt">ExpressionStatement</span> productions occurring as the
initial <span class="nt">SourceElement</span> productions of a
<span class="nt">Program</span> or <span class="nt">FunctionBody</span> and
where each <span class="nt">ExpressionStatement</span> in the sequence consists
entirely of a <span class="nt">StringLiteral</span> token followed a semicolon.
The semicolon may appear explicitly or may be inserted by automatic semicolon
insertion. A Directive Prologue may be an empty sequence.</p>

<p>A Use Strict Directive is an <span class="nt">ExpressionStatement</span> in
a Directive Prologue whose <span class="nt">StringLiteral</span> is either the
exact character sequences <code class="ch">"use strict"</code> or
<code class="ch">'use strict'</code>. A Use Strict Directive may not contain an
<span class="nt">EscapeSequence</span> or
<span class="nt">LineContinuation</span>.</p>

<p>A Directive Prologue may contain more than one Use Strict Directive.
However, an implementation may issue a warning if this occurs.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The
  <span class="nt">ExpressionStatement</span> productions of a Directive
  Prologue are evaluated normally during evaluation of the containing
  <span class="nt">SourceElements</span> production. Implementations may define
  implementation specific meanings for
  <span class="nt">ExpressionStatement</span> productions which are not a Use
  Strict Directive and which occur in a Directive Prologue. If an appropriate
  notification mechanism exists, an implementation should issue a warning if it
  encounters in a Directive Prologue an
  <span class="nt">ExpressionStatement</span> that is not a Use Strict
  Directive or which does not have a meaning defined by the implementation.</p>
</div>
</section>
</section>



<section id="sec-15">
<h1><span class="secnum"><a href="#sec-15"
    title="link to this section">15</a></span>
    Standard Built-in ECMAScript Objects</h1>

<p>There are certain built-in objects available whenever an ECMAScript program
begins execution. One, the <a href="#sec-15.1">global object</a>, is part of
the <a href="#sec-10.2">lexical environment</a> of the executing program.
Others are accessible as initial properties of the global object.</p>

<p>Unless specified otherwise, the [[Class]] internal property of a built-in
object is <span class="string value">"Function"</span> if that built-in object
has a [[Call]] internal property, or <span class="string value">"Object"</span>
if that built-in object does not have a [[Call]] internal property. Unless
specified otherwise, the [[Extensible]] internal property of a built-in object
initially has the value <span class="value">true</span>.</p>

<p>Many built-in objects are functions: they can be invoked with arguments.
Some of them furthermore are constructors: they are functions intended for use
with the <code class="t">new</code> operator. For each built-in function, this
<span class="pagemark" id="page112">PDF page 112 / printed page 102</span>
specification describes the arguments required by that function and properties
of the Function object. For each built-in constructor, this specification
furthermore describes properties of the prototype object of that constructor
and properties of specific object instances returned by a
<code class="t">new</code> expression that invokes that constructor.</p>

<p>Unless otherwise specified in the description of a particular function, if a
function or constructor described in this clause is given fewer arguments than
the function is specified to require, the function or constructor shall behave
exactly as if it had been given sufficient additional arguments, each such
argument being the <span class="value">undefined</span> value.</p>

<p>Unless otherwise specified in the description of a particular function, if a
function or constructor described in this clause is given more arguments than
the function is specified to allow, the extra arguments are evaluated by the
call and then ignored by the function. However, an implementation may define
implementation specific behaviour relating to such arguments as long as the
behaviour is not the throwing of a <span class="errorname">TypeError</span>
exception that is predicated simply on the presence of an extra argument.</p>

<div class="note">
  <p><span class="nh">NOTE</span> Implementations that add additional
  capabilities to the set of built-in functions are encouraged to do so by
  adding new functions rather than adding new parameters to existing
  functions.</p>
</div>

<p>Every built-in function and every built-in constructor has the
<a href="#sec-15.3.4">Function prototype object</a>, which is the initial value
of the expression <code class="expr">Function.prototype</code>
(<a href="#sec-15.3.4">15.3.4</a>), as the value of its [[Prototype]] internal
property.</p>

<p>Unless otherwise specified every built-in prototype object has the Object
prototype object, which is the initial value of the expression
<code class="expr">Object.prototype</code> (<a href="#sec-15.2.4">15.2.4</a>),
as the value of its [[Prototype]] internal property, except the Object
prototype object itself.</p>

<p>None of the built-in functions described in this clause that are not
constructors shall implement the [[Construct]] internal method unless otherwise
specified in the description of a particular function. None of the built-in
functions described in this clause shall have a
<code class="propname">prototype</code> property unless otherwise specified in
the description of a particular function.</p>

<p>This clause generally describes distinct behaviours for when a constructor
is &ldquo;called as a function&rdquo; and for when it is &ldquo;called as part
of a <code class="t">new</code> expression&rdquo;. The &ldquo;called as a
function&rdquo; behaviour corresponds to the invocation of the
constructor&rsquo;s [[Call]] internal method and the &ldquo;called as part of a
new expression&rdquo; behaviour corresponds to the invocation of the
constructor&rsquo;s [[Construct]] internal method.</p>

<p>Every built-in Function object described in this clause&mdash;whether as a
constructor, an ordinary function, or both&mdash;has a
<code class="propname">length</code> property whose value is an integer. Unless
otherwise specified, this value is equal to the largest number of named
arguments shown in the subclause headings for the function description,
including optional parameters.</p>

<div class="note">
  <p><span class="nh">NOTE</span> For example, the Function object that is the
  initial value of the <code class="propname">slice</code> property of the
  String prototype object is described under the subclause heading
  &ldquo;String.prototype.slice (start, end)&rdquo; which shows the two named
  arguments start and end; therefore the value of the
  <code class="propname">length</code> property of that Function object is
  <span class="value">2</span>.</p>
</div>

<p>In every case, the <code class="propname">length</code> property of a
built-in Function object described in this clause has the attributes {
[[Writable]]: <span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }. Every other property described in this
clause has the attributes { [[Writable]]: <span class="value">true</span>,
[[Enumerable]]: <span class="value">false</span>, [[Configurable]]:
<span class="value">true</span> } unless otherwise specified.</p>


<section id="sec-15.1">
<h1><span class="secnum"><a href="#sec-15.1"
    title="link to this section">15.1</a></span>
    The Global Object</h1>

<p>The unique <dfn>global object</dfn> is created before control enters any
execution context.</p>

<p>Unless otherwise specified, the standard built-in properties of the global
object have attributes {[[Writable]]: <span class="value">true</span>,
[[Enumerable]]: <span class="value">false</span>, [[Configurable]]:
<span class="value">true</span>}.</p>

<p>The global object does not have a [[Construct]] internal property; it is not
possible to use the global object as a constructor with the
<code class="t">new</code> operator.</p>

<p><span class="pagemark" id="page113">PDF page 113 / printed page 103</span>
The global object does not have a [[Call]] internal property; it is not
possible to invoke the global object as a function.</p>

<p>The values of the [[Prototype]] and [[Class]] internal properties of the
global object are implementation-dependent.</p>

<p>In addition to the properties defined in this specification the global
object may have additional host defined properties. This may include a property
whose value is the global object itself; for example, in the HTML document
object model the <code class="propname">window</code> property of the global
object is the global object itself.</p>


<section id="sec-15.1.1">
<h1><span class="secnum"><a href="#sec-15.1.1"
    title="link to this section">15.1.1</a></span>
    Value Properties of the Global Object</h1>

<section id="sec-15.1.1.1">
<h1><span class="secnum"><a href="#sec-15.1.1.1"
    title="link to this section">15.1.1.1</a></span>
    NaN</h1>

<p>The value of <span class="value">NaN</span> is
<span class="value">NaN</span> (<a href="#sec-8.5">see 8.5</a>). This property
has the attributes { [[Writable]]: <span class="value">false</span>,
[[Enumerable]]: <span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.1.1.2">
<h1><span class="secnum"><a href="#sec-15.1.1.2"
    title="link to this section">15.1.1.2</a></span>
    Infinity</h1>

<p>The value of <span class="libname">Infinity</span> is
<span class="value">+&infin;</span> (<a href="#sec-8.5">see 8.5</a>). This
property has the attributes { [[Writable]]: <span class="value">false</span>,
[[Enumerable]]: <span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.1.1.3">
<h1><span class="secnum"><a href="#sec-15.1.1.3"
    title="link to this section">15.1.1.3</a></span>
    undefined</h1>

<p>The value of <span class="value">undefined</span> is
<span class="value">undefined</span> (<a href="#sec-8.1">see 8.1</a>). This
property has the attributes { [[Writable]]: <span class="value">false</span>,
[[Enumerable]]: <span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>
</section>

<section id="sec-15.1.2">
<h1><span class="secnum"><a href="#sec-15.1.2"
    title="link to this section">15.1.2</a></span>
    Function Properties of the Global Object</h1>

<section id="sec-15.1.2.1">
<h1><span class="secnum"><a href="#sec-15.1.2.1"
    title="link to this section">15.1.2.1</a></span>
    eval (x)</h1>

<p>When the <span class="libname">eval</span> function is called with one
argument <var>x</var>, the following steps are taken:</p>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>x</var>) is not String, return
      <var>x</var>.</li>

  <li>Let <var>prog</var> be the ECMAScript code that is the result of parsing
      <var>x</var> as a <span class="nt">Program</span>. If the parse fails,
      throw a <span class="errorname">SyntaxError</span> exception (but see
      also <a href="#sec-16">clause 16</a>).</li>

  <li>Let <var>evalCtx</var> be the result of establishing a new execution
      context (<a href="#sec-10.4.2">10.4.2</a>) for the
      <a href="#def-eval-code">eval code</a> <var>prog</var>.</li>

  <li>Let <var>result</var> be the result of evaluating the program
      <var>prog</var>.</li>

  <li>Exit the running execution context <var>evalCtx</var>, restoring the
      previous execution context.</li>

  <li>If <var>result</var>.type is <span class="spec value">normal</span> and
      its completion value is a value <var>V</var>, then return the value
      <var>V</var>.</li>

  <li>If <var>result</var>.type is <span class="spec value">normal</span> and
      its completion value is <span class="spec value">empty</span>, then
      return the value <span class="value">undefined</span>.</li>

  <li>Otherwise, <var>result</var>.type must be <span class="spec
      value">throw</span>. Throw <var>result</var>.value as an exception.</li>
</ol>

<section id="sec-15.1.2.1.1">
<h1><span class="secnum"><a href="#sec-15.1.2.1.1"
    title="link to this section">15.1.2.1.1</a></span>
    Direct Call to Eval</h1>

<p>A direct call to the eval function is one that is expressed as a
<span class="nt">CallExpression</span> that meets the following two
conditions:</p>

<p>The <a href="#sec-8.7">Reference</a> that is the result of evaluating the
<span class="nt">MemberExpression</span> in the
<span class="nt">CallExpression</span> has an environment record as its base
value and its reference name is <span class="string value">"eval"</span>.</p>

<p>The result of calling the abstract operation
<a href="#sec-8.7.1">GetValue</a> with that <a href="#sec-8.7">Reference</a> as
the argument is the standard built-in function defined in
<a href="#sec-15.1.2.1">15.1.2.1</a>.</p>
</section>
</section>

<section id="sec-15.1.2.2">
<span class="pagemark" id="page114">PDF page 114 / printed page 104</span>
<h1><span class="secnum"><a href="#sec-15.1.2.2"
    title="link to this section">15.1.2.2</a></span>
    parseInt (string , radix)</h1>

<p>The <span class="libname">parseInt</span> function produces an integer value
dictated by interpretation of the contents of the <var>string</var> argument
according to the specified <var>radix</var>. Leading white space in
<var>string</var> is ignored. If <var>radix</var> is
<span class="value">undefined</span> or 0, it is assumed to be 10 except when
the number begins with the character pairs <code class="ch">0x</code> or
<code class="ch">0X</code>, in which case a radix of 16 is assumed. If
<var>radix</var> is 16, the number may also optionally begin with the character
pairs <code class="ch">0x</code> or <code class="ch">0X</code>.</p>

<p>When the <span class="libname">parseInt</span> function is called, the
following steps are taken:</p>

<ol class="proc">
  <li>Let <var>inputString</var> be
      <a href="#sec-9.8">ToString</a>(<var>string</var>).</li>

  <li>Let <var>S</var> be a newly created substring of <var>inputString</var>
      consisting of the first character that is not a
      <span class="nt">StrWhiteSpaceChar</span> and all characters following
      that character. (In other words, remove leading white space.)</li>

  <li>Let <var>sign</var> be 1.</li>

  <li>If <var>S</var> is not empty and the first character of <var>S</var> is a
      minus sign <code class="ch">-</code>, let <var>sign</var> be
      <span class="value">&minus;1</span>.</li>

  <li>If <var>S</var> is not empty and the first character of <var>S</var> is a
      plus sign <code class="ch">+</code> or a minus sign
      <code class="ch">-</code>, then remove the first character from
      <var>S</var>.</li>

  <li>Let <var>R</var> = <a href="#sec-9.5">ToInt32</a>(<var>radix</var>).</li>

  <li>Let <var>stripPrefix</var> be <span class="value">true</span>.</li>

  <li>If <var>R</var> &ne; 0, then
    <ol class="block">
      <li>If <var>R</var> &lt; 2 or <var>R</var> &gt; 36, then return
          <span class="value">NaN</span>.</li>

      <li>If <var>R</var> 16, let <var>stripPrefix</var> be <span class="value">false</span>.</li>
    </ol>
  </li>

  <li>Else, <var>R</var> = 0
    <ol class="block">
      <li>Let <var>R</var> = 10.</li>
    </ol>
  </li>

  <li>If <var>stripPrefix</var> is <span class="value">true</span>, then
    <ol class="block">
      <li>If the length of <var>S</var> is at least 2 and the first two
          characters of <var>S</var> are either
          &ldquo;<code class="ch">0x</code>&rdquo; or
          &ldquo;<code class="ch">0X</code>&rdquo;, then remove the first two
          characters from <var>S</var> and let <var>R</var> = 16.</li>
    </ol>
  </li>

  <li>If <var>S</var> contains any character that is not a radix-<var>R</var>
      digit, then let <var>Z</var> be the substring of <var>S</var> consisting
      of all characters before the first such character; otherwise, let
      <var>Z</var> be <var>S</var>.</li>

  <li>If <var>Z</var> is empty, return <span class="value">NaN</span>.</li>

  <li>Let <var>mathInt</var> be the mathematical integer value that is
      represented by <var>Z</var> in radix-<var>R</var> notation, using the
      letters <code class="ch">A</code>&ndash;<code class="ch">Z</code> and
      <code class="ch">a</code>&ndash;<code class="ch">z</code> for digits with
      values 10 through 35. (However, if <var>R</var> is 10 and <var>Z</var>
      contains more than 20 significant digits, every significant digit after
      the 20th may be replaced by a <code class="ch">0</code> digit, at the
      option of the implementation; and if <var>R</var> is not 2, 4, 8, 10, 16,
      or 32, then <var>mathInt</var> may be an implementation-dependent
      approximation to the mathematical integer value that is represented by
      <var>Z</var> in radix-<var>R</var> notation.)</li>

  <li>Let <var>number</var> be the Number value for <var>mathInt</var>.</li>

  <li>Return <var>sign</var> &times; <var>number</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> <span class="libname">parseInt</span> may
  interpret only a leading portion of <var>string</var> as an integer value; it
  ignores any characters that cannot be interpreted as part of the notation of
  an integer, and no indication is given that any such characters were
  ignored.</p>
</div>
</section>

<section id="sec-15.1.2.3">
<h1><span class="secnum"><a href="#sec-15.1.2.3"
    title="link to this section">15.1.2.3</a></span>
    parseFloat(string)</h1>

<p>The <span class="libname">parseFloat</span> function produces a Number value
dictated by interpretation of the contents of the <var>string</var> argument as
a decimal literal.</p>

<p>When the <span class="libname">parseFloat</span> function is called, the
following steps are taken:</p>

<ol class="proc">
  <li>Let <var>inputString</var> be
      <a href="#sec-9.8">ToString</a>(<var>string</var>).</li>

  <li>Let <var>trimmedString</var> be a substring of <var>inputString</var>
      consisting of the leftmost character that is not a
      <span class="nt">StrWhiteSpaceChar</span> and all characters to the right
      of that character.(In other words, remove leading white space.)</li>

  <li>If neither <var>trimmedString</var> nor any prefix of
      <var>trimmedString</var> satisfies the syntax of a
      <span class="nt">StrDecimalLiteral</span> (<a href="#sec-9.3.1">see
      9.3.1</a>), return <span class="value">NaN</span>.</li>

  <li>Let <var>numberString</var> be the longest prefix of
      <var>trimmedString</var>, which might be <var>trimmedString</var> itself,
      that satisfies the syntax of a
      <span class="nt">StrDecimalLiteral</span>.</li>

  <li>Return the Number value for the MV of <var>numberString</var>.</li>
</ol>

<div class="note">
  <p><span class="pagemark" id="page115">PDF page 115 / printed page 105</span>
  <span class="nh">NOTE</span> <span class="libname">parseFloat</span> may
  interpret only a leading portion of <var>string</var> as a Number value; it
  ignores any characters that cannot be interpreted as part of the notation of
  an decimal literal, and no indication is given that any such characters were
  ignored.</p>
</div>
</section>

<section id="sec-15.1.2.4">
<h1><span class="secnum"><a href="#sec-15.1.2.4"
    title="link to this section">15.1.2.4</a></span>
    isNaN (number)</h1>

<p>Returns <span class="value">true</span> if the argument coerces to
<span class="value">NaN</span>, and otherwise returns
<span class="value">false</span>.</p>

<ol class="proc">
  <li>If <a href="#sec-9.3">ToNumber</a>(<var>number</var>) is
      <span class="value">NaN</span>, return
      <span class="value">true</span>.</li>

  <li>Otherwise, return <span class="value">false</span>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> A reliable way for ECMAScript code to test if
  a value X is a <span class="value">NaN</span> is an expression of the form
  <code class="expr">X !== X</code>. The result will be
  <span class="value">true</span> if and only if X is a
  <span class="value">NaN</span>.</p>
</div>
</section>

<section id="sec-15.1.2.5">
<h1><span class="secnum"><a href="#sec-15.1.2.5"
    title="link to this section">15.1.2.5</a></span>
    isFinite(number)</h1>

<p>Returns <span class="value">false</span> if the argument coerces to
<span class="value">NaN</span>, <span class="value">+&infin;</span>, or
<span class="value">&minus;&infin;</span>, and otherwise returns
<span class="value">true</span>.</p>

<ol class="proc">
  <li>If <a href="#sec-9.3">ToNumber</a>(<var>number</var>) is
      <span class="value">NaN</span>, <span class="value">+&infin;</span>, or
      <span class="value">&minus;&infin;</span>, return
      <span class="value">false</span>.</li>

  <li>Otherwise, return <span class="value">true</span>.</li>
</ol>
</section>
</section>

<section id="sec-15.1.3">
<h1><span class="secnum"><a href="#sec-15.1.3"
    title="link to this section">15.1.3</a></span>
    URI Handling Function Properties</h1>

<p>Uniform Resource Identifiers, or URIs, are Strings that identify resources
(e.g. web pages or files) and transport protocols by which to access them (e.g.
HTTP or FTP) on the Internet. The ECMAScript language itself does not provide
any support for using URIs except for functions that encode and decode URIs as
described in <a href="#sec-15.1.3.1">15.1.3.1</a>,
<a href="#sec-15.1.3.2">15.1.3.2</a>, <a href="#sec-15.1.3.3">15.1.3.3</a> and
<a href="#sec-15.1.3.4">15.1.3.4</a>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> Many implementations of ECMAScript provide
  additional functions and methods that manipulate web pages; these functions
  are beyond the scope of this standard.</p>
</div>

<p>A URI is composed of a sequence of components separated by component
separators. The general form is:</p>

<div>
     <span class="nt">Scheme</span> <code class="ch">:</code>
     <span class="nt">First</span> <code class="ch">/</code>
     <span class="nt">Second</span> <code class="ch">;</code>
     <span class="nt">Third</span> <code class="ch">?</code>
     <span class="nt">Fourth</span>
</div>

<p>where the italicised names represent components and
&ldquo;<code class="ch">:</code>&rdquo;,
&ldquo;<code class="ch">/</code>&rdquo;,
&ldquo;<code class="ch">;</code>&rdquo; and
&ldquo;<code class="ch">?</code>&rdquo; are reserved characters used as
separators. The
<a href="#sec-15.1.3.3"><span class="libname">encodeURI</span></a> and
<a href="#sec-15.1.3.1"><span class="libname">decodeURI</span></a> functions
are intended to work with complete URIs; they assume that any reserved
characters in the URI are intended to have special meaning and so are not
encoded. The
<a href="#sec-15.1.3.4"><span class="libname">encodeURIComponent</span></a> and
<a href="#sec-15.1.3.2"><span class="libname">decodeURIComponent</span></a>
functions are intended to work with the individual component parts of a URI;
they assume that any reserved characters represent text and so must be encoded
so that they are not interpreted as reserved characters when the component is
part of a complete URI.</p>

<p>The following lexical grammar specifies the form of encoded URIs.</p>

<div class="syntax">
  <div class="gp" id="def-uri">
    <div class="lhs">
      <span class="nt">uri</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">uriCharacters</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-uriCharacters">
    <div class="lhs">
      <span class="nt">uriCharacters</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">uriCharacter</span> <span class="nt">uriCharacters</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-uriCharacter">
    <div class="lhs">
      <span class="nt">uriCharacter</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">uriReserved</span>
    </div>
    <div class="rhs">
      <span class="nt">uriUnescaped</span>
    </div>
    <div class="rhs">
      <span class="nt">uriEscaped</span>
    </div>
  </div>

  <div class="gp" id="def-uriReserved">
    <div class="lhs">
      <span class="nt">uriReserved</span> <span class="geq">:::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">;  /  ?  :  @  &amp;  =  +  $  ,</code>
    </div>
    <span class="pagemark" id="page116">PDF page 116 / printed page 106</span>
  </div>

  <div class="gp" id="def-uriUnescaped">
    <div class="lhs">
      <span class="nt">uriUnescaped</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">uriAlpha</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigit</span>
    </div>
    <div class="rhs">
      <span class="nt">uriMark</span>
    </div>
  </div>

  <div class="gp" id="def-uriEscaped">
    <div class="lhs">
      <span class="nt">uriEscaped</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <code class="t">%</code> <span class="nt">HexDigit</span> <span class="nt">HexDigit</span>
    </div>
  </div>

  <div class="gp" id="def-uriAlpha">
    <div class="lhs">
      <span class="nt">uriAlpha</span> <span class="geq">:::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">a  b  c  d  e  f  g  h  i  j  k  l  m  n  o  p  q  r  s  t  u  v  w  x  y  z</code>
    </div>
    <div class="rhs">
      <code class="one-of-t">A  B  C  D  E  F  G  H  I  J  K  L  M  N  O  P  Q  R  S  T  U  V  W  X  Y  Z</code>
    </div>
  </div>

  <div class="gp" id="def-uriMark">
    <div class="lhs">
      <span class="nt">uriMark</span> <span class="geq">:::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">-  _  .  !  ~  *  &apos;  (  )</code>
    </div>
  </div>
</div>

<p>When a character to be included in a URI is not listed above or is not
intended to have the special meaning sometimes given to the reserved
characters, that character must be encoded. The character is transformed into
its UTF-8 encoding, with surrogate pairs first converted from UTF-16 to the
corresponding code point value. (Note that for code units in the range [0,127]
this results in a single octet with the same value.) The resulting sequence of
octets is then transformed into a String with each octet represented by an
escape sequence of the form <span class="string
value">"%<var>xx</var>"</span>.</p>

<p>The encoding and escaping process is described by the abstract operation
Encode taking two String arguments <var>string</var> and
<var>unescapedSet</var>.</p>

<ol class="proc">
  <li>Let <var>strLen</var> be the number of characters in
      <var>string</var>.</li>

  <li>Let <var>R</var> be the empty String.</li>

  <li>Let <var>k</var> be 0.</li>

  <li>Repeat
    <ol class="block">
      <li>If <var>k</var> equals <var>strLen</var>, return <var>R</var>.</li>

      <li>Let <var>C</var> be the character at position <var>k</var> within
          <var>string</var>.</li>

      <li>If <var>C</var> is in <var>unescapedSet</var>, then
        <ol class="block">
          <li>Let <var>S</var> be a String containing only the character
              <var>C</var>.</li>

          <li>Let <var>R</var> be a new String value computed by concatenating
              the previous value of <var>R</var> and <var>S</var>.</li>
        </ol>
      </li>

      <li>Else, <var>C</var> is not in <var>unescapedSet</var>
        <ol class="block">
          <li>If the code unit value of <var>C</var> is not less than 0xDC00
              and not greater than 0xDFFF, throw a <span class="errorname">URIError</span>
              exception.</li>

          <li>If the code unit value of <var>C</var> is less than 0xD800 or greater
              than 0xDBFF, then
            <ol class="block">
              <li>Let <var>V</var> be the code unit value of <var>C</var>.</li>
            </ol>
          </li>

          <li>Else,
            <ol class="block">
              <li>Increase <var>k</var> by 1.</li>

              <li>If <var>k</var> equals <var>strLen</var>, throw a
                  <span class="errorname">URIError</span> exception.</li>

              <li>Let <var>kChar</var> be the code unit value of the character
                  at position <var>k</var> within <var>string</var>.</li>

              <li>If <var>kChar</var> is less than 0xDC00 or greater than
                  0xDFFF, throw a <span class="errorname">URIError</span> exception.</li>

              <li>Let <var>V</var> be (((the code unit value of <var>C</var>)
                  &minus; 0xD800) &times; 0x400 + (<var>kChar</var> &minus;
                  0xDC00) + 0x10000).</li>
            </ol>
          </li>

          <li>Let <var>Octets</var> be the array of octets resulting by
              applying the UTF-8 transformation to <var>V</var>, and let
              <var>L</var> be the array size.</li>

          <li>Let <var>j</var> be 0.</li>

          <li>Repeat, while <var>j</var> &lt; <var>L</var>
            <ol class="block">
              <li>Let <var>jOctet</var> be the value at position <var>j</var>
                  within <var>Octets</var>.</li>

              <li>Let <var>S</var> be a String containing three characters
                  <span class="string value">"%<var>XY</var>"</span> where
                  <var>XY</var> are two uppercase hexadecimal digits encoding
                  the value of <var>jOctet</var>.</li>

              <li>Let <var>R</var> be a new String value computed by
                  concatenating the previous value of <var>R</var> and
                  <var>S</var>.</li>

              <li>Increase <var>j</var> by 1.</li>
            </ol>
          </li>
        </ol>
      </li>

      <li>Increase <var>k</var> by 1.</li>
    </ol>
  </li>
</ol>

<p><span class="pagemark" id="page117">PDF page 117 / printed page 107</span>
The unescaping and decoding process is described by the abstract operation
Decode taking two String arguments <var>string</var> and
<var>reservedSet</var>.</p>

<ol class="proc">
  <li>Let <var>strLen</var> be the number of characters in
      <var>string</var>.</li>

  <li>Let <var>R</var> be the empty String.</li>

  <li>Let <var>k</var> be 0.</li>

  <li>Repeat
    <ol class="block">
      <li>If <var>k</var> equals <var>strLen</var>, return <var>R</var>.</li>

      <li>Let <var>C</var> be the character at position <var>k</var> within
          <var>string</var>.</li>

      <li>If <var>C</var> is not &lsquo;<code class="ch">%</code>&rsquo;, then
        <ol class="block">
          <li>Let <var>S</var> be the String containing only the character
              <var>C</var>.</li>
        </ol>
      </li>

      <li>Else, <var>C</var> is &lsquo;<code class="ch">%</code>&rsquo;
        <ol class="block">
          <li>Let <var>start</var> be <var>k</var>.</li>

          <li>If <var>k</var> + 2 is greater than or equal to
              <var>strLen</var>, throw a <span class="errorname">URIError</span> exception.</li>

          <li>If the characters at position (<var>k</var>+1) and (<var>k</var>
              + 2) within <var>string</var> do not represent hexadecimal
              digits, throw a <span class="errorname">URIError</span> exception.</li>

          <li>Let <var>B</var> be the 8-bit value represented by the two
              hexadecimal digits at position (<var>k</var> + 1) and
              (<var>k</var> + 2).</li>

          <li>Increment <var>k</var> by 2.</li>

          <li>If the most significant bit in <var>B</var> is 0, then
            <ol class="block">
              <li>Let <var>C</var> be the character with code unit value
                  <var>B</var>.</li>

              <li>If <var>C</var> is not in <var>reservedSet</var>, then
                <ol class="block">
                  <li>Let <var>S</var> be the String containing only the
                      character <var>C</var>.</li>
                </ol>
              </li>

              <li>Else, <var>C</var> is in <var>reservedSet</var>
                <ol class="block">
                  <li>Let <var>S</var> be the substring of <var>string</var>
                      from position <var>start</var> to position <var>k</var>
                      included.</li>
                </ol>
              </li>
            </ol>
          </li>

          <li>Else, the most significant bit in <var>B</var> is 1
            <ol class="block">
              <li>Let <var>n</var> be the smallest non-negative number such
                  that (<var>B</var> &lt;&lt; <var>n</var>) &amp; 0x80 is equal
                  to 0.</li>

              <li>If <var>n</var> equals 1 or <var>n</var> is greater than 4,
                  throw a <span class="errorname">URIError</span> exception.</li>

              <li>Let <var>Octets</var> be an array of 8-bit integers of size
                  <var>n</var>.</li>

              <li>Put <var>B</var> into <var>Octets</var> at position 0.</li>

              <li>If <var>k</var> + (3 &times; (<var>n</var> &minus; 1)) is
                  greater than or equal to <var>strLen</var>, throw a
                  <span class="errorname">URIError</span> exception.</li>

              <li>Let <var>j</var> be 1.</li>

              <li>Repeat, while <var>j</var> &lt; <var>n</var>
                <ol class="block">
                  <li>Increment <var>k</var> by 1.</li>

                  <li>If the character at position <var>k</var> is not
                      &lsquo;<code class="ch">%</code>&rsquo;, throw a
                      <span class="errorname">URIError</span> exception.</li>

                  <li>If the characters at position (<var>k</var> + 1) and
                      (<var>k</var> + 2) within <var>string</var> do not
                      represent hexadecimal digits, throw a
                      <span class="errorname">URIError</span> exception.</li>

                  <li>Let <var>B</var> be the 8-bit value represented by the
                      two hexadecimal digits at position (<var>k</var> + 1) and
                      (<var>k</var> + 2).</li>

                  <li>If the two most significant bits in <var>B</var> are not
                      10, throw a <span class="errorname">URIError</span>
                      exception.</li>

                  <li>Increment <var>k</var> by 2.</li>

                  <li>Put <var>B</var> into <var>Octets</var> at position
                      <var>j</var>.</li>

                  <li>Increment <var>j</var> by 1.</li>
                </ol>
              </li>

              <li>Let <var>V</var> be the value obtained by applying the UTF-8
                  transformation to <var>Octets</var>, that is, from an array
                  of octets into a 32-bit value. If <var>Octets</var> does not
                  contain a valid UTF-8 encoding of a Unicode code point throw
                  a <span class="errorname">URIError</span> exception.</li>

              <li>If <var>V</var> is less than 0x10000, then
                <ol class="block">
                  <li>Let <var>C</var> be the character with code unit value
                      <var>V</var>.</li>

                  <li>If <var>C</var> is not in <var>reservedSet</var>, then
                    <ol class="block">
                      <li>Let <var>S</var> be the String containing only the
                          character <var>C</var>.</li>
                    </ol>
                  </li>

                  <li>Else, <var>C</var> is in <var>reservedSet</var>
                    <ol class="block">
                      <li>Let <var>S</var> be the substring of
                          <var>string</var> from position <var>start</var> to
                          position <var>k</var> included.</li>
                    </ol>
                  </li>
                </ol>
              </li>

              <li>Else, <var>V</var> is &ge; 0x10000
                <ol class="block">
                  <li>If <var>V</var> is greater than 0x10FFFF, throw a
                      <span class="errorname">URIError</span> exception.</li>

                  <li>Let <var>L</var> be (((<var>V</var> &minus; 0x10000)
                      &amp; 0x3FF) + 0xDC00).</li>

                  <li>Let <var>H</var> be ((((<var>V</var> &minus; 0x10000)
                      &gt;&gt; 10) &amp; 0x3FF) + 0xD800).</li>

                  <li>Let <var>S</var> be the String containing the two
                      characters with code unit values <var>H</var> and
                      <var>L</var>.</li>
                </ol>
              </li>
            </ol>
          </li>
        </ol>
      </li>

      <li><span class="pagemark" id="page118">PDF page 118 / printed page
          108</span>Let <var>R</var> be a new String value computed by
          concatenating the previous value of <var>R</var> and
          <var>S</var>.</li>

      <li>Increase <var>k</var> by 1.</li>
    </ol>
  </li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The syntax of Uniform Resource Identifiers is
  given in RFC 2396. A formal description and implementation of UTF-8 is given
  in RFC 3629.</p>
</div>

<p>In UTF-8, characters are encoded using sequences of 1 to 6 octets. The only
octet of a &ldquo;sequence&rdquo; of one has the higher-order bit set to 0, the
remaining 7 bits being used to encode the character value. In a sequence of n
octets, n&gt;1, the initial octet has the n higher-order bits set to 1,
followed by a bit set to 0. The remaining bits of that octet contain bits from
the value of the character to be encoded. The following octets all have the
higher-order bit set to 1 and the following bit set to 0, leaving 6 bits in
each to contain bits from the character to be encoded. The possible UTF-8
encodings of ECMAScript characters are specified in Table 21.</p>

<figure id="table21">
<figcaption>Table 21 &mdash; UTF-8 Encodings</figcaption>
<table class="real-table">
  <tr>
    <th>Code Unit Value</th>
    <th>Representation</th>
    <th>1st Octet</th>
    <th>2nd Octet</th>
    <th>3rd Octet</th>
    <th>4th Octet</th>
  </tr>
  <tr>
    <td><b>0x0000 - 0x007F</b></td>
    <td><b>00000000</b> <code class="ch">0</code><var>zzzzzzz</var></td>
    <td><code class="ch">0</code><var>zzzzzzz</var></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td><b>0x0080 - 0x07FF</b></td>
    <td><b>00000</b><var>yyy yyzzzzzz</var></td>
    <td><b>110</b><var>yyyyy</var></td>
    <td><b>10</b><var>zzzzzz</var></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td><b>0x0800 - 0xD7FF</b></td>
    <td><var>xxxxyyyy yyzzzzzz</var></td>
    <td><b>1110</b><var>xxxx</var></td>
    <td><b>10</b><var>yyyyyy</var></td>
    <td><b>10</b><var>zzzzzz</var></td>
    <td></td>
  </tr>
  <tr>
    <td><b>0xD800 - 0xDBFF</b> <i>followed by</i> <b>0xDC00 - 0xDFFF</b></td>
    <td><b>110110</b><var>vv vvwwwwxx</var> <i>followed by</i>
    <b>110111</b><var>yy yyzzzzzz</var></td>
    <td><b>11110</b><var>uuu</var></td>
    <td><b>10</b><var>uuwwww</var></td>
    <td><b>10</b><var>xxyyyy</var></td>
    <td><b>10</b><var>zzzzzz</var></td>
  </tr>
  <tr>
    <td><b>0xD800 - 0xDBFF</b> <i>not followed by</i> <b>0xDC00 -
    0xDFFF</b></td>
    <td><i>causes</i> URIError</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td><b>0xDC00 - 0xDFFF</b></td>
    <td><i>causes</i> URIError</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td><b>0xE000 - 0xFFFF</b></td>
    <td><var>xxxxyyyy yyzzzzzz</var></td>
    <td><b>1110</b><var>xxxx</var></td>
    <td><b>10</b><var>yyyyyy</var></td>
    <td><b>10</b><var>zzzzzz</var></td>
    <td></td>
  </tr>
</table>
</figure>

<p>Where</p>

<div class="display"><var>uuuuu</var> = <var>vvvv</var>  + 1</div>

<p>to account for the addition of 0x10000 as in Surrogates, section 3.7, of the
Unicode Standard.</p>

<p>The range of code unit values 0xD800-0xDFFF is used to encode surrogate
pairs; the above transformation combines a UTF-16 surrogate pair into a UTF-32
representation and encodes the resulting 21-bit value in UTF-8. Decoding
reconstructs the surrogate pair.</p>

<p>RFC 3629 prohibits the decoding of invalid UTF-8 octet sequences. For
example, the invalid sequence C0 80 must not decode into the character U+0000.
Implementations of the Decode algorithm are required to throw a
<span class="errorname">URIError</span> when encountering such invalid
sequences.</p>

<section id="sec-15.1.3.1">
<h1><span class="secnum"><a href="#sec-15.1.3.1"
    title="link to this section">15.1.3.1</a></span>
    decodeURI (encodedURI)</h1>

<p>The <span class="libname">decodeURI</span> function computes a new version
of a URI in which each escape sequence and UTF-8 encoding of the sort that
might be introduced by the <span class="libname">encodeURI</span> function is
replaced with the character that it represents. Escape sequences that could not
have been introduced by <span class="libname">encodeURI</span> are not
replaced.</p>

<p>When the <span class="libname">decodeURI</span> function is called with one
argument <var>encodedURI</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>uriString</var> be
      <a href="#sec-9.8">ToString</a>(<var>encodedURI</var>).</li>

  <li>Let <var>reservedURISet</var> be a String containing one instance of each
      character valid in <var>uriReserved</var> plus <span class="string
      value">"#"</span>.</li>

  <li>Return the result of calling Decode(<var>uriString</var>,
      <var>reservedURISet</var>).</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The character
  &ldquo;<code class="ch">#</code>&rdquo; is not decoded from escape sequences
  even though it is not a reserved URI character.</p>
</div>
</section>

<section id="sec-15.1.3.2">
<span class="pagemark" id="page119">PDF page 119 / printed page 109</span>
<h1><span class="secnum"><a href="#sec-15.1.3.2"
    title="link to this section">15.1.3.2</a></span>
    decodeURIComponent (encodedURIComponent)</h1>

<p>The <span class="libname">decodeURIComponent</span> function computes a new
version of a URI in which each escape sequence and UTF-8 encoding of the sort
that might be introduced by the <span class="libname">encodeURIComponent</span>
function is replaced with the character that it represents.</p>

<p>When the <span class="libname">decodeURIComponent</span> function is called
with one argument <var>encodedURIComponent</var>, the following steps are
taken:</p>

<ol class="proc">
  <li>Let <var>componentString</var> be
      <a href="#sec-9.8">ToString</a>(<var>encodedURIComponent</var>).</li>

  <li>Let <var>reservedURIComponentSet</var> be the empty String.</li>

  <li>Return the result of calling Decode(<var>componentString</var>,
      <var>reservedURIComponentSet</var>).</li>
</ol>
</section>

<section id="sec-15.1.3.3">
<h1><span class="secnum"><a href="#sec-15.1.3.3"
    title="link to this section">15.1.3.3</a></span>
    encodeURI (uri)</h1>

<p>The <span class="libname">encodeURI</span> function computes a new version
of a URI in which each instance of certain characters is replaced by one, two
or three escape sequences representing the UTF-8 encoding of the character.</p>

<p>When the <span class="libname">encodeURI</span> function is called with one
argument <var>uri</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>uriString</var> be
      <a href="#sec-9.8">ToString</a>(<var>uri</var>).</li>

  <li>Let <var>unescapedURISet</var> be a String containing one instance of
      each character valid in <var>uriReserved</var> and
      <var>uriUnescaped</var> plus <span class="string value">"#"</span>.</li>

  <li>Return the result of calling Encode(<var>uriString</var>,
      <var>unescapedURISet</var>).</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The character
  &ldquo;<code class="ch">#</code>&rdquo; is not encoded to an escape sequence
  even though it is not a reserved or unescaped URI character.</p>
</div>
</section>

<section id="sec-15.1.3.4">
<h1><span class="secnum"><a href="#sec-15.1.3.4"
    title="link to this section">15.1.3.4</a></span>
    encodeURIComponent (uriComponent)</h1>

<p>The <span class="libname">encodeURIComponent</span> function computes a new
version of a URI in which each instance of certain characters is replaced by
one, two or three escape sequences representing the UTF-8 encoding of the
character.</p>

<p>When the <span class="libname">encodeURIComponent</span> function is called
with one argument <var>uriComponent</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>componentString</var> be
      <a href="#sec-9.8">ToString</a>(<var>uriComponent</var>).</li>

  <li>Let <var>unescapedURIComponentSet</var> be a String containing one
      instance of each character valid in <var>uriUnescaped</var>.</li>

  <li>Return the result of calling Encode(<var>componentString</var>,
      <var>unescapedURIComponentSet</var>).</li>
</ol>
</section>
</section>

<section id="sec-15.1.4">
<h1><span class="secnum"><a href="#sec-15.1.4"
    title="link to this section">15.1.4</a></span>
    Constructor Properties of the Global Object</h1>

<section id="sec-15.1.4.1">
<h1><span class="secnum"><a href="#sec-15.1.4.1"
    title="link to this section">15.1.4.1</a></span>
    Object ( . . . )</h1>

<p><a href="#sec-15.2.1">See 15.2.1</a> and
<a href="#sec-15.2.2">15.2.2</a>.</p>
</section>

<section id="sec-15.1.4.2">
<h1><span class="secnum"><a href="#sec-15.1.4.2"
    title="link to this section">15.1.4.2</a></span>
    Function ( . . . )</h1>

<p><a href="#sec-15.3.1">See 15.3.1</a> and
<a href="#sec-15.3.2">15.3.2</a>.</p>
</section>

<section id="sec-15.1.4.3">
<h1><span class="secnum"><a href="#sec-15.1.4.3"
    title="link to this section">15.1.4.3</a></span>
    Array ( . . . )</h1>

<p><a href="#sec-15.4.1">See 15.4.1</a> and
<a href="#sec-15.4.2">15.4.2</a>.</p>
</section>

<section id="sec-15.1.4.4">
<span class="pagemark" id="page120">PDF page 120 / printed page 110</span>
<h1><span class="secnum"><a href="#sec-15.1.4.4"
    title="link to this section">15.1.4.4</a></span>
    String ( . . . )</h1>

<p><a href="#sec-15.5.1">See 15.5.1</a> and
<a href="#sec-15.5.2">15.5.2</a>.</p>
</section>

<section id="sec-15.1.4.5">
<h1><span class="secnum"><a href="#sec-15.1.4.5"
    title="link to this section">15.1.4.5</a></span>
    Boolean ( . . . )</h1>

<p><a href="#sec-15.6.1">See 15.6.1</a> and
<a href="#sec-15.6.2">15.6.2</a>.</p>
</section>

<section id="sec-15.1.4.6">
<h1><span class="secnum"><a href="#sec-15.1.4.6"
    title="link to this section">15.1.4.6</a></span>
    Number ( . . . )</h1>

<p><a href="#sec-15.7.1">See 15.7.1</a> and
<a href="#sec-15.7.2">15.7.2</a>.</p>
</section>

<section id="sec-15.1.4.7">
<h1><span class="secnum"><a href="#sec-15.1.4.7"
    title="link to this section">15.1.4.7</a></span>
    Date ( . . . )</h1>

<p><a href="#sec-15.9.2">See 15.9.2</a>.</p>
</section>

<section id="sec-15.1.4.8">
<h1><span class="secnum"><a href="#sec-15.1.4.8"
    title="link to this section">15.1.4.8</a></span>
    RegExp ( . . . )</h1>

<p><a href="#sec-15.10.3">See 15.10.3</a> and
<a href="#sec-15.10.4">15.10.4</a>.</p>
</section>

<section id="sec-15.1.4.9">
<h1><span class="secnum"><a href="#sec-15.1.4.9"
    title="link to this section">15.1.4.9</a></span>
    Error ( . . . )</h1>

<p><a href="#sec-15.11.1">See 15.11.1</a> and
<a href="#sec-15.11.2">15.11.2</a>.</p>
</section>

<section id="sec-15.1.4.10">
<h1><span class="secnum"><a href="#sec-15.1.4.10"
    title="link to this section">15.1.4.10</a></span>
    EvalError ( . . . )</h1>

<p><a href="#sec-15.11.6.1">See 15.11.6.1</a>.</p>
</section>

<section id="sec-15.1.4.11">
<h1><span class="secnum"><a href="#sec-15.1.4.11"
    title="link to this section">15.1.4.11</a></span>
    RangeError ( . . . )</h1>

<p><a href="#sec-15.11.6.2">See 15.11.6.2</a>.</p>
</section>

<section id="sec-15.1.4.12">
<h1><span class="secnum"><a href="#sec-15.1.4.12"
    title="link to this section">15.1.4.12</a></span>
    ReferenceError ( . . . )</h1>

<p><a href="#sec-15.11.6.3">See 15.11.6.3</a>.</p>
</section>

<section id="sec-15.1.4.13">
<h1><span class="secnum"><a href="#sec-15.1.4.13"
    title="link to this section">15.1.4.13</a></span>
    SyntaxError ( . . . )</h1>

<p><a href="#sec-15.11.6.4">See 15.11.6.4</a>.</p>
</section>

<section id="sec-15.1.4.14">
<h1><span class="secnum"><a href="#sec-15.1.4.14"
    title="link to this section">15.1.4.14</a></span>
    TypeError ( . . . )</h1>

<p><a href="#sec-15.11.6.5">See 15.11.6.5</a>.</p>
</section>

<section id="sec-15.1.4.15">
<h1><span class="secnum"><a href="#sec-15.1.4.15"
    title="link to this section">15.1.4.15</a></span>
    URIError ( . . . )</h1>

<p><a href="#sec-15.11.6.6">See 15.11.6.6</a>.</p>
</section>
</section>

<section id="sec-15.1.5">
<h1><span class="secnum"><a href="#sec-15.1.5"
    title="link to this section">15.1.5</a></span>
    Other Properties of the Global Object</h1>

<section id="sec-15.1.5.1">
<h1><span class="secnum"><a href="#sec-15.1.5.1"
    title="link to this section">15.1.5.1</a></span>
    Math</h1>

<p><a href="#sec-15.8">See 15.8</a>.</p>
</section>

<section id="sec-15.1.5.2">
<span class="pagemark" id="page121">PDF page 121 / printed page 111</span>
<h1><span class="secnum"><a href="#sec-15.1.5.2"
    title="link to this section">15.1.5.2</a></span>
    JSON</h1>

<p><a href="#sec-15.12">See 15.12</a>.</p>
</section>
</section>
</section>


<section id="sec-15.2">
<h1><span class="secnum"><a href="#sec-15.2"
    title="link to this section">15.2</a></span>
    Object Objects</h1>

<section id="sec-15.2.1">
<h1><span class="secnum"><a href="#sec-15.2.1"
    title="link to this section">15.2.1</a></span>
    The Object Constructor Called as a Function</h1>

<p>When <span class="libname">Object</span> is called as a function rather than
as a constructor, it performs a type conversion.</p>

<section id="sec-15.2.1.1">
<h1><span class="secnum"><a href="#sec-15.2.1.1"
    title="link to this section">15.2.1.1</a></span>
    Object ( [ value ] )</h1>

<p>When the <span class="libname">Object</span> function is called with no
arguments or with one argument <var>value</var>, the following steps are
taken:</p>

<ol class="proc">
  <li>If <var>value</var> is <span class="value">null</span>,
      <span class="value">undefined</span> or not supplied, create and return a
      new Object object exactly as if the standard built-in Object constructor
      had been called with the same arguments
      (<a href="#sec-15.2.2.1">15.2.2.1</a>).</li>

  <li>Return <a href="#sec-9.9">ToObject</a>(<var>value</var>).</li>
</ol>
</section>
</section>

<section id="sec-15.2.2">
<h1><span class="secnum"><a href="#sec-15.2.2"
    title="link to this section">15.2.2</a></span>
    The Object Constructor</h1>

<p>When <span class="libname">Object</span> is called as part of a
<code class="t">new</code> expression, it is a constructor that may create an
object.</p>

<section id="sec-15.2.2.1">
<h1><span class="secnum"><a href="#sec-15.2.2.1"
    title="link to this section">15.2.2.1</a></span>
    new Object ( [ value ] )</h1>

<p>When the <span class="libname">Object</span> constructor is called with no
arguments or with one argument <var>value</var>, the following steps are
taken:</p>

<ol class="proc">
  <li>If <var>value</var> is supplied, then
    <ol class="block">
      <li>If <a href="#def-type">Type</a>(<var>value</var>) is Object, then
        <ol class="block">
          <li>If the <var>value</var> is a native ECMAScript object, do not
              create a new object but simply return <var>value</var>.</li>

          <li>If the <var>value</var> is a host object, then actions are taken
              and a result is returned in an implementation-dependent manner
              that may depend on the host object.</li>
        </ol>
      </li>

      <li>If <a href="#def-type">Type</a>(<var>value</var>) is String,
          return <a href="#sec-9.9">ToObject</a>(<var>value</var>).</li>

      <li>If <a href="#def-type">Type</a>(<var>value</var>) is Boolean,
          return <a href="#sec-9.9">ToObject</a>(<var>value</var>).</li>

      <li>If <a href="#def-type">Type</a>(<var>value</var>) is Number,
          return <a href="#sec-9.9">ToObject</a>(<var>value</var>).</li>
    </ol>
  </li>

  <li>Assert: The argument <var>value</var> was not supplied or its type was
      Null or Undefined.</li>

  <li>Let <var>obj</var> be a newly created native ECMAScript object.</li>

  <li>Set the [[Prototype]] internal property of <var>obj</var> t to the
      standard built-in Object prototype object
      (<a href="#sec-15.2.4">15.2.4</a>).</li>

  <li>Set the [[Class]] internal property of <var>obj</var> to
      <span class="string value">"Object"</span>.</li>

  <li>Set the [[Extensible]] internal property of <var>obj</var> to
      <span class="value">true</span>.</li>

  <li>Set all the <a href="#sec-8.6.2">internal methods</a> of <var>obj</var>
      as specified in <a href="#sec-8.12">8.12</a>.</li>

  <li>Return <var>obj</var>.</li>
</ol>
</section>
</section>

<section id="sec-15.2.3">
<h1><span class="secnum"><a href="#sec-15.2.3"
    title="link to this section">15.2.3</a></span>
    Properties of the Object Constructor</h1>

<p>The value of the [[Prototype]] internal property of the Object constructor
is the standard built-in Function prototype object.</p>

<p>Besides the internal properties and the <code class="propname">length</code>
property (whose value is <span class="value">1</span>), the Object constructor
has the following properties:</p>

<section id="sec-15.2.3.1">
<h1><span class="secnum"><a href="#sec-15.2.3.1"
    title="link to this section">15.2.3.1</a></span>
    Object.prototype</h1>

<p>The initial value of <span class="libname">Object.prototype</span> is the
standard built-in Object prototype object
(<a href="#sec-15.2.4">15.2.4</a>).</p>

<p><span class="pagemark" id="page122">PDF page 122 / printed page 112</span>
This property has the attributes {[[Writable]]: false, [[Enumerable]]: false,
[[Configurable]]: false }.</p>
</section>

<section id="sec-15.2.3.2">
<h1><span class="secnum"><a href="#sec-15.2.3.2"
    title="link to this section">15.2.3.2</a></span>
    Object.getPrototypeOf ( O )</h1>

<p>When the <span class="libname">getPrototypeOf</span> function is called with
argument <var>O</var>, the following steps are taken:</p>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>O</var>) is not Object throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Return the value of the [[Prototype]] internal property of
      <var>O</var>.</li>
</ol>
</section>

<section id="sec-15.2.3.3">
<h1><span class="secnum"><a href="#sec-15.2.3.3"
    title="link to this section">15.2.3.3</a></span>
    Object.getOwnPropertyDescriptor ( O, P )</h1>

<p>When the <span class="libname">getOwnPropertyDescriptor</span> function is
called, the following steps are taken:</p>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>O</var>) is not Object throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Let <var>name</var> be
      <a href="#sec-9.8">ToString</a>(<var>P</var>).</li>

  <li>Let <var>desc</var> be the result of calling the [[GetOwnProperty]]
      internal method of <var>O</var> with argument <var>name</var>.</li>

  <li>Return the result of calling
      <a href="#sec-8.10.4">FromPropertyDescriptor</a>(<var>desc</var>)
      (<a href="#sec-8.10.4">8.10.4</a>).</li>
</ol>
</section>

<section id="sec-15.2.3.4">
<h1><span class="secnum"><a href="#sec-15.2.3.4"
    title="link to this section">15.2.3.4</a></span>
    Object.getOwnPropertyNames ( O )</h1>

<p>When the <span class="libname">getOwnPropertyNames</span> function is
called, the following steps are taken:</p>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>O</var>) is not Object throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Let <var>array</var> be the result of creating a new object as if by the
      expression <code class="expr">new Array ()</code> where
      <code class="expr">Array</code> is the standard built-in constructor with
      that name.</li>

  <li>Let <var>n</var> be 0.</li>

  <li>For each named own property <var>P</var> of <var>O</var>
    <ol class="block">
      <li>Let <var>name</var> be the String value that is the name of
          <var>P</var>.</li>

      <li>Call the [[DefineOwnProperty]] internal method of <var>array</var>
          with arguments <a href="#sec-9.8">ToString</a>(<var>n</var>), the
          <a href="#sec-8.10">PropertyDescriptor</a> {[[Value]]:
          <var>name</var>, [[Writable]]: <span class="value">true</span>,
          [[Enumerable]]: <span class="value">true</span>, [[Configurable]]:
          <span class="value">true</span>}, and
          <span class="value">false</span>.</li>

      <li>Increment <var>n</var> by 1.</li>
    </ol>
  </li>

  <li>Return <var>array</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> If <var>O</var> is a String instance, the set
  of own properties processed in step 4 includes the implicit properties
  defined in <a href="#sec-15.5.5.2">15.5.5.2</a> that correspond to character
  positions within the object&rsquo;s [[PrimitiveValue]] String.</p>
</div>
</section>

<section id="sec-15.2.3.5">
<h1><span class="secnum"><a href="#sec-15.2.3.5"
    title="link to this section">15.2.3.5</a></span>
    Object.create ( O [, Properties] )</h1>

<p>The <span class="libname">create</span> function creates a new object with a
specified prototype. When the <span class="libname">create</span> function is
called, the following steps are taken:</p>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>O</var>) is not Object or Null throw
      a <span class="errorname">TypeError</span> exception.</li>

  <li>Let <var>obj</var> be the result of creating a new object as if by the
      expression <code class="expr">new Object()</code> where
      <code class="expr">Object</code> is the standard built-in constructor
      with that name.</li>

  <li>Set the [[Prototype]] internal property of <var>obj</var> to
      <var>O</var>.</li>

  <li>If the argument <var>Properties</var> is present and not
      <span class="value">undefined</span>, add own properties to
      <var>obj</var> as if by calling the standard built-in function
      <a href="#sec-15.2.3.7"><span class="libname">Object.defineProperties</span></a>
      with arguments <var>obj</var> and <var>Properties</var>.</li>

  <li>Return <var>obj</var>.</li>
</ol>
</section>

<section id="sec-15.2.3.6">
<h1><span class="secnum"><a href="#sec-15.2.3.6"
    title="link to this section">15.2.3.6</a></span>
    Object.defineProperty ( O, P, Attributes )</h1>

<p>The <span class="libname">defineProperty</span> function is used to add an
own property and/or update the attributes of an existing own property of an
object. When the <span class="libname">defineProperty</span> function is
called, the following steps are taken:</p>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>O</var>) is not Object throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Let <var>name</var> be
      <a href="#sec-9.8">ToString</a>(<var>P</var>).</li>

  <li>Let <var>desc</var> be the result of calling
      <a href="#sec-8.10.5">ToPropertyDescriptor</a> with <var>Attributes</var>
      as the argument.</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>O</var> with
      arguments <var>name</var>, <var>desc</var>, and
      <span class="value">true</span>.</li>

  <li>Return <var>O</var>.</li>
</ol>
</section>

<section id="sec-15.2.3.7">
<span class="pagemark" id="page123">PDF page 123 / printed page 113</span>
<h1><span class="secnum"><a href="#sec-15.2.3.7"
    title="link to this section">15.2.3.7</a></span>
    Object.defineProperties ( O, Properties )</h1>

<p>The <span class="libname">defineProperties</span> function is used to add
own properties and/or update the attributes of existing own properties of an
object. When the <span class="libname">defineProperties</span> function is
called, the following steps are taken:</p>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>O</var>) is not Object throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Let <var>props</var> be
      <a href="#sec-9.9">ToObject</a>(<var>Properties</var>).</li>

  <li>Let <var>names</var> be an internal list containing the names of each
      enumerable own property of <var>props</var>.</li>

  <li>Let <var>descriptors</var> be an empty internal
      <a href="#sec-8.8">List</a>.</li>

  <li>For each element <var>P</var> of <var>names</var> in list order,
    <ol class="block">
      <li>Let <var>descObj</var> be the result of calling the [[Get]] internal
          method of <var>props</var> with <var>P</var> as the argument.</li>

      <li>Let <var>desc</var> be the result of calling
          <a href="#sec-8.10.5">ToPropertyDescriptor</a> with
          <var>descObj</var> as the argument.</li>

      <li>Append the pair (a two element <a href="#sec-8.8">List</a>) consisting of <var>P</var> and
          <var>desc</var> to the end of <var>descriptors</var>.</li>
    </ol>
  </li>

  <li>For each element <var>pair</var> from <var>descriptors</var> in list
      order,
    <ol class="block">
      <li>Let <var>P</var> be the first element of <var>pair</var>.</li>

      <li>Let <var>desc</var> be the second element of <var>pair</var>.</li>

      <li>Call the [[DefineOwnProperty]] internal method of <var>O</var> with
          arguments <var>P</var>, <var>desc</var>, and
          <span class="value">true</span>.</li>
    </ol>
  </li>

  <li>Return <var>O</var>.</li>
</ol>

<p>If an implementation defines a specific order of enumeration for the for-in
statement, that same enumeration order must be used to order the list elements
in step 3 of this algorithm.</p>
</section>

<section id="sec-15.2.3.8">
<h1><span class="secnum"><a href="#sec-15.2.3.8"
    title="link to this section">15.2.3.8</a></span>
    Object.seal ( O )</h1>

<p>When the <span class="libname">seal</span> function is called, the following
steps are taken:</p>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>O</var>) is not Object throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>For each named own property name <var>P</var> of <var>O</var>,
    <ol class="block">
      <li>Let <var>desc</var> be the result of calling the [[GetOwnProperty]]
          internal method of <var>O</var> with <var>P</var>.</li>

      <li>If <var>desc</var>.[[Configurable]] is
          <span class="value">true</span>, set <var>desc</var>.[[Configurable]]
          to <span class="value">false</span>.</li>

      <li>Call the [[DefineOwnProperty]] internal method of <var>O</var> with
          <var>P</var>, <var>desc</var>, and <span class="value">true</span> as
          arguments.</li>
    </ol>
  </li>

  <li>Set the [[Extensible]] internal property of <var>O</var> to
      <span class="value">false</span>.</li>

  <li>Return <var>O</var>.</li>
</ol>
</section>

<section id="sec-15.2.3.9">
<h1><span class="secnum"><a href="#sec-15.2.3.9"
    title="link to this section">15.2.3.9</a></span>
    Object.freeze ( O )</h1>

<p>When the <span class="libname">freeze</span> function is called, the
following steps are taken:</p>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>O</var>) is not Object throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>For each named own property name <var>P</var> of <var>O</var>,
    <ol class="block">
      <li>Let <var>desc</var> be the result of calling the [[GetOwnProperty]]
          internal method of <var>O</var> with <var>P</var>.</li>

      <li>If <a href="#sec-8.10.2">IsDataDescriptor</a>(<var>desc</var>) is
          <span class="value">true</span>, then
        <ol class="block">
          <li>If <var>desc</var>.[[Writable]] is
              <span class="value">true</span>, set <var>desc</var>.[[Writable]]
              to <span class="value">false</span>.</li>
        </ol>
      </li>

      <li>If <var>desc</var>.[[Configurable]] is
          <span class="value">true</span>, set <var>desc</var>.[[Configurable]]
          to <span class="value">false</span>.</li>

      <li>Call the [[DefineOwnProperty]] internal method of <var>O</var> with
          <var>P</var>, <var>desc</var>, and <span class="value">true</span> as
          arguments.</li>
    </ol>
  </li>

  <li>Set the [[Extensible]] internal property of <var>O</var> to
      <span class="value">false</span>.</li>

  <li>Return <var>O</var>.</li>
</ol>
</section>

<section id="sec-15.2.3.10">
<h1><span class="secnum"><a href="#sec-15.2.3.10"
    title="link to this section">15.2.3.10</a></span>
    Object.preventExtensions ( O )</h1>

<p>When the <span class="libname">preventExtensions</span> function is called,
the following steps are taken:</p>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>O</var>) is not Object throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Set the [[Extensible]] internal property of <var>O</var> to
      <span class="value">false</span>.</li>

  <li>Return <var>O</var>.</li>
</ol>
</section>

<section id="sec-15.2.3.11">
<h1><span class="secnum"><a href="#sec-15.2.3.11"
    title="link to this section">15.2.3.11</a></span>
    Object.isSealed ( O )</h1>

<p>When the <span class="libname">isSealed</span> function is called with
argument <var>O</var>, the following steps are taken:</p>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>O</var>) is not Object throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>For each named own property name <var>P</var> of <var>O</var>,
      <span class="pagemark" id="page124">PDF page 124 / printed page
      114</span>
    <ol class="block">
      <li>Let <var>desc</var> be the result of calling the [[GetOwnProperty]]
          internal method of <var>O</var> with <var>P</var>.</li>

      <li>If <var>desc</var>.[[Configurable]] is
          <span class="value">true</span>, then return
          <span class="value">false</span>.</li>
    </ol>
  </li>

  <li>If the [[Extensible]] internal property of <var>O</var> is
      <span class="value">false</span>, then return
      <span class="value">true</span>.</li>

  <li>Otherwise, return <span class="value">false</span>.</li>
</ol>
</section>

<section id="sec-15.2.3.12">
<h1><span class="secnum"><a href="#sec-15.2.3.12"
    title="link to this section">15.2.3.12</a></span>
    Object.isFrozen ( O )</h1>

<p>When the <span class="libname">isFrozen</span> function is called with
argument <var>O</var>, the following steps are taken:</p>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>O</var>) is not Object throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>For each named own property name <var>P</var> of <var>O</var>,
    <ol class="block">
      <li>Let <var>desc</var> be the result of calling the [[GetOwnProperty]]
          internal method of <var>O</var> with <var>P</var>.</li>

      <li>If <a href="#sec-8.10.2">IsDataDescriptor</a>(<var>desc</var>) is
          <span class="value">true</span> then
        <ol class="block">
          <li>If <var>desc</var>.[[Writable]] is
              <span class="value">true</span>, return
              <span class="value">false</span>.</li>
        </ol>
      </li>

      <li>If <var>desc</var>.[[Configurable]] is
          <span class="value">true</span>, then return
          <span class="value">false</span>.</li>
    </ol>
  </li>

  <li>If the [[Extensible]] internal property of <var>O</var> is
      <span class="value">false</span>, then return
      <span class="value">true</span>.</li>

  <li>Otherwise, return <span class="value">false</span>.</li>
</ol>
</section>

<section id="sec-15.2.3.13">
<h1><span class="secnum"><a href="#sec-15.2.3.13"
    title="link to this section">15.2.3.13</a></span>
    Object.isExtensible ( O )</h1>

<p>When the <span class="libname">isExtensible</span> function is called with
argument <var>O</var>, the following steps are taken:</p>

<ol class="proc">
  <li>If <a href="#def-type">Type</a>(<var>O</var>) is not Object throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Return the Boolean value of the [[Extensible]] internal property of
      <var>O</var>.</li>
</ol>
</section>

<section id="sec-15.2.3.14">
<h1><span class="secnum"><a href="#sec-15.2.3.14"
    title="link to this section">15.2.3.14</a></span>
    Object.keys ( O )</h1>

<p>When the <span class="libname">keys</span> function is called with argument
<var>O</var>, the following steps are taken:</p>

<ol class="proc">
  <li>If the <a href="#def-type">Type</a>(<var>O</var>) is not Object, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Let <var>n</var> be the number of own enumerable properties of
      <var>O</var>.</li>

  <li>Let <var>array</var> be the result of creating a new Object as if by the
      expression <code class="expr">new Array(<var>n</var>)</code> where
      <code class="expr">Array</code> is the standard built-in constructor with
      that name.</li>

  <li>Let <var>index</var> be 0.</li>

  <li>For each own enumerable property of <var>O</var> whose name String is
      <var>P</var>
    <ol class="block">
      <li>Call the [[DefineOwnProperty]] internal method of <var>array</var>
          with arguments <a href="#sec-9.8">ToString</a>(<var>index</var>), the
          <a href="#sec-8.10">PropertyDescriptor</a> {[[Value]]: <var>P</var>,
          [[Writable]]: <span class="value">true</span>, [[Enumerable]]:
          <span class="value">true</span>, [[Configurable]]:
          <span class="value">true</span>}, and
          <span class="value">false</span>.</li>

      <li>Increment <var>index</var> by 1.</li>
    </ol>
  </li>

  <li>Return <var>array</var>.</li>
</ol>

<p>If an implementation defines a specific order of enumeration for the for-in
statement, that same enumeration order must be used in step 5 of this
algorithm.</p>
</section>
</section>

<section id="sec-15.2.4">
<h1><span class="secnum"><a href="#sec-15.2.4"
    title="link to this section">15.2.4</a></span>
    Properties of the Object Prototype Object</h1>

<p>The value of the [[Prototype]] internal property of the Object prototype
object is <span class="value">null</span>, the value of the [[Class]] internal
property is <span class="string value">"Object"</span>, and the initial value
of the [[Extensible]] internal property is <span class="value">true</span>.</p>


<section id="sec-15.2.4.1">
<h1><span class="secnum"><a href="#sec-15.2.4.1"
    title="link to this section">15.2.4.1</a></span>
    Object.prototype.constructor</h1>

<p>The initial value of
<span class="libname">Object.prototype.constructor</span> is the standard
built-in <span class="libname">Object</span> constructor.</p>
</section>

<section id="sec-15.2.4.2">
<h1><span class="secnum"><a href="#sec-15.2.4.2"
    title="link to this section">15.2.4.2</a></span>
    Object.prototype.toString ( )</h1>

<p>When the <span class="libname">toString</span> method is called, the
following steps are taken:</p>

<ol class="proc">
  <li>If the <span class="this">this</span> value is
      <span class="value">undefined</span>, return <span class="string
      value">"[object Undefined]"</span>.</li>

  <li>If the <span class="this">this</span> value is
      <span class="value">null</span>, return <span class="string
      value">"[object Null]"</span>.</li>

  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>class</var> be the value of the [[Class]] internal property of
      <var>O</var>.</li>

  <li><span class="pagemark" id="page125">PDF page 125 / printed page
      115</span>Return the String value that is the result of concatenating
      the three Strings <span class="string value">"[object "</span>,
      <var>class</var>, and <span class="string value">"]"</span>.</li>
</ol>
</section>

<section id="sec-15.2.4.3">
<h1><span class="secnum"><a href="#sec-15.2.4.3"
    title="link to this section">15.2.4.3</a></span>
    Object.prototype.toLocaleString ( )</h1>

<p>When the <span class="libname">toLocaleString</span> method is called, the
following steps are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>toString</var> be the result of calling the [[Get]] internal
      method of <var>O</var> passing <span class="string
      value">"toString"</span> as the argument.</li>

  <li>If <a href="#sec-9.11">IsCallable</a>(<var>toString</var>) is
      <span class="value">false</span>, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Return the result of calling the [[Call]] internal method of
      <var>toString</var> passing <var>O</var> as the
      <span class="this">this</span> value and no arguments.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE 1</span> This function is provided to give all
  Objects a generic <span class="libname">toLocaleString</span> interface, even
  though not all may use it. Currently,
  <a href="#sec-15.4.4.3"><span class="libname">Array</span></a>,
  <a href="#sec-15.7.4.3"><span class="libname">Number</span></a>, and
  <a href="#sec-15.9.5.5"><span class="libname">Date</span></a> provide their
  own locale-sensitive <span class="libname">toLocaleString</span> methods.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> The first parameter to this function is
  likely to be used in a future version of this standard; it is recommended
  that implementations do not use this parameter position for anything
  else.</p>
</div>
</section>

<section id="sec-15.2.4.4">
<h1><span class="secnum"><a href="#sec-15.2.4.4"
    title="link to this section">15.2.4.4</a></span>
    Object.prototype.valueOf ( )</h1>

<p>When the <span class="libname">valueOf</span> method is called, the
following steps are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>If <var>O</var> is the result of calling the Object constructor with a
      host object (<a href="#sec-15.2.2.1">15.2.2.1</a>), then
    <ol class="block">
      <li>Return either <var>O</var> or another value such as the host object
          originally passed to the constructor. The specific result that is
          returned is implementation-defined.</li>
    </ol>
  </li>

  <li>Return <var>O</var>.</li>
</ol>
</section>

<section id="sec-15.2.4.5">
<h1><span class="secnum"><a href="#sec-15.2.4.5"
    title="link to this section">15.2.4.5</a></span>
    Object.prototype.hasOwnProperty (V)</h1>

<p>When the <span class="libname">hasOwnProperty</span> method is called with
argument <var>V</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>P</var> be <a href="#sec-9.8">ToString</a>(<var>V</var>).</li>

  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>desc</var> be the result of calling the [[GetOwnProperty]]
      internal method of <var>O</var> passing <var>P</var> as the
      argument.</li>

  <li>If <var>desc</var> is <span class="value">undefined</span>, return
      <span class="value">false</span>.</li>

  <li>Return <span class="value">true</span>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE 1</span> Unlike [[HasProperty]]
  (<a href="#sec-8.12.6">8.12.6</a>), this method does not consider objects in
  the prototype chain.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> The ordering of steps 1 and 2 is chosen to
  ensure that any exception that would have been thrown by step 1 in previous
  editions of this specification will continue to be thrown even if the
  <span class="this">this</span> value is <span class="value">undefined</span>
  or <span class="value">null</span>.</p>
</div>
</section>

<section id="sec-15.2.4.6">
<h1><span class="secnum"><a href="#sec-15.2.4.6"
    title="link to this section">15.2.4.6</a></span>
    Object.prototype.isPrototypeOf (V)</h1>

<p>When the <span class="libname">isPrototypeOf</span> method is called with
argument <var>V</var>, the following steps are taken:</p>

<ol class="proc">
  <li>If <var>V</var> is not an object, return
      <span class="value">false</span>.</li>

  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Repeat
    <ol class="block">
      <li>Let <var>V</var> be the value of the [[Prototype]] internal property
          of <var>V</var>.</li>

      <li>If <var>V</var> is <span class="value">null</span>, return
          <span class="value">false</span>.</li>

      <li>If <var>O</var> and <var>V</var> refer to the same object, return
          <span class="value">true</span>.</li>
    </ol>
  </li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The ordering of steps 1 and 2 is chosen to
  preserve the behaviour specified by previous editions of this specification
  for the case where <var>V</var> is not an object and the
  <span class="this">this</span> value is <span class="value">undefined</span>
  or <span class="value">null</span>.</p>
</div>
</section>


<span class="pagemark" id="page126">PDF page 126 / printed page 116</span>
<section id="sec-15.2.4.7">
<h1><span class="secnum"><a href="#sec-15.2.4.7"
    title="link to this section">15.2.4.7</a></span>
    Object.prototype.propertyIsEnumerable (V)</h1>

<p>When the <span class="libname">propertyIsEnumerable</span> method is called
with argument <var>V</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>P</var> be <a href="#sec-9.8">ToString</a>(<var>V</var>).</li>

  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>desc</var> be the result of calling the [[GetOwnProperty]]
      internal method of <var>O</var> passing <var>P</var> as the
      argument.</li>

  <li>If <var>desc</var> is <span class="value">undefined</span>, return
      <span class="value">false</span>.</li>

  <li>Return the value of <var>desc</var>.[[Enumerable]].</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE 1</span> This method does not consider objects in
  the prototype chain.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> The ordering of steps 1 and 2 is chosen to
  ensure that any exception that would have been thrown by step 1 in previous
  editions of this specification will continue to be thrown even if the
  <span class="this">this</span> value is <span class="value">undefined</span>
  or <span class="value">null</span>.</p>
</div>
</section>
</section>

<section id="sec-15.2.5">
<h1><span class="secnum"><a href="#sec-15.2.5"
    title="link to this section">15.2.5</a></span>
    Properties of Object Instances</h1>

<p>Object instances have no special properties beyond those inherited from the
Object prototype object.</p>
</section>
</section>


<section id="sec-15.3">
<h1><span class="secnum"><a href="#sec-15.3"
    title="link to this section">15.3</a></span>
    Function Objects</h1>

<section id="sec-15.3.1">
<h1><span class="secnum"><a href="#sec-15.3.1"
    title="link to this section">15.3.1</a></span>
    The Function Constructor Called as a Function</h1>

<p>When <span class="libname">Function</span> is called as a function rather
than as a constructor, it creates and initialises a new Function object. Thus
the function call <code class="expr">Function(<var>...</var>)</code> is
equivalent to the object creation expression <code class="expr">new
Function(<var>...</var>)</code> with the same arguments.</p>


<section id="sec-15.3.1.1">
<h1><span class="secnum"><a href="#sec-15.3.1.1"
    title="link to this section">15.3.1.1</a></span>
    Function (p1, p2, ... , pn, body)</h1>

<p>When the <span class="libname">Function</span> function is called with some
arguments <var>p1</var>, <var>p2</var>, ... , <var>pn</var>, <var>body</var>
(where <var>n</var> might be 0, that is, there are no
&ldquo;<var>p</var>&rdquo; arguments, and where <var>body</var> might also not
be provided), the following steps are taken:</p>

<ol class="proc">
  <li>Create and return a new Function object as if the standard built-in
      constructor Function was used in a <code class="t">new</code> expression
      with the same arguments (<a href="#sec-15.3.2.1">15.3.2.1</a>).</li>
</ol>
</section>
</section>

<section id="sec-15.3.2">
<h1><span class="secnum"><a href="#sec-15.3.2"
    title="link to this section">15.3.2</a></span>
    The Function Constructor</h1>

<p>When <span class="libname">Function</span> is called as part of a
<code class="t">new</code> expression, it is a constructor: it initialises the
newly created object.</p>


<section id="sec-15.3.2.1">
<h1><span class="secnum"><a href="#sec-15.3.2.1"
    title="link to this section">15.3.2.1</a></span>
    new Function (p1, p2, ... , pn, body)</h1>

<p>The last argument specifies the body (executable code) of a function; any
preceding arguments specify formal parameters.</p>

<p>When the <span class="libname">Function</span> constructor is called with
some arguments <var>p1</var>, <var>p2</var>, ... , <var>pn</var>,
<var>body</var> (where <var>n</var> might be 0, that is, there are no
&ldquo;<var>p</var>&rdquo; arguments, and where <var>body</var> might also not
be provided), the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>argCount</var> be the total number of arguments passed to this
      function invocation.</li>

  <li>Let <var>P</var> be the empty String.</li>

  <li>If <var>argCount</var> = 0, let <var>body</var> be the empty String.</li>

  <li>Else if <var>argCount</var> = 1, let <var>body</var> be that
      argument.</li>

  <li>Else, <var>argCount</var> &gt; 1
    <ol class="block">
      <li>Let <var>firstArg</var> be the first argument.</li>

      <li>Let <var>P</var> be
          <a href="#sec-9.8">ToString</a>(<var>firstArg</var>).</li>

      <li>Let <var>k</var> be 2.</li>

      <li>Repeat, while <var>k</var> &lt; <var>argCount</var>
        <ol class="block">
          <li>Let <var>nextArg</var> be the <var>k</var>th argument.</li>

          <li><span class="pagemark" id="page127">PDF page 127 / printed page
              117</span>Let <var>P</var> be the result of concatenating the
              previous value of <var>P</var>, the String <span class="string
              value">","</span> (a comma), and
              <a href="#sec-9.8">ToString</a>(<var>nextArg</var>).</li>

          <li>Increase <var>k</var> by 1.</li>
        </ol>
      </li>

      <li>Let <var>body</var> be the <var>k</var>th argument.</li>
    </ol>
  </li>

  <li>Let <var>body</var> be
      <a href="#sec-9.8">ToString</a>(<var>body</var>).</li>

  <li>If <var>P</var> is not parsable as a
      <span class="nt">FormalParameterList</span><sub class="gopt">opt</sub>
      then throw a <span class="errorname">SyntaxError</span> exception.</li>

  <li>If <var>body</var> is not parsable as
      <span class="nt">FunctionBody</span> then throw a
      <span class="errorname">SyntaxError</span> exception.</li>

  <li>If <var>body</var> is <a href="#sec-10.1.1">strict mode code (see
      10.1.1)</a> then let <var>strict</var> be
      <span class="value">true</span>, else let <var>strict</var> be
      <span class="value">false</span>.</li>

  <li>If <var>strict</var> is <span class="value">true</span>, throw any
      exceptions specified in <a href="#sec-13.1">13.1</a> that apply.</li>

  <li>Return a new Function object created as specified in
      <a href="#sec-13.2">13.2</a> passing <var>P</var> as the
      <var>FormalParameterList</var> and <var>body</var> as the
      <span class="nt">FunctionBody</span>. Pass in the
      <a href="#sec-10.2.3">Global Environment</a> as the <var>Scope</var>
      parameter and <var>strict</var> as the <var>Strict</var> flag.</li>
</ol>

<p>A <code class="propname">prototype</code> property is automatically created
for every function, to provide for the possibility that the function will be
used as a constructor.</p>


<div class="note">
  <p><span class="nh">NOTE</span> It is permissible but not necessary to have
  one argument for each formal parameter to be specified. For example, all
  three of the following expressions produce the same result:</p>

  <pre>new Function("a", "b", "c", "return a+b+c")</pre>

  <pre>new Function("a, b, c", "return a+b+c")</pre>

  <pre>new Function("a,b", "c", "return a+b+c")</pre>
</div>
</section>
</section>

<section id="sec-15.3.3">
<h1><span class="secnum"><a href="#sec-15.3.3"
    title="link to this section">15.3.3</a></span>
    Properties of the Function Constructor</h1>

<p>The Function constructor is itself a Function object and its [[Class]] is
<span class="string value">"Function"</span>. The value of the [[Prototype]]
internal property of the Function constructor is the standard built-in Function
prototype object (<a href="#sec-15.3.4">15.3.4</a>).</p>

<p>The value of the [[Extensible]] internal property of the Function
constructor is <span class="value">true</span>.</p>

<p>The Function constructor has the following properties:</p>


<section id="sec-15.3.3.1">
<h1><span class="secnum"><a href="#sec-15.3.3.1"
    title="link to this section">15.3.3.1</a></span>
    Function.prototype</h1>

<p>The initial value of <span class="libname">Function.prototype</span> is the
standard built-in Function prototype object
(<a href="#sec-15.3.4">15.3.4</a>).</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.3.3.2">
<h1><span class="secnum"><a href="#sec-15.3.3.2"
    title="link to this section">15.3.3.2</a></span>
    Function.length</h1>

<p>This is a data property with a value of <span class="value">1</span>. This
property has the attributes { [[Writable]]: <span class="value">false</span>,
[[Enumerable]]: <span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>
</section>

<section id="sec-15.3.4">
<h1><span class="secnum"><a href="#sec-15.3.4"
    title="link to this section">15.3.4</a></span>
    Properties of the Function Prototype Object</h1>

<p>The Function prototype object is itself a Function object (its [[Class]] is
<span class="string value">"Function"</span>) that, when invoked, accepts any
arguments and returns <span class="value">undefined</span>.</p>

<p>The value of the [[Prototype]] internal property of the Function prototype
object is the standard built-in Object prototype object
(<a href="#sec-15.2.4">15.2.4</a>). The initial value of the [[Extensible]]
internal property of the Function prototype object is
<span class="value">true</span>.</p>

<p>The Function prototype object does not have a
<code class="propname">valueOf</code> property of its own; however, it inherits
the <code class="propname">valueOf</code> property from the Object prototype
Object.</p>

<p>The <code class="propname">length</code> property of the Function prototype
object is <span class="value">0</span>.</p>

<section id="sec-15.3.4.1">
<span class="pagemark" id="page128">PDF page 128 / printed page 118</span>
<h1><span class="secnum"><a href="#sec-15.3.4.1"
    title="link to this section">15.3.4.1</a></span>
    Function.prototype.constructor</h1>

<p>The initial value of
<span class="libname">Function.prototype.constructor</span> is the built-in
<span class="libname">Function</span> constructor.</p>
</section>

<section id="sec-15.3.4.2">
<h1><span class="secnum"><a href="#sec-15.3.4.2"
    title="link to this section">15.3.4.2</a></span>
    Function.prototype.toString ( )</h1>

<p>An implementation-dependent representation of the function is returned. This
representation has the syntax of a <span class="nt">FunctionDeclaration</span>.
Note in particular that the use and placement of white space, line terminators,
and semicolons within the representation String is
implementation-dependent.</p>

<p>The <span class="libname">toString</span> function is not generic; it throws
a <span class="errorname">TypeError</span> exception if its
<span class="this">this</span> value is not a Function object. Therefore, it
cannot be transferred to other kinds of objects for use as a method.</p>
</section>

<section id="sec-15.3.4.3">
<h1><span class="secnum"><a href="#sec-15.3.4.3"
    title="link to this section">15.3.4.3</a></span>
    Function.prototype.apply (thisArg, argArray)</h1>

<p>When the <span class="libname">apply</span> method is called on an object
<var>func</var> with arguments <var>thisArg</var> and <var>argArray</var>, the
following steps are taken:</p>

<ol class="proc">
  <li>If <a href="#sec-9.11">IsCallable</a>(<var>func</var>) is
      <span class="value">false</span>, then throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>If <var>argArray</var> is <span class="value">null</span> or
      <span class="value">undefined</span>, then
    <ol class="block">
      <li>Return the result of calling the [[Call]] internal method of
          <var>func</var>, providing <var>thisArg</var> as the <span class="this">this</span>
          value and an empty list of arguments.</li>
    </ol>
  </li>

  <li>If <a href="#def-type">Type</a>(<var>argArray</var>) is not Object, then
      throw a <span class="errorname">TypeError</span> exception.</li>

  <li>Let <var>len</var> be the result of calling the [[Get]] internal method
      of <var>argArray</var> with argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>n</var> be <a href="#sec-9.6">ToUint32</a>(<var>len</var>).</li>

  <li>Let <var>argList</var> be an empty <a href="#sec-8.8">List</a>.</li>

  <li>Let <var>index</var> be 0.</li>

  <li>Repeat while <var>index</var> &lt; <var>n</var>
    <ol class="block">
      <li>Let <var>indexName</var>
          be <a href="#sec-9.8">ToString</a>(<var>index</var>).</li>

      <li>Let <var>nextArg</var> be the result of calling the [[Get]] internal
          method of <var>argArray</var> with <var>indexName</var> as the
          argument.</li>

      <li>Append <var>nextArg</var> as the last element of <var>argList</var>.</li>

      <li>Set <var>index</var> to <var>index</var> + 1.</li>
    </ol>
  </li>

  <li>Return the result of calling the [[Call]] internal method of
      <var>func</var>, providing <var>thisArg</var> as the
      <span class="this">this</span> value and <var>argList</var> as the list
      of arguments.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">apply</span> method is <span class="value">2</span>.</p>


<div class="note">
  <p><span class="nh">NOTE</span> The thisArg value is passed without
  modification as the <span class="this">this</span> value. This is a change
  from Edition 3, where a <span class="value">undefined</span> or
  <span class="value">null</span> thisArg is replaced with the global object
  and <a href="#sec-9.9">ToObject</a> is applied to all other values and that
  result is passed as the <span class="this">this</span> value.</p>
</div>
</section>

<section id="sec-15.3.4.4">
<h1><span class="secnum"><a href="#sec-15.3.4.4"
    title="link to this section">15.3.4.4</a></span>
    Function.prototype.call (thisArg [ , arg1 [ , arg2, ... ] ] )</h1>

<p>When the <span class="libname">call</span> method is called on an object
<var>func</var> with argument <var>thisArg</var> and optional arguments
<var>arg1</var>, <var>arg2</var> etc, the following steps are taken:</p>

<ol class="proc">
  <li>If <a href="#sec-9.11">IsCallable</a>(<var>func</var>) is
      <span class="value">false</span>, then throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Let <var>argList</var> be an empty <a href="#sec-8.8">List</a>.</li>

  <li>If this method was called with more than one argument then in left to
      right order starting with <var>arg1</var> append each argument as the
      last element of <var>argList</var>.</li>

  <li>Return the result of calling the [[Call]] internal method of
      <var>func</var>, providing <var>thisArg</var> as the
      <span class="this">this</span> value and <var>argList</var> as the list
      of arguments.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">call</span> method is <span class="value">1</span>.</p>

<div class="note">
  <span class="pagemark" id="page129">PDF page 129 / printed page 119</span>
  <p><span class="nh">NOTE</span> The thisArg value is passed without
  modification as the <span class="this">this</span> value. This is a change
  from Edition 3, where a <span class="value">undefined</span> or
  <span class="value">null</span> thisArg is replaced with the global object
  and <a href="#sec-9.9">ToObject</a> is applied to all other values and that
  result is passed as the <span class="this">this</span> value.</p>
</div>
</section>

<section id="sec-15.3.4.5">
<h1><span class="secnum"><a href="#sec-15.3.4.5"
    title="link to this section">15.3.4.5</a></span>
    Function.prototype.bind (thisArg [, arg1 [, arg2, ...]])</h1>

<p>The bind method takes one or more arguments, <var>thisArg</var> and
(optionally) <var>arg1</var>, <var>arg2</var>, etc, and returns a new function
object by performing the following steps:</p>

<ol class="proc">
  <li>Let <var>Target</var> be the <span class="this">this</span> value.</li>

  <li>If <a href="#sec-9.11">IsCallable</a>(<var>Target</var>) is
      <span class="value">false</span>, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Let <var>A</var> be a new (possibly empty) internal list of all of the
      argument values provided after <var>thisArg</var> (<var>arg1</var>,
      <var>arg2</var> etc), in order.</li>

  <li>Let <var>F</var> be a new native ECMAScript object .</li>

  <li>Set all the <a href="#sec-8.6.2">internal methods</a>, except for
      [[Get]], of <var>F</var> as specified in
      <a href="#sec-8.12">8.12</a>.</li>

  <li>Set the [[Get]] internal property of <var>F</var> as specified in
      <a href="#sec-15.3.5.4">15.3.5.4</a>.</li>

  <li>Set the [[TargetFunction]] internal property of <var>F</var> to
      <var>Target</var>.</li>

  <li>Set the [[BoundThis]] internal property of <var>F</var> to the value of
      <var>thisArg</var>.</li>

  <li>Set the [[BoundArgs]] internal property of <var>F</var> to
      <var>A</var>.</li>

  <li>Set the [[Class]] internal property of <var>F</var> to
      <span class="string value">"Function"</span>.</li>

  <li>Set the [[Prototype]] internal property of <var>F</var> to the standard
      built-in Function prototype object as specified in
      <a href="#sec-15.3.3.1">15.3.3.1</a>.</li>

  <li>Set the [[Call]] internal property of <var>F</var> as described in
      <a href="#sec-15.3.4.5.1">15.3.4.5.1</a>.</li>

  <li>Set the [[Construct]] internal property of <var>F</var> as described in
      <a href="#sec-15.3.4.5.2">15.3.4.5.2</a>.</li>

  <li>Set the [[HasInstance]] internal property of <var>F</var> as described in
      <a href="#sec-15.3.4.5.3">15.3.4.5.3</a>.</li>

  <li>If the [[Class]] internal property of <var>Target</var> is
      <span class="string value">"Function"</span>, then
    <ol class="block">
      <li>Let <var>L</var> be the <code class="propname">length</code> property
          of <var>Target</var> minus the length of <var>A</var>.</li>

      <li>Set the <code class="propname">length</code> own property of
          <var>F</var> to either 0 or <var>L</var>, whichever is larger.</li>
    </ol>
  </li>

  <li>Else set the <code class="propname">length</code> own property of
      <var>F</var> to 0.</li>

  <li>Set the attributes of the <code class="propname">length</code> own
      property of <var>F</var> to the values specified in
      <a href="#sec-15.3.5.1">15.3.5.1</a>.</li>

  <li>Set the [[Extensible]] internal property of <var>F</var> to
      <span class="value">true</span>.</li>

  <li>Let <var>thrower</var> be the [[ThrowTypeError]] function Object
      (<a href="#sec-13.2.3">13.2.3</a>).</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>F</var> with
      arguments <span class="string value">"caller"</span>,
      <a href="#sec-8.10">PropertyDescriptor</a> {[[Get]]: <var>thrower</var>,
      [[Set]]: <var>thrower</var>, [[Enumerable]]:
      <span class="value">false</span>, [[Configurable]]:
      <span class="value">false</span>}, and
      <span class="value">false</span>.</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>F</var> with
      arguments <span class="string value">"arguments"</span>,
      <a href="#sec-8.10">PropertyDescriptor</a> {[[Get]]: <var>thrower</var>,
      [[Set]]: <var>thrower</var>, [[Enumerable]]:
      <span class="value">false</span>, [[Configurable]]:
      <span class="value">false</span>}, and
      <span class="value">false</span>.</li>

  <li>Return <var>F</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">bind</span> method is <span class="value">1</span>.</p>


<div class="note">
  <p><span class="nh">NOTE</span> Function objects created using
  <span class="libname">Function.prototype.bind</span> do not have a
  <code class="propname">prototype</code> property or the [[Code]],
  [[FormalParameters]], and [[Scope]] internal properties.</p>
</div>

<section id="sec-15.3.4.5.1">
<h1><span class="secnum"><a href="#sec-15.3.4.5.1"
    title="link to this section">15.3.4.5.1</a></span>
    [[Call]]</h1>

<p>When the [[Call]] internal method of a function object, <var>F</var>, which
was created using the bind function is called with a
<span class="this">this</span> value and a list of arguments
<var>ExtraArgs</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>boundArgs</var> be the value of <var>F</var>&rsquo;s
      [[BoundArgs]] internal property.</li>

  <li>Let <var>boundThis</var> be the value of <var>F</var>&rsquo;s
      [[BoundThis]] internal property.</li>

  <li>Let <var>target</var> be the value of <var>F</var>&rsquo;s
      [[TargetFunction]] internal property.</li>

  <li>Let <var>args</var> be a new list containing the same values as the list
      <var>boundArgs</var> in the same order followed by the same values as the
      list <var>ExtraArgs</var> in the same order.</li>

  <li>Return the result of calling the [[Call]] internal method of
      <var>target</var> providing <var>boundThis</var> as the
      <span class="this">this</span> value and providing <var>args</var> as the
      arguments.</li>
</ol>
</section>

<section id="sec-15.3.4.5.2">
<h1><span class="secnum"><a href="#sec-15.3.4.5.2"
    title="link to this section">15.3.4.5.2</a></span>
    [[Construct]]</h1>

<p>When the [[Construct]] internal method of a function object, <var>F</var>
that was created using the bind function is called with a list of arguments
<var>ExtraArgs</var>, the following steps are taken:</p>


<ol class="proc">
  <li><span class="pagemark" id="page130">PDF page 130 / printed page
      120</span>Let <var>target</var> be the value of <var>F</var>&rsquo;s
      [[TargetFunction]] internal property.</li>

  <li>If <var>target</var> has no [[Construct]] internal method, a
      <span class="errorname">TypeError</span> exception is thrown.</li>

  <li>Let <var>boundArgs</var> be the value of <var>F</var>&rsquo;s
      [[BoundArgs]] internal property.</li>

  <li>Let <var>args</var> be a new list containing the same values as the list
      <var>boundArgs</var> in the same order followed by the same values as the
      list <var>ExtraArgs</var> in the same order.</li>

  <li>Return the result of calling the [[Construct]] internal method of
      <var>target</var> providing <var>args</var> as the arguments.</li>
</ol>
</section>

<section id="sec-15.3.4.5.3">
<h1><span class="secnum"><a href="#sec-15.3.4.5.3"
    title="link to this section">15.3.4.5.3</a></span>
    [[HasInstance]] (V)</h1>

<p>When the [[HasInstance]] internal method of a function object <var>F</var>,
that was created using the bind function is called with argument <var>V</var>,
the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>target</var> be the value of <var>F</var>&rsquo;s
      [[TargetFunction]] internal property.</li>

  <li>If <var>target</var> has no [[HasInstance]] internal method, a
      <span class="errorname">TypeError</span> exception is thrown.</li>

  <li>Return the result of calling the [[HasInstance]] internal method of
      <var>target</var> providing <var>V</var> as the argument.</li>
</ol>
</section>
</section>
</section>

<section id="sec-15.3.5">
<h1><span class="secnum"><a href="#sec-15.3.5"
    title="link to this section">15.3.5</a></span>
    Properties of Function Instances</h1>

<p>In addition to the required internal properties, every function instance has
a [[Call]] internal property and in most cases use a different version of the
[[Get]] internal property. Depending on how they are created
(<a href="#sec-8.6.2">see 8.6.2</a>, <a href="#sec-13.2">13.2</a>,
<a href="#sec-15">15</a>, and <a href="#sec-15.3.4.5">15.3.4.5</a>), function
instances may have a [[HasInstance]] internal property, a [[Scope]] internal
property, a [[Construct]] internal property, a [[FormalParameters]] internal
property, a [[Code]] internal property, a [[TargetFunction]] internal property,
a [[BoundThis]] internal property, and a [[BoundArgs]] internal property.</p>

<p>The value of the [[Class]] internal property is <span class="string
value">"Function"</span>.</p>

<p>Function instances that correspond to strict mode functions
(<a href="#sec-13.2">13.2</a>) and function instances created using the
<span class="libname">Function.prototype.bind</span> method
(<a href="#sec-15.3.4.5">15.3.4.5</a>) have properties named
&ldquo;<code class="propname">caller</code>&rdquo; and
&ldquo;<code class="propname">arguments</code>&rdquo; that throw a
<span class="errorname">TypeError</span> exception. An ECMAScript
implementation must not associate any implementation specific behaviour with
accesses of these properties from strict mode function code.</p>


<section id="sec-15.3.5.1">
<h1><span class="secnum"><a href="#sec-15.3.5.1"
    title="link to this section">15.3.5.1</a></span>
    length</h1>

<p>The value of the <code class="propname">length</code> property is an integer
that indicates the &ldquo;typical&rdquo; number of arguments expected by the
function. However, the language permits the function to be invoked with some
other number of arguments. The behaviour of a function when invoked on a number
of arguments other than the number specified by its
<code class="propname">length</code> property depends on the function. This
property has the attributes { [[Writable]]: <span class="value">false</span>,
[[Enumerable]]: <span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.3.5.2">
<h1><span class="secnum"><a href="#sec-15.3.5.2"
    title="link to this section">15.3.5.2</a></span>
    prototype</h1>

<p>The value of the <code class="propname">prototype</code> property is used to
initialise the [[Prototype]] internal property of a newly created object before
the Function object is invoked as a constructor for that newly created object.
This property has the attribute { [[Writable]]:
<span class="value">true</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>


<div class="note">
  <p><span class="nh">NOTE</span> Function objects created using
  <span class="libname">Function.prototype.bind</span> do not have a
  <code class="propname">prototype</code> property.</p>
</div>
</section>

<section id="sec-15.3.5.3">
<h1><span class="secnum"><a href="#sec-15.3.5.3"
    title="link to this section">15.3.5.3</a></span>
    [[HasInstance]] (V)</h1>

<p>Assume <var>F</var> is a Function object.</p>

<p>When the [[HasInstance]] internal method of <var>F</var> is called with
value <var>V</var>, the following steps are taken:</p>

<ol class="proc">
  <li>If <var>V</var> is not an object, return
      <span class="value">false</span>.</li>

  <li>Let <var>O</var> be the result of calling the [[Get]] internal method of
      <var>F</var> with property name <span class="string
      value">"prototype"</span>.</li>

  <li>If <a href="#def-type">Type</a>(<var>O</var>) is not Object, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Repeat
    <ol class="block">
      <li>Let <var>V</var> be the value of the [[Prototype]] internal property
          of <var>V</var>.</li>

      <li><span class="pagemark" id="page131">PDF page 131 / printed page
          121</span>If <var>V</var> is <span class="value">null</span>, return
          <span class="value">false</span>.</li>

      <li>If <var>O</var> and <var>V</var> refer to the same object, return
          <span class="value">true</span>.</li>
    </ol>
  </li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> Function objects created using
  <span class="libname">Function.prototype.bind</span> have a different
  implementation of [[HasInstance]] defined in
  <a href="#sec-15.3.4.5.3">15.3.4.5.3</a>.</p>
</div>
</section>

<section id="sec-15.3.5.4">
<h1><span class="secnum"><a href="#sec-15.3.5.4"
    title="link to this section">15.3.5.4</a></span>
    [[Get]] (P)</h1>

<p>Function objects use a variation of the [[Get]] internal method used for
other native ECMAScript objects (<a href="#sec-8.12.3">8.12.3</a>).</p>

<p>Assume <var>F</var> is a Function object. When the [[Get]] internal method
of <var>F</var> is called with property name <var>P</var>, the following steps
are taken:</p>

<ol class="proc">
  <li>Let <var>v</var> be the result of calling the default [[Get]] internal
      method (<a href="#sec-8.12.3">8.12.3</a>) on <var>F</var> passing
      <var>P</var> as the property name argument.</li>

  <li>If <var>P</var> is <span class="string value">"caller"</span> and
      <var>v</var> is a strict mode Function object, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Return <var>v</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> Function objects created using
  <span class="libname">Function.prototype.bind</span> use the default [[Get]]
  internal method.</p>
</div>
</section>
</section>
</section>


<section id="sec-15.4">
<h1><span class="secnum"><a href="#sec-15.4"
    title="link to this section">15.4</a></span>
    Array Objects</h1>

<p>Array objects give special treatment to a certain class of property names.
<span id="def-array-index">A property name <var>P</var> (in the form of a
String value) is an <dfn>array index</dfn> if and only if
<a href="#sec-9.8">ToString</a>(<a href="#sec-9.6">ToUint32</a>(<var>P</var>))
is equal to <var>P</var> and <a href="#sec-9.6">ToUint32</a>(<var>P</var>) is
not equal to 2<sup>32</sup>&minus;1.</span> <span id="def-array-element">A
property whose property name is an array index is also called
an <dfn>element</dfn>.</span> Every Array object has a
<code class="propname">length</code> property whose value is always a
nonnegative integer less than 2<sup>32</sup>. The value of the
<code class="propname">length</code> property is numerically greater than the
name of every property whose name is an array index; whenever a property of an
Array object is created or changed, other properties are adjusted as necessary
to maintain this invariant. Specifically, whenever a property is added whose
name is an array index, the <code class="propname">length</code> property is
changed, if necessary, to be one more than the numeric value of that array
index; and whenever the <code class="propname">length</code> property is
changed, every property whose name is an array index whose value is not smaller
than the new length is automatically deleted. This constraint applies only to
own properties of an Array object and is unaffected by
<code class="propname">length</code> or array index properties that may be
inherited from its prototypes.</p>

<p id="def-sparse">An object, <var>O</var>, is said to be <dfn>sparse</dfn> if
the following algorithm returns <span class="value">true</span>:</p>

<ol class="proc">
  <li>Let <var>len</var> be the result of calling the [[Get]] internal method
      of <var>O</var> with argument <span class="string
      value">"length"</span>.</li>

  <li>For each integer <var>i</var> in the range
      0&le;<var>i</var>&lt;<a href="#sec-9.6">ToUint32</a>(<var>len</var>)
    <ol class="block">
      <li>Let <var>elem</var> be the result of calling the [[GetOwnProperty]]
          internal method of <var>O</var> with argument
          <a href="#sec-9.8">ToString</a>(<var>i</var>).</li>

      <li>If <var>elem</var> is <span class="value">undefined</span>, return <span class="value">true</span>.</li>
    </ol>
  </li>

  <li>Return <span class="value">false</span>.</li>
</ol>

<section id="sec-15.4.1">
<h1><span class="secnum"><a href="#sec-15.4.1"
    title="link to this section">15.4.1</a></span>
    The Array Constructor Called as a Function</h1>

<p>When <span class="libname">Array</span> is called as a function rather than
as a constructor, it creates and initialises a new Array object. Thus the
function call <code class="expr">Array(<var>...</var>)</code> is equivalent to
the object creation expression <code class="expr">new
Array(<var>...</var>)</code> with the same arguments.</p>


<section id="sec-15.4.1.1">
<h1><span class="secnum"><a href="#sec-15.4.1.1"
    title="link to this section">15.4.1.1</a></span>
    Array ( [ item1 [ , item2 [ , ... ] ] ] )</h1>

<p>When the <span class="libname">Array</span> function is called the following
steps are taken:</p>

<ol class="proc">
  <li>Create and return a new Array object exactly as if the standard built-in
      constructor <span class="libname">Array</span> was used in a
      <code class="t">new</code> expression with the same arguments
      (<a href="#sec-15.4.2">15.4.2</a>).</li>
</ol>
</section>
</section>

<section id="sec-15.4.2">
<span class="pagemark" id="page132">PDF page 132 / printed page 122</span>
<h1><span class="secnum"><a href="#sec-15.4.2"
    title="link to this section">15.4.2</a></span>
    The Array Constructor</h1>

<p>When <span class="libname">Array</span> is called as part of a
<code class="t">new</code> expression, it is a constructor: it initialises the
newly created object.</p>


<section id="sec-15.4.2.1">
<h1><span class="secnum"><a href="#sec-15.4.2.1"
    title="link to this section">15.4.2.1</a></span>
    new Array ( [ item0 [ , item1 [ , ... ] ] ] )</h1>

<p>This description applies if and only if the Array constructor is given no
arguments or at least two arguments.</p>

<p>The [[Prototype]] internal property of the newly constructed object is set
to the original Array prototype object, the one that is the initial value of
<span class="libname">Array.prototype</span>
(<a href="#sec-15.4.3.1">15.4.3.1</a>).</p>

<p>The [[Class]] internal property of the newly constructed object is set to
<span class="string value">"Array"</span>.</p>

<p>The [[Extensible]] internal property of the newly constructed object is set
to <span class="value">true</span>.</p>

<p>The <code class="propname">length</code> property of the newly constructed
object is set to the number of arguments.</p>

<p>The <code class="propname">0</code> property of the newly constructed object
is set to <var>item0</var> (if supplied); the <code class="propname">1</code>
property of the newly constructed object is set to <var>item1</var> (if
supplied); and, in general, for as many arguments as there are, the
<var>k</var> property of the newly constructed object is set to argument
<var>k</var>, where the first argument is considered to be argument number 0.
These properties all have the attributes {[[Writable]]:
<span class="value">true</span>, [[Enumerable]]:
<span class="value">true</span>, [[Configurable]]:
<span class="value">true</span>}.</p>
</section>

<section id="sec-15.4.2.2">
<h1><span class="secnum"><a href="#sec-15.4.2.2"
    title="link to this section">15.4.2.2</a></span>
    new Array (len)</h1>

<p>The [[Prototype]] internal property of the newly constructed object is set
to the original Array prototype object, the one that is the initial value of
<span class="libname">Array.prototype</span>
(<a href="#sec-15.4.3.1">15.4.3.1</a>). The [[Class]] internal property of the
newly constructed object is set to <span class="string value">"Array"</span>.
The [[Extensible]] internal property of the newly constructed object is set to
<span class="value">true</span>.</p>

<p>If the argument <var>len</var> is a Number and
<a href="#sec-9.6">ToUint32</a>(<var>len</var>) is equal to <var>len</var>,
then the <code class="propname">length</code> property of the newly constructed
object is set to <a href="#sec-9.6">ToUint32</a>(<var>len</var>). If the
argument <var>len</var> is a Number and
<a href="#sec-9.6">ToUint32</a>(<var>len</var>) is not equal to <var>len</var>,
a <span class="errorname">RangeError</span> exception is thrown.</p>

<p>If the argument <var>len</var> is not a Number, then the
<code class="propname">length</code> property of the newly constructed object
is set to <span class="value">1</span> and the <code class="propname">0</code>
property of the newly constructed object is set to <var>len</var> with
attributes {[[Writable]]: <span class="value">true</span>, [[Enumerable]]:
<span class="value">true</span>, [[Configurable]]:
<span class="value">true</span>}..</p>
</section>
</section>

<section id="sec-15.4.3">
<h1><span class="secnum"><a href="#sec-15.4.3"
    title="link to this section">15.4.3</a></span>
    Properties of the Array Constructor</h1>

<p>The value of the [[Prototype]] internal property of the Array constructor is
<a href="#sec-15.3.4">the Function prototype object (15.3.4)</a>.</p>

<p>Besides the internal properties and the <code class="propname">length</code>
property (whose value is <span class="value">1</span>), the Array constructor
has the following properties:</p>


<section id="sec-15.4.3.1">
<h1><span class="secnum"><a href="#sec-15.4.3.1"
    title="link to this section">15.4.3.1</a></span>
    Array.prototype</h1>

<p>The initial value of <span class="libname">Array.prototype</span> is the
Array prototype object (<a href="#sec-15.4.4">15.4.4</a>).</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.4.3.2">
<h1><span class="secnum"><a href="#sec-15.4.3.2"
    title="link to this section">15.4.3.2</a></span>
    Array.isArray ( arg )</h1>

<p>The isArray function takes one argument <var>arg</var>, and returns the
Boolean value <span class="value">true</span> if the argument is an object
whose class internal property is <span class="string value">"Array"</span>;
otherwise it returns <span class="value">false</span>. The following steps are
taken:</p>

<ol class="proc">
  <li><span class="pagemark" id="page133">PDF page 133 / printed page
      123</span>If <a href="#def-type">Type</a>(<var>arg</var>) is not Object,
      return <span class="value">false</span>.</li>

  <li>If the value of the [[Class]] internal property of <var>arg</var> is
      <span class="string value">"Array"</span>, then return
      <span class="value">true</span>.</li>

  <li>Return <span class="value">false</span>.</li>
</ol>
</section>
</section>

<section id="sec-15.4.4">
<h1><span class="secnum"><a href="#sec-15.4.4"
    title="link to this section">15.4.4</a></span>
    Properties of the Array Prototype Object</h1>

<p>The value of the [[Prototype]] internal property of the Array prototype
object is the standard built-in Object prototype object
(<a href="#sec-15.2.4">15.2.4</a>).</p>

<p>The Array prototype object is itself an array; its [[Class]] is
<span class="string value">"Array"</span>, and it has a
<code class="propname">length</code> property (whose initial value is
<span class="value">+0</span>) and the special [[DefineOwnProperty]] internal
method described in <a href="#sec-15.4.5.1">15.4.5.1</a>.</p>

<p>In following descriptions of functions that are properties of the Array
prototype object, the phrase &ldquo;this object&rdquo; refers to the object
that is the <span class="this">this</span> value for the invocation of the
function. It is permitted for the <span class="this">this</span> to be an
object for which the value of the [[Class]] internal property is not
<span class="string value">"Array"</span>.</p>


<div class="note">
  <p><span class="nh">NOTE</span> The Array prototype object does not have a
  <code class="propname">valueOf</code> property of its own; however, it
  inherits the <code class="propname">valueOf</code> property from the standard
  built-in Object prototype Object.</p>
</div>

<section id="sec-15.4.4.1">
<h1><span class="secnum"><a href="#sec-15.4.4.1"
    title="link to this section">15.4.4.1</a></span>
    Array.prototype.constructor</h1>

<p>The initial value of
<span class="libname">Array.prototype.constructor</span> is the standard
built-in <span class="libname">Array</span> constructor.</p>
</section>

<section id="sec-15.4.4.2">
<h1><span class="secnum"><a href="#sec-15.4.4.2"
    title="link to this section">15.4.4.2</a></span>
    Array.prototype.toString ( )</h1>

<p>When the <span class="libname">toString</span> method is called, the
following steps are taken:</p>

<ol class="proc">
  <li>Let <var>array</var> be the result of calling
      <a href="#sec-9.9">ToObject</a> on the <span class="this">this</span>
      value.</li>

  <li>Let <var>func</var> be the result of calling the [[Get]] internal method
      of <var>array</var> with argument <span class="string
      value">"join"</span>.</li>

  <li>If <a href="#sec-9.11">IsCallable</a>(<var>func</var>) is
      <span class="value">false</span>, then let <var>func</var> be the
      standard built-in method Object.prototype.toString
      (<a href="#sec-15.2.4.2">15.2.4.2</a>).</li>

  <li>Return the result of calling the [[Call]] internal method of
      <var>func</var> providing <var>array</var> as the
      <span class="this">this</span> value and an empty arguments list.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">toString</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object.</p>

  <p>Therefore it can be transferred to other kinds of objects for use as a
  method. Whether the <span class="libname">toString</span> function can be
  applied successfully to a host object is implementation-dependent.</p>
</div>
</section>

<section id="sec-15.4.4.3">
<h1><span class="secnum"><a href="#sec-15.4.4.3"
    title="link to this section">15.4.4.3</a></span>
    Array.prototype.toLocaleString ( )</h1>

<p>The <a href="#def-array-element">elements</a> of the array are converted to
Strings using their <code class="propname">toLocaleString</code> methods, and
these Strings are then concatenated, separated by occurrences of a separator
String that has been derived in an implementation-defined locale-specific way.
The result of calling this function is intended to be analogous to the result
of <span class="libname">toString</span>, except that the result of this
function is intended to be locale-specific.</p>

<p>The result is calculated as follows:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>arrayLen</var> be the result of calling the [[Get]] internal
      method of <var>array</var> with argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>len</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>arrayLen</var>).</li>

  <li>Let <var>separator</var> be the String value for the list-separator
      String appropriate for the host environment&rsquo;s current locale (this
      is derived in an implementation-defined way).</li>

  <li>If <var>len</var> is zero, return the empty String.</li>

  <li>Let <var>firstElement</var> be the result of calling the [[Get]] internal
      method of <var>array</var> with argument <span class="string
      value">"0"</span>.</li>

  <li>If <var>firstElement</var> is <span class="value">undefined</span> or
      <span class="value">null</span>, then
    <ol class="block">
      <li>Let <var>R</var> be the empty String.</li>
    </ol>
  </li>

  <li>Else
    <ol class="block">
      <li>Let <var>elementObj</var> be
          <a href="#sec-9.9">ToObject</a>(<var>firstElement</var>).</li>

      <li><span class="pagemark" id="page134">PDF page 134 / printed page
          124</span>Let <var>func</var> be the result of calling the [[Get]]
          internal method of <var>elementObj</var> with argument
          <span class="string value">"toLocaleString"</span>.</li>

      <li>If <a href="#sec-9.11">IsCallable</a>(<var>func</var>) is
          <span class="value">false</span>, throw a <span class="errorname">TypeError</span>
          exception.</li>

      <li>Let <var>R</var> be the result of calling the [[Call]] internal
          method of <var>func</var> providing <var>elementObj</var> as the
          <span class="this">this</span> value and an empty arguments list.</li>
    </ol>
  </li>

  <li>Let <var>k</var> be <span class="value">1</span>.</li>

  <li>Repeat, while <var>k</var> &lt; <var>len</var>
    <ol class="block">
      <li>Let <var>S</var> be a String value produced by concatenating
          <var>R</var> and <var>separator</var>.</li>

      <li>Let <var>nextElement</var> be the result of calling the [[Get]] internal
          method of <var>array</var> with argument
          <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

      <li>If <var>nextElement</var> is <span class="value">undefined</span> or <span class="value">null</span>, then
        <ol class="block">
          <li>Let <var>R</var> be the empty String.</li>
        </ol>
      </li>

      <li>Else
        <ol class="block">
          <li>Let <var>elementObj</var>
              be <a href="#sec-9.9">ToObject</a>(<var>nextElement</var>).</li>

          <li>Let <var>func</var> be the result of calling the [[Get]] internal
              method of <var>elementObj</var> with argument <span class="string
              value">"toLocaleString"</span>.</li>

          <li>If <a href="#sec-9.11">IsCallable</a>(<var>func</var>) is
              <span class="value">false</span>, throw a <span class="errorname">TypeError</span>
              exception.</li>

          <li>Let <var>R</var> be the result of calling the [[Call]] internal
              method of <var>func</var> providing <var>elementObj</var> as the
              <span class="this">this</span> value and an empty arguments list.</li>
        </ol>
      </li>

      <li>Let <var>R</var> be a String value produced by concatenating
          <var>S</var> and <var>R</var>.</li>

      <li>Increase <var>k</var> by 1.</li>
    </ol>
  </li>

  <li>Return <var>R</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE 1</span> The first parameter to this function is
  likely to be used in a future version of this standard; it is recommended
  that implementations do not use this parameter position for anything
  else.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> The
  <span class="libname">toLocaleString</span> function is intentionally
  generic; it does not require that its <span class="this">this</span> value be
  an Array object. Therefore it can be transferred to other kinds of objects
  for use as a method. Whether the <span class="libname">toLocaleString</span>
  function can be applied successfully to a host object is
  implementation-dependent.</p>
</div>
</section>

<section id="sec-15.4.4.4">
<h1><span class="secnum"><a href="#sec-15.4.4.4"
    title="link to this section">15.4.4.4</a></span>
    Array.prototype.concat ( [ item1 [ , item2 [ , ... ] ] ] )</h1>

<p>When the <span class="libname">concat</span> method is called with zero or
more arguments <var>item1</var>, <var>item2</var>, etc., it returns an array
containing the <a href="#def-array-element">array elements</a> of the object
followed by the <a href="#def-array-element">array elements</a> of each
argument in order.</p>

<p>The following steps are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>A</var> be a new array created as if by the expression
      <code class="expr">new Array()</code> where
      <code class="expr">Array</code> is the standard built-in constructor with
      that name.</li>

  <li>Let <var>n</var> be 0.</li>

  <li>Let <var>items</var> be an internal <a href="#sec-8.8">List</a> whose
      first element is <var>O</var> and whose subsequent elements are, in left
      to right order, the arguments that were passed to this function
      invocation.</li>

  <li>Repeat, while <var>items</var> is not empty
    <ol class="block">
      <li>Remove the first element from <var>items</var> and let <var>E</var>
          be the value of the element.</li>

      <li>If the value of the [[Class]] internal property of <var>E</var>
          is <span class="string value">"Array"</span>, then
        <ol class="block">
          <li>Let <var>k</var> be 0.</li>

          <li>Let <var>len</var> be the result of calling the [[Get]] internal
              method of <var>E</var> with argument <span class="string
              value">"length"</span>.</li>

          <li>Repeat, while <var>k</var> &lt; <var>len</var>
            <ol class="block">
              <li>Let <var>P</var>
                  be <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

              <li>Let <var>exists</var> be the result of calling the
                  [[HasProperty]] internal method of <var>E</var> with
                  <var>P</var>.</li>

              <li>If <var>exists</var> is <span class="value">true</span>, then
                <ol class="block">
                  <li>Let <var>subElement</var> be the result of calling the
                      [[Get]] internal method of <var>E</var> with argument
                      <var>P</var>.</li>

                  <li>Call the [[DefineOwnProperty]] internal method
                      of <var>A</var> with arguments
                      <a href="#sec-9.8">ToString</a>(<var>n</var>), <a href="#sec-8.10">Property
                      Descriptor</a> {[[Value]]: <var>subElement</var>,
                      [[Writable]]: <span class="value">true</span>,
                      [[Enumerable]]: <span class="value">true</span>,
                      [[Configurable]]: <span class="value">true</span>}, and
                      <span class="value">false</span>.</li>
                </ol>
              </li>

              <li>Increase <var>n</var> by 1.</li>

              <li>Increase <var>k</var> by 1.</li>
            </ol>
          </li>
        </ol>
      </li>

      <li><span class="pagemark" id="page135">PDF page 135 / printed page
          125</span>Else, <var>E</var> is not an Array
        <ol class="block">
          <li>Call the [[DefineOwnProperty]] internal method of <var>A</var>
              with arguments <a href="#sec-9.8">ToString</a>(<var>n</var>),
              <a href="#sec-8.10">Property Descriptor</a> {[[Value]]: <var>E</var>, [[Writable]]:
              <span class="value">true</span>, [[Enumerable]]:
              <span class="value">true</span>, [[Configurable]]:
              <span class="value">true</span>}, and
              <span class="value">false</span>.</li>

          <li>Increase n by 1.</li>
        </ol>
      </li>
    </ol>
  </li>

  <li>Return <var>A</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">concat</span> method is <span class="value">1</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">concat</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object.</p>

  <p>Therefore it can be transferred to other kinds of objects for use as a
  method. Whether the <span class="libname">concat</span> function can be
  applied successfully to a host object is implementation-dependent.</p>
</div>
</section>

<section id="sec-15.4.4.5">
<h1><span class="secnum"><a href="#sec-15.4.4.5"
    title="link to this section">15.4.4.5</a></span>
    Array.prototype.join (separator)</h1>

<p>The <a href="#def-array-element">elements</a> of the array are converted to
Strings, and these Strings are then concatenated, separated by occurrences of
the <var>separator</var>. If no separator is provided, a single comma is used
as the separator.</p>

<p>The <span class="libname">join</span> method takes one argument,
<var>separator</var>, and performs the following steps:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>lenVal</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>len</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>lenVal</var>).</li>

  <li>If <var>separator</var> is <span class="value">undefined</span>, let
      <var>separator</var> be the single-character String <span class="string
      value">","</span>.</li>

  <li>Let <var>sep</var> be
      <a href="#sec-9.8">ToString</a>(<var>separator</var>).</li>

  <li>If <var>len</var> is zero, return the empty String.</li>

  <li>Let <var>element0</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with argument <span class="string
      value">"0"</span>.</li>

  <li>If <var>element0</var> is <span class="value">undefined</span> or
      <span class="value">null</span>, let <var>R</var> be the empty String;
      otherwise, Let <var>R</var> be
      <a href="#sec-9.8">ToString</a>(<var>element0</var>).</li>

  <li>Let <var>k</var> be <span class="value">1</span>.</li>

  <li>Repeat, while <var>k</var> &lt; <var>len</var>
    <ol class="block">
      <li>Let <var>S</var> be the String value produced by concatenating
          <var>R</var> and <var>sep</var>.</li>

      <li>Let <var>element</var> be the result of calling the [[Get]] internal
          method of <var>O</var> with
          argument <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

      <li>If <var>element</var> is <span class="value">undefined</span> or <span class="value">null</span>, Let <var>next</var>
          be the empty String; otherwise, let <var>next</var> be
          <a href="#sec-9.8">ToString</a>(<var>element</var>).</li>

      <li>Let <var>R</var> be a String value produced by concatenating
          <var>S</var> and <var>next</var>.</li>

      <li>Increase <var>k</var> by 1.</li>
    </ol>
  </li>

  <li>Return <var>R</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">join</span> method is <span class="value">1</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">join</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore, it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">join</span> function can be applied successfully to a
  host object is implementation-dependent.</p>
</div>
</section>

<section id="sec-15.4.4.6">
<h1><span class="secnum"><a href="#sec-15.4.4.6"
    title="link to this section">15.4.4.6</a></span>
    Array.prototype.pop ( )</h1>

<p>The last <a href="#def-array-element">element</a> of the array is removed
from the array and returned.</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>lenVal</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>len</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>lenVal</var>).</li>

  <li>If <var>len</var> is zero,
    <ol class="block">
      <li>Call the [[Put]] internal method of <var>O</var> with arguments
          <span class="string value">"length"</span>, 0, and
          <span class="value">true</span>.</li>

      <li>Return <span class="value">undefined</span>.</li>
    </ol>
  </li>

  <li>Else, <var>len</var> &gt; 0
    <ol class="block">
      <li>Let <var>indx</var>
          be <a href="#sec-9.8">ToString</a>(<var>len</var>&minus;1).</li>

      <li>Let <var>element</var> be the result of calling the [[Get]] internal
          method of <var>O</var> with argument <var>indx</var>.</li>

      <li>Call the [[Delete]] internal method of <var>O</var> with arguments
          <var>indx</var> and <span class="value">true</span>.</li>

      <li>Call the [[Put]] internal method of <var>O</var> with arguments
          <span class="string value">"length"</span>, <var>indx</var>, and
          <span class="value">true</span>.</li>

      <li><span class="pagemark" id="page136">PDF page 136 / printed page
          126</span>Return <var>element</var>.</li>
    </ol>
  </li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">pop</span> function
  is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">pop</span> function can be applied successfully to a
  host object is implementation-dependent.</p>
</div>
</section>

<section id="sec-15.4.4.7">
<h1><span class="secnum"><a href="#sec-15.4.4.7"
    title="link to this section">15.4.4.7</a></span>
    Array.prototype.push ( [ item1 [ , item2 [ , ... ] ] ] )</h1>

<p>The arguments are appended to the end of the array, in the order in which
they appear. The new length of the array is returned as the result of the
call.</p>

<p>When the <span class="libname">push</span> method is called with zero or
more arguments <var>item1</var>, <var>item2</var>, etc., the following steps
are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>lenVal</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>n</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>lenVal</var>).</li>

  <li>Let <var>items</var> be an internal <a href="#sec-8.8">List</a> whose
      elements are, in left to right order, the arguments that were passed to
      this function invocation.</li>

  <li>Repeat, while <var>items</var> is not empty
    <ol class="block">
      <li>Remove the first element from <var>items</var> and let <var>E</var>
          be the value of the element.</li>

      <li>Call the [[Put]] internal method of <var>O</var> with
          arguments <a href="#sec-9.8">ToString</a>(<var>n</var>),
          <var>E</var>, and <span class="value">true</span>.</li>

      <li>Increase <var>n</var> by 1.</li>
    </ol>
  </li>

  <li>Call the [[Put]] internal method of <var>O</var> with arguments
      <span class="string value">"length"</span>, <var>n</var>, and
      <span class="value">true</span>.</li>

  <li>Return <var>n</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">push</span> method is <span class="value">1</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">push</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">push</span> function can be applied successfully to a
  host object is implementation-dependent.</p>
</div>
</section>

<section id="sec-15.4.4.8">
<h1><span class="secnum"><a href="#sec-15.4.4.8"
    title="link to this section">15.4.4.8</a></span>
    Array.prototype.reverse ( )</h1>

<p>The <a href="#def-array-element">elements</a> of the array are rearranged so
as to reverse their order. The object is returned as the result of the
call.</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>lenVal</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>len</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>lenVal</var>).</li>

  <li>Let <var>middle</var> be
      <a href="#def-floor">floor</a>(<var>len</var>/2).</li>

  <li>Let <var>lower</var> be <span class="value">0</span>.</li>

  <li>Repeat, while <var>lower</var> &ne; <var>middle</var>
    <ol class="block">
      <li>Let <var>upper</var> be
          <var>len</var>&minus;<var>lower</var>&minus;1.</li>

      <li>Let <var>upperP</var>
          be <a href="#sec-9.8">ToString</a>(<var>upper</var>).</li>

      <li>Let <var>lowerP</var>
          be <a href="#sec-9.8">ToString</a>(<var>lower</var>).</li>

      <li>Let <var>lowerValue</var> be the result of calling the [[Get]]
          internal method of <var>O</var> with argument <var>lowerP</var>.</li>

      <li>Let <var>upperValue</var> be the result of calling the [[Get]]
          internal method of <var>O</var> with argument <var>upperP</var>
          .</li>

      <li>Let <var>lowerExists</var> be the result of calling the
          [[HasProperty]] internal method of <var>O</var> with argument
          <var>lowerP</var>.</li>

      <li>Let <var>upperExists</var> be the result of calling the
          [[HasProperty]] internal method of <var>O</var> with argument
          <var>upperP</var>.</li>

      <li>If <var>lowerExists</var> is <span class="value">true</span> and <var>upperExists</var>
          is <span class="value">true</span>, then
        <ol class="block">
          <li>Call the [[Put]] internal method of <var>O</var> with arguments
              <var>lowerP</var>, <var>upperValue</var>, and
              <span class="value">true</span> .</li>

          <li>Call the [[Put]] internal method of <var>O</var> with arguments
              <var>upperP</var>, <var>lowerValue</var>, and
              <span class="value">true</span> .</li>
        </ol>
      </li>

      <li>Else if <var>lowerExists</var> is <span class="value">false</span> and <var>upperExists</var>
          is <span class="value">true</span>, then
        <ol class="block">
          <li>Call the [[Put]] internal method of <var>O</var> with arguments
              <var>lowerP</var>, <var>upperValue</var>, and
              <span class="value">true</span> .</li>

          <li>Call the [[Delete]] internal method of <var>O</var>, with
              arguments <var>upperP</var> and
              <span class="value">true</span>.</li>
        </ol>
      </li>

      <li>Else if <var>lowerExists</var> is <span class="value">true</span> and <var>upperExists</var>
          is <span class="value">false</span>, then
        <ol class="block">
          <li>Call the [[Delete]] internal method of <var>O</var>, with
              arguments <var>lowerP</var> and
              <span class="value">true</span>.</li>

          <li><span class="pagemark" id="page137">PDF page 137 / printed page
              127</span>Call the [[Put]] internal method of <var>O</var> with
              arguments <var>upperP</var>, <var>lowerValue</var>, and
              <span class="value">true</span>.</li>
        </ol>
      </li>

      <li>Else, both <var>lowerExists</var> and <var>upperExists</var> are <span class="value">false</span>
        <ol class="block">
          <li>No action is required.</li>
        </ol>
      </li>

      <li>Increase <var>lower</var> by 1.</li>
    </ol>
  </li>

  <li>Return <var>O</var> .</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">reverse</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore, it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">reverse</span> function can be applied successfully to
  a host object is implementation-dependent.</p>
</div>
</section>

<section id="sec-15.4.4.9">
<h1><span class="secnum"><a href="#sec-15.4.4.9"
    title="link to this section">15.4.4.9</a></span>
    Array.prototype.shift ( )</h1>

<p>The first <a href="#def-array-element">element</a> of the array is removed
from the array and returned.</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>lenVal</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>len</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>lenVal</var>).</li>

  <li>If <var>len</var> is zero, then
    <ol class="block">
      <li>Call the [[Put]] internal method of <var>O</var> with arguments
          <span class="string value">"length"</span>, 0, and
          <span class="value">true</span>.</li>

      <li>Return <span class="value">undefined</span>.</li>
    </ol>
  </li>

  <li>Let <var>first</var> be the result of calling the [[Get]] internal method
      of <var>O</var> with argument <span class="string value">"0"</span>.</li>

  <li>Let <var>k</var> be 1.</li>

  <li>Repeat, while <var>k</var> &lt; <var>len</var>
    <ol class="block">
      <li>Let <var>from</var>
          be <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

      <li>Let <var>to</var>
          be <a href="#sec-9.8">ToString</a>(<var>k</var>&minus;1).</li>

      <li>Let <var>fromPresent</var> be the result of calling the
          [[HasProperty]] internal method of <var>O</var> with argument
          <var>from</var>.</li>

      <li>If <var>fromPresent</var> is <span class="value">true</span>, then
        <ol class="block">
          <li>Let <var>fromVal</var> be the result of calling the [[Get]]
              internal method of <var>O</var> with argument
              <var>from</var>.</li>

          <li>Call the [[Put]] internal method of <var>O</var> with arguments
              <var>to</var>, <var>fromVal</var>, and
              <span class="value">true</span>.</li>
        </ol>
      </li>

      <li>Else, <var>fromPresent</var> is <span class="value">false</span>
        <ol class="block">
          <li>Call the [[Delete]] internal method of <var>O</var> with
              arguments <var>to</var> and <span class="value">true</span>.</li>
        </ol>
      </li>

      <li>Increase <var>k</var> by 1.</li>
    </ol>
  </li>

  <li>Call the [[Delete]] internal method of <var>O</var> with arguments
      <a href="#sec-9.8">ToString</a>(<var>len</var>&minus;1) and
      <span class="value">true</span>.</li>

  <li>Call the [[Put]] internal method of <var>O</var> with arguments
      <span class="string value">"length"</span>, (<var>len</var>&minus;1) ,
      and <span class="value">true</span>.</li>

  <li>Return <var>first</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">shift</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">shift</span> function can be applied successfully to a
  host object is implementation-dependent.</p>
</div>
</section>

<section id="sec-15.4.4.10">
<h1><span class="secnum"><a href="#sec-15.4.4.10"
    title="link to this section">15.4.4.10</a></span>
    Array.prototype.slice (start, end)</h1>

<p>The <span class="libname">slice</span> method takes two arguments,
<var>start</var> and <var>end</var>, and returns an array containing the
<a href="#def-array-element">elements</a> of the array from element
<var>start</var> up to, but not including, element <var>end</var> (or through
the end of the array if <var>end</var> is
<span class="value">undefined</span>). If <var>start</var> is negative, it is
treated as <var>length</var>+<var>start</var> where <var>length</var> is the
length of the array. If <var>end</var> is negative, it is treated as
<var>length</var>+<var>end</var> where <var>length</var> is the length of the
array. The following steps are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>A</var> be a new array created as if by the expression
      <code class="expr">new Array()</code> where
      <code class="expr">Array</code> is the standard built-in constructor with
      that name.</li>

  <li>Let <var>lenVal</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>len</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>lenVal</var>).</li>

  <li>Let <var>relativeStart</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>start</var>).</li>

  <li>If <var>relativeStart</var> is negative, let <var>k</var> be
      max((<var>len</var> + <var>relativeStart</var>),0); else let <var>k</var>
      be min(<var>relativeStart</var>, <var>len</var>).</li>

  <li>If <var>end</var> is <span class="value">undefined</span>, let
      <var>relativeEnd</var> be <var>len</var>; else let <var>relativeEnd</var>
      be <a href="#sec-9.4">ToInteger</a>(<var>end</var>).</li>

  <li>If <var>relativeEnd</var> is negative, let <var>final</var> be
      max((<var>len</var> + <var>relativeEnd</var>),0); else let
      <var>final</var> be min(<var>relativeEnd</var>, <var>len</var>).</li>

  <li>Let <var>n</var> be 0.</li>

  <li>Repeat, while <var>k</var> &lt; <var>final</var> <span class="pagemark"
      id="page138">PDF page 138 / printed page 128</span>
    <ol class="block">
      <li>Let <var>Pk</var>
          be <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

      <li>Let <var>kPresent</var> be the result of calling the [[HasProperty]]
          internal method of <var>O</var> with argument <var>Pk</var>.</li>

      <li>If <var>kPresent</var> is <span class="value">true</span>, then
        <ol class="block">
          <li>Let <var>kValue</var> be the result of calling the [[Get]]
              internal method of <var>O</var> with argument <var>Pk</var>.</li>

          <li>Call the [[DefineOwnProperty]] internal method of <var>A</var>
              with arguments <a href="#sec-9.8">ToString</a>(<var>n</var>),
              <a href="#sec-8.10">Property Descriptor</a> {[[Value]]: <var>kValue</var>, [[Writable]]:
              <span class="value">true</span>, [[Enumerable]]:
              <span class="value">true</span>, [[Configurable]]:
              <span class="value">true</span>}, and
              <span class="value">false</span>.</li>
        </ol>
      </li>

      <li>Increase <var>k</var> by 1.</li>

      <li>Increase <var>n</var> by 1.</li>
    </ol>
  </li>

  <li>Return <var>A</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">slice</span> method is <span class="value">2</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">slice</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">slice</span> function can be applied successfully to a
  host object is implementation-dependent.</p>
</div>
</section>

<section id="sec-15.4.4.11">
<h1><span class="secnum"><a href="#sec-15.4.4.11"
    title="link to this section">15.4.4.11</a></span>
    Array.prototype.sort (comparefn)</h1>

<p>The <a href="#def-array-element">elements</a> of this array are sorted. The
sort is not necessarily stable (that is, elements that compare equal do not
necessarily remain in their original order). If <var>comparefn</var> is not
<span class="value">undefined</span>, it should be a function that accepts two
arguments <var>x</var> and <var>y</var> and returns a negative value if
<var>x</var> &lt; <var>y</var>, zero if <var>x</var> = <var>y</var>, or a
positive value if <var>x</var> &gt; <var>y</var>.</p>

<p>Let <var>obj</var> be the result of calling <a href="#sec-9.9">ToObject</a>
passing the <span class="this">this</span> value as the argument.</p>

<p>Let <var>len</var> be the result of applying Uint32 to the result of calling
the [[Get]] internal method of <var>obj</var> with argument <span class="string
value">"length"</span>.</p>

<p>If <var>comparefn</var> is not <span class="value">undefined</span> and is
not a consistent comparison function for the
<a href="#def-array-element">elements</a> of this array (see below), the
behaviour of <span class="libname">sort</span> is implementation-defined.</p>

<p>Let <var>proto</var> be the value of the [[Prototype]] internal property of
<var>obj</var>. If <var>proto</var> is not <span class="value">null</span> and
there exists an integer <var>j</var> such that all of the conditions below are
satisfied then the behaviour of <span class="libname">sort</span> is
implementation-defined:</p>

<ul>
  <li><var>obj</var> is <a href="#def-sparse">sparse</a>
      (<a href="#sec-15.4">15.4</a>)</li>

  <li>0 &le; <var>j</var> &lt; <var>len</var></li>

  <li>The result of calling the [[HasProperty]] internal method of
      <var>proto</var> with argument
      <a href="#sec-9.8">ToString</a>(<var>j</var>) is
      <span class="value">true</span>.</li>
</ul>

<p>The behaviour of <span class="libname">sort</span> is also implementation
defined if <var>obj</var> is <a href="#def-sparse">sparse</a> and any of the
following conditions are true:</p>

<ul>
  <li>The [[Extensible]] internal property of <var>obj</var> is
      <span class="value">false</span>.</li>

  <li>Any array index property of <var>obj</var> whose name is a nonnegative
      integer less than <var>len</var> is a data property whose
      [[Configurable]] attribute is <span class="value">false</span>.</li>
</ul>

<p>The behaviour of <span class="libname">sort</span> is also implementation
defined if any array index property of <var>obj</var> whose name is a
nonnegative integer less than <var>len</var> is an accessor property or is a
data property whose [[Writable]] attribute is
<span class="value">false</span>.</p>

<p>Otherwise, the following steps are taken.</p>

<ol class="proc">
  <li>Perform an implementation-dependent sequence of calls to the [[Get]] ,
      [[Put]], and [[Delete]] internal methods of <var>obj</var> and to
      SortCompare (described below), where the first argument for each call to
      [[Get]], [[Put]], or [[Delete]] is a nonnegative integer less than
      <var>len</var> and where the arguments for calls to SortCompare are
      results of previous calls to the [[Get]] internal method. The throw
      argument to the [[Put]] and [[Delete]] internal methods will be the value
      <span class="value">true</span>. If <var>obj</var> is not
      <a href="#def-sparse">sparse</a> then [[Delete]] must not be called.</li>

  <li>Return <var>obj</var>.</li>
</ol>

<p><span class="pagemark" id="page139">PDF page 139 / printed page 129</span>
The returned object must have the following two properties.</p>

<ul>
  <li>There must be some mathematical permutation &pi; of the nonnegative
      integers less than <var>len</var>, such that for every nonnegative
      integer <var>j</var> less than <var>len</var>, if property
      old[<var>j</var>] existed, then new[&pi;(<var>j</var>)] is exactly the
      same value as old[<var>j</var>]. But if property old[<var>j</var>] did
      not exist, then new[&pi;(<var>j</var>)] does not exist.</li>

  <li>Then for all nonnegative integers <var>j</var> and <var>k</var>, each
      less than <var>len</var>, if SortCompare(<var>j</var>,<var>k</var>) &lt;
      0 (see SortCompare below), then &pi;(<var>j</var>) &lt;
      &pi;(<var>k</var>).</li>
</ul>

<p>Here the notation old[<var>j</var>] is used to refer to the hypothetical
result of calling the [[Get]] internal method of <var>obj</var> with argument
<var>j</var> before this function is executed, and the notation
new[<var>j</var>] to refer to the hypothetical result of calling the [[Get]]
internal method of <var>obj</var> with argument <var>j</var> after this
function has been executed.</p>

<p>A function <var>comparefn</var> is a consistent comparison function for a
set of values <var>S</var> if all of the requirements below are met for all
values <var>a</var>, <var>b</var>, and <var>c</var> (possibly the same value)
in the set <var>S</var>: The notation <var>a</var> &lt;<sub>CF</sub>
<var>b</var> means <var>comparefn</var>(<var>a</var>,<var>b</var>) &lt; 0;
<var>a</var> =<sub>CF</sub> <var>b</var> means
<var>comparefn</var>(<var>a</var>,<var>b</var>) = 0 (of either sign); and
<var>a</var> &gt;<sub>CF</sub> <var>b</var> means
<var>comparefn</var>(<var>a</var>,<var>b</var>) &gt; 0.</p>

<ul>

  <li>Calling <var>comparefn</var>(<var>a</var>,<var>b</var>) always returns
      the same value <var>v</var> when given a specific pair of values
      <var>a</var> and <var>b</var> as its two arguments. Furthermore,
      <a href="#def-type">Type</a>(<var>v</var>) is Number, and <var>v</var> is
      not NaN. Note that this implies that exactly one of <var>a</var>
      &lt;<sub>CF</sub> <var>b</var>, <var>a</var> =<sub>CF</sub> <var>b</var>,
      and <var>a</var> &gt;<sub>CF</sub> <var>b</var> will be true for a given
      pair of <var>a</var> and <var>b</var>.</li>

  <li>Calling <var>comparefn</var>(<var>a</var>,<var>b</var>) does not modify
      the <span class="this">this</span> object.</li>

  <li><var>a</var> =<sub>CF</sub> <var>a</var> (reflexivity)</li>

  <li>If <var>a</var> =<sub>CF</sub> <var>b</var>, then <var>b</var>
      =<sub>CF</sub> <var>a</var> (symmetry)</li>

  <li>If <var>a</var> =<sub>CF</sub> <var>b</var> and <var>b</var>
      =<sub>CF</sub> <var>c</var>, then <var>a</var> =<sub>CF</sub>
      <var>c</var> (transitivity of =<sub>CF</sub>)</li>

  <li>If <var>a</var> &lt;<sub>CF</sub> <var>b</var> and <var>b</var>
      &lt;<sub>CF</sub> <var>c</var>, then <var>a</var> &lt;<sub>CF</sub>
      <var>c</var> (transitivity of &lt;<sub>CF</sub>)</li>

  <li>If <var>a</var> &gt;<sub>CF</sub> <var>b</var> and <var>b</var>
      &gt;<sub>CF</sub> <var>c</var>, then <var>a</var> &gt;<sub>CF</sub>
      <var>c</var> (transitivity of &gt;<sub>CF</sub>)</li>
</ul>

<div class="note">
  <p><span class="nh">NOTE</span> The above conditions are necessary and
  sufficient to ensure that <var>comparefn</var> divides the set <var>S</var>
  into equivalence classes and that these equivalence classes are totally
  ordered.</p>
</div>


<p>When the SortCompare abstract operation is called with two arguments
<var>j</var> and <var>k</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>jString</var> be
      <a href="#sec-9.8">ToString</a>(<var>j</var>).</li>

  <li>Let <var>kString</var> be
      <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

  <li>Let <var>hasj</var> be the result of calling the [[HasProperty]] internal
      method of <var>obj</var> with argument <var>jString</var>.</li>

  <li>Let <var>hask</var> be the result of calling the [[HasProperty]] internal
      method of <var>obj</var> with argument <var>kString</var>.</li>

  <li>If <var>hasj</var> and <var>hask</var> are both
      <span class="value">false</span>, then return
      <span class="value">+0</span>.</li>

  <li>If <var>hasj</var> is <span class="value">false</span>, then return
      <span class="value">1</span>.</li>

  <li>If <var>hask</var> is <span class="value">false</span>, then return
      <span class="value">&minus;1</span>.</li>

  <li>Let <var>x</var> be the result of calling the [[Get]] internal method of
      <var>obj</var> with argument <var>jString</var>.</li>

  <li>Let <var>y</var> be the result of calling the [[Get]] internal method of
      <var>obj</var> with argument <var>kString</var>.</li>

  <li>If <var>x</var> and <var>y</var> are both
      <span class="value">undefined</span>, return
      <span class="value">+0</span>.</li>

  <li>If <var>x</var> is <span class="value">undefined</span>, return
      <span class="value">1</span>.</li>

  <li>If <var>y</var> is <span class="value">undefined</span>, return
      <span class="value">&minus;1</span>.</li>

  <li>If the argument <var>comparefn</var> is not
      <span class="value">undefined</span>, then
    <ol class="block">
      <li>If <a href="#sec-9.11">IsCallable</a>(<var>comparefn</var>) is
          <span class="value">false</span>, throw a <span class="errorname">TypeError</span>
          exception.</li>

      <li>Return the result of calling the [[Call]] internal method of
          <var>comparefn</var> passing <span class="value">undefined</span> as
          the <span class="this">this</span> value and with arguments <var>x</var> and
          <var>y</var>.</li>
    </ol>
  </li>

  <li>Let <var>xString</var> be
      <a href="#sec-9.8">ToString</a>(<var>x</var>).</li>

  <li>Let <var>yString</var> be
      <a href="#sec-9.8">ToString</a>(<var>y</var>).</li>

  <li>If <var>xString</var> &lt; <var>yString</var>, return
      <span class="value">&minus;1</span>.</li>

  <li>If <var>xString</var> &gt; <var>yString</var>, return
      <span class="value">1</span>.</li>

  <li>Return <span class="value">+0</span>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE 1</span> Because non-existent property values always
  compare greater than <span class="value">undefined</span> property values,
  and <span class="value">undefined</span> always compares greater than any
  other value, undefined property values always sort to the end of the result,
  followed by non-existent property values.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> The <span class="libname">sort</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore, it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">sort</span> function can be applied successfully to a
  host object is implementation-dependent.</p>
</div>


<span class="pagemark" id="page140">PDF page 140 / printed page 130</span>
</section>

<section id="sec-15.4.4.12">
<h1><span class="secnum"><a href="#sec-15.4.4.12"
    title="link to this section">15.4.4.12</a></span>
    Array.prototype.splice (start, deleteCount [ , item1 [ , item2 [ , ... ] ] ] )</h1>

<p>When the <span class="libname">splice</span> method is called with two or
more arguments <var>start</var>, <var>deleteCount</var> and (optionally)
<var>item1</var>, <var>item2</var>, etc., the <var>deleteCount</var>
<a href="#def-array-element">elements</a> of the array starting at array index
<var>start</var> are replaced by the arguments <var>item1</var>,
<var>item2</var>, etc. An Array object containing the deleted
<a href="#def-array-element">elements</a> (if any) is returned. The following
steps are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>A</var> be a new array created as if by the expression
      <code class="expr">new Array()</code> where
      <code class="expr">Array</code> is the standard built-in constructor with
      that name.</li>

  <li>Let <var>lenVal</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>len</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>lenVal</var>).</li>

  <li>Let <var>relativeStart</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>start</var>).</li>

  <li>If <var>relativeStart</var> is negative, let <var>actualStart</var> be
      max((<var>len</var> + <var>relativeStart</var>),0); else let
      <var>actualStart</var> be min(<var>relativeStart</var>,
      <var>len</var>).</li>

  <li>Let <var>actualDeleteCount</var> be
      min(max(<a href="#sec-9.4">ToInteger</a>(<var>deleteCount</var>),0),
      <var>len</var> &minus; <var>actualStart</var>).</li>

  <li>Let <var>k</var> be 0.</li>

  <li>Repeat, while <var>k</var> &lt; <var>actualDeleteCount</var>
    <ol class="block">
      <li>Let <var>from</var>
          be <a href="#sec-9.8">ToString</a>(<var>relativeStart</var>+<var>k</var>).</li>

      <li>Let <var>fromPresent</var> be the result of calling the
          [[HasProperty]] internal method of <var>O</var> with argument
          <var>from</var>.</li>

      <li>If <var>fromPresent</var> is <span class="value">true</span>, then
        <ol class="block">
          <li>Let <var>fromValue</var> be the result of calling the [[Get]]
              internal method of <var>O</var> with argument
              <var>from</var>.</li>

          <li>Call the [[DefineOwnProperty]] internal method of <var>A</var>
              with arguments <a href="#sec-9.8">ToString</a>(<var>k</var>),
              <a href="#sec-8.10">Property Descriptor</a> {[[Value]]: <var>fromValue</var>,
              [[Writable]]: <span class="value">true</span>, [[Enumerable]]:
              <span class="value">true</span>, [[Configurable]]:
              <span class="value">true</span>}, and
              <span class="value">false</span>.</li>
        </ol>
      </li>

      <li>Increment <var>k</var> by 1.</li>
    </ol>
  </li>

  <li>Let <var>items</var> be an internal <a href="#sec-8.8">List</a> whose
      elements are, in left to right order, the portion of the actual argument
      list starting with <var>item1</var>. The list will be empty if no such
      items are present.</li>

  <li>Let <var>itemCount</var> be the number of elements in
      <var>items</var>.</li>

  <li>If <var>itemCount</var> &lt; <var>actualDeleteCount</var>, then
    <ol class="block">
      <li>Let <var>k</var> be <var>actualStart</var>.</li>

      <li>Repeat, while <var>k</var> &lt; (<var>len</var>
          &minus; <var>actualDeleteCount</var>)
        <ol class="block">
          <li>Let <var>from</var>
              be <a href="#sec-9.8">ToString</a>(<var>k</var>+<var>actualDeleteCount</var>).</li>

          <li>Let <var>to</var>
              be <a href="#sec-9.8">ToString</a>(<var>k</var>+<var>itemCount</var>).</li>

          <li>Let <var>fromPresent</var> be the result of calling the
              [[HasProperty]] internal method of <var>O</var> with argument
              <var>from</var>.</li>

          <li>If <var>fromPresent</var> is <span class="value">true</span>, then
            <ol class="block">
              <li>Let <var>fromValue</var> be the result of calling the [[Get]]
                  internal method of <var>O</var> with argument
                  <var>from</var>.</li>

              <li>Call the [[Put]] internal method of <var>O</var> with
                  arguments <var>to</var>, <var>fromValue</var>, and
                  <span class="value">true</span>.</li>
            </ol>
          </li>

          <li>Else, <var>fromPresent</var> is <span class="value">false</span>
            <ol class="block">
              <li>Call the [[Delete]] internal method of <var>O</var> with
                  arguments <var>to</var> and
                  <span class="value">true</span>.</li>
            </ol>
          </li>

          <li>Increase k by 1.</li>
        </ol>
      </li>

      <li>Let <var>k</var> be <var>len</var>.</li>

      <li>Repeat, while <var>k</var> &gt; (<var>len</var>
          &minus; <var>actualDeleteCount</var> + <var>itemCount</var>)
        <ol class="block">
          <li>Call the [[Delete]] internal method of <var>O</var> with
              arguments <a href="#sec-9.8">ToString</a>(<var>k</var>&minus;1)
              and <span class="value">true</span>.</li>

          <li>Decrease <var>k</var> by 1.</li>
        </ol>
      </li>
    </ol>
  </li>

  <li>Else if <var>itemCount</var> &gt; <var>actualDeleteCount</var>, then
    <ol class="block">
      <li>Let <var>k</var> be (<var>len</var> &minus;
          <var>actualDeleteCount</var>).</li>

      <li>Repeat, while <var>k</var> &gt; <var>actualStart</var>
        <ol class="block">
          <li>Let <var>from</var>
              be <a href="#sec-9.8">ToString</a>(<var>k</var> +
              <var>actualDeleteCount</var> &minus; 1).</li>

          <li>Let <var>to</var> be <a href="#sec-9.8">ToString</a>(<var>k</var>
              + <var>itemCount</var> &minus; 1).</li>

          <li>Let <var>fromPresent</var> be the result of calling the
              [[HasProperty]] internal method of <var>O</var> with argument
              <var>from</var>.</li>

          <li>If <var>fromPresent</var> is <span class="value">true</span>, then
            <ol class="block">
              <li>Let <var>fromValue</var> be the result of calling the [[Get]]
                  internal method of <var>O</var> with argument
                  <var>from</var>.</li>

              <li>Call the [[Put]] internal method of <var>O</var> with
                  arguments <var>to</var>, <var>fromValue</var>, and
                  <span class="value">true</span>.</li>
            </ol>
          </li>

          <li>Else, <var>fromPresent</var> is <span class="value">false</span>
            <ol class="block">
              <li>Call the [[Delete]] internal method of <var>O</var> with
                  argument <var>to</var> and
                  <span class="value">true</span>.</li>
            </ol>
          </li>

          <li><span class="pagemark" id="page141">PDF page 141 / printed page
              131</span>Decrease <var>k</var> by 1.</li>
        </ol>
      </li>
    </ol>
  </li>

  <li>Let <var>k</var> be <var>actualStart</var>.</li>

  <li>Repeat, while <var>items</var> is not empty
    <ol class="block">
      <li>Remove the first element from <var>items</var> and let <var>E</var>
          be the value of that element.</li>

      <li>Call the [[Put]] internal method of <var>O</var> with
          arguments <a href="#sec-9.8">ToString</a>(<var>k</var>),
          <var>E</var>, and <span class="value">true</span>.</li>

      <li>Increase <var>k</var> by 1.</li>
    </ol>
  </li>

  <li>Call the [[Put]] internal method of <var>O</var> with arguments
      <span class="string value">"length"</span>, (<var>len</var> &minus;
      <var>actualDeleteCount</var> + <var>itemCount</var>), and
      <span class="value">true</span>.</li>

  <li>Return <var>A</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">splice</span> method is <span class="value">2</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">splice</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">splice</span> function can be applied successfully to a
  host object is implementation-dependent.</p>
</div>
</section>

<section id="sec-15.4.4.13">
<h1><span class="secnum"><a href="#sec-15.4.4.13"
    title="link to this section">15.4.4.13</a></span>
    Array.prototype.unshift ( [ item1 [ , item2 [ , ... ] ] ] )</h1>

<p>The arguments are prepended to the start of the array, such that their order
within the array is the same as the order in which they appear in the argument
list.</p>

<p>When the <span class="libname">unshift</span> method is called with zero or
more arguments <var>item1</var>, <var>item2</var>, etc., the following steps
are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>lenVal</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>len</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>lenVal</var>).</li>

  <li>Let <var>argCount</var> be the number of actual arguments.</li>

  <li>Let <var>k</var> be <var>len</var>.</li>

  <li>Repeat, while <var>k</var> &gt; 0,
    <ol class="block">
      <li>Let <var>from</var>
          be <a href="#sec-9.8">ToString</a>(<var>k</var>&minus;1).</li>

      <li>Let <var>to</var>
          be <a href="#sec-9.8">ToString</a>(<var>k</var>+<var>argCount</var>
          &minus;1).</li>

      <li>Let <var>fromPresent</var> be the result of calling the
          [[HasProperty]] internal method of <var>O</var> with argument
          <var>from</var>.</li>

      <li>If <var>fromPresent</var> is <span class="value">true</span>, then
        <ol class="block">
          <li>Let <var>fromValue</var> be the result of calling the [[Get]]
              internal method of <var>O</var> with argument
              <var>from</var>.</li>

          <li>Call the [[Put]] internal method of <var>O</var> with arguments
              <var>to</var>, <var>fromValue</var>, and
              <span class="value">true</span>.</li>
        </ol>
      </li>

      <li>Else, <var>fromPresent</var> is <span class="value">false</span>
        <ol class="block">
          <li>Call the [[Delete]] internal method of <var>O</var> with
              arguments <var>to</var>, and
              <span class="value">true</span>.</li>
        </ol>
      </li>

      <li>Decrease <var>k</var> by 1.</li>
    </ol>
  </li>

  <li>Let <var>j</var> be 0.</li>

  <li>Let <var>items</var> be an internal <a href="#sec-8.8">List</a> whose
      elements are, in left to right order, the arguments that were passed to
      this function invocation.</li>

  <li>Repeat, while <var>items</var> is not empty
    <ol class="block">
      <li>Remove the first element from <var>items</var> and let <var>E</var>
          be the value of that element.</li>

      <li>Call the [[Put]] internal method of <var>O</var> with
          arguments <a href="#sec-9.8">ToString</a>(<var>j</var>),
          <var>E</var>, and <span class="value">true</span>.</li>

      <li>Increase <var>j</var> by 1.</li>
    </ol>
  </li>

  <li>Call the [[Put]] internal method of <var>O</var> with arguments
      <span class="string value">"length"</span>,
      <var>len</var>+<var>argCount</var>, and
      <span class="value">true</span>.</li>

  <li>Return <var>len</var>+<var>argCount</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">unshift</span> method is
<span class="value">1</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">unshift</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">unshift</span> function can be applied successfully to
  a host object is implementation-dependent.</p>
</div>


<span class="pagemark" id="page142">PDF page 142 / printed page 132</span>
</section>

<section id="sec-15.4.4.14">
<h1><span class="secnum"><a href="#sec-15.4.4.14"
    title="link to this section">15.4.4.14</a></span>
    Array.prototype.indexOf ( searchElement [ , fromIndex ] )</h1>

<p><span class="libname">indexOf</span> compares <var>searchElement</var> to
the elements of the array, in ascending order, using the internal
<a href="#sec-11.9.6">Strict Equality Comparison Algorithm (11.9.6)</a>, and if
found at one or more positions, returns the index of the first such position;
otherwise, <span class="value">&minus;1</span> is returned.</p>

<p>The optional second argument <var>fromIndex</var> defaults to 0 (i.e. the
whole array is searched). If it is greater than or equal to the length of the
array, <span class="value">&minus;1</span> is returned, i.e. the array will not
be searched. If it is negative, it is used as the offset from the end of the
array to compute <var>fromIndex</var>. If the computed index is less than 0,
the whole array will be searched.</p>

<p>When the <span class="libname">indexOf</span> method is called with one or
two arguments, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>lenValue</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with the argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>len</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>lenValue</var>).</li>

  <li>If <var>len</var> is 0, return <span class="value">&minus;1</span>.</li>

  <li>If argument <var>fromIndex</var> was passed let <var>n</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>fromIndex</var>); else let
      <var>n</var> be 0.</li>

  <li>If <var>n</var> &ge; <var>len</var>, return
      <span class="value">&minus;1</span>.</li>

  <li>If <var>n</var> &ge; 0, then
    <ol class="block">
      <li>Let <var>k</var> be <var>n</var>.</li>
    </ol>
  </li>

  <li>Else, <var>n</var>&lt;0
    <ol class="block">
      <li>Let <var>k</var> be <var>len</var>
          &minus; <a href="#def-abs">abs</a>(<var>n</var>).</li>

      <li>If <var>k</var> is less than 0, then let <var>k</var> be 0.</li>
    </ol>
  </li>

  <li>Repeat, while <var>k</var>&lt;<var>len</var>
    <ol class="block">
      <li>Let <var>kPresent</var> be the result of calling the [[HasProperty]]
          internal method of <var>O</var> with argument
          <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

      <li>If <var>kPresent</var> is <span class="value">true</span>, then
        <ol class="block">
          <li>Let <var>elementK</var> be the result of calling the [[Get]]
              internal method of <var>O</var> with the
              argument <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

          <li>Let <var>same</var> be the result of applying the Strict Equality
              Comparison Algorithm to <var>searchElement</var> and
              <var>elementK</var>.</li>

          <li>If <var>same</var> is <span class="value">true</span>, return
              <var>k</var>.</li>
        </ol>
      </li>

      <li>Increase <var>k</var> by 1.</li>
    </ol>
  </li>

  <li>Return <span class="value">&minus;1</span>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">indexOf</span> method is
<span class="value">1</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">indexOf</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">indexOf</span> function can be applied successfully to
  a host object is implementation-dependent.</p>
</div>
</section>

<section id="sec-15.4.4.15">
<h1><span class="secnum"><a href="#sec-15.4.4.15"
    title="link to this section">15.4.4.15</a></span>
    Array.prototype.lastIndexOf ( searchElement [ , fromIndex ] )</h1>

<p><span class="libname">lastIndexOf</span> compares <var>searchElement</var>
to the elements of the array in descending order using the internal
<a href="#sec-11.9.6">Strict Equality Comparison Algorithm (11.9.6)</a>, and if
found at one or more positions, returns the index of the last such position;
otherwise, <span class="value">&minus;1</span> is returned.</p>

<p>The optional second argument <var>fromIndex</var> defaults to the
array&rsquo;s length (i.e. the whole array is searched). If it is greater than
or equal to the length of the array, the whole array will be searched. If it is
negative, it is used as the offset from the end of the array to compute
<var>fromIndex</var>. If the computed index is less than 0,
<span class="value">&minus;1</span> is returned.</p>

<p>When the <span class="libname">lastIndexOf</span> method is called with one
or two arguments, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>lenValue</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with the argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>len</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>lenValue</var>).</li>

  <li>If <var>len</var> is 0, return <span class="value">&minus;1</span>.</li>

  <li>If argument <var>fromIndex</var> was passed let <var>n</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>fromIndex</var>); else let
      <var>n</var> be <var>len</var>.</li>

  <li><span class="pagemark" id="page143">PDF page 143 / printed page
      133</span>If <var>n</var> &ge; 0, then let <var>k</var> be
      min(<var>n</var>, <var>len</var> &minus; 1).</li>

  <li>Else, <var>n</var> &lt; 0
    <ol class="block">
      <li>Let <var>k</var> be <var>len</var>
          &minus; <a href="#def-abs">abs</a>(<var>n</var>).</li>
    </ol>
  </li>

  <li>Repeat, while <var>k</var>&ge;0
    <ol class="block">
      <li>Let <var>kPresent</var> be the result of calling the [[HasProperty]]
          internal method of <var>O</var> with argument
          <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

      <li>If <var>kPresent</var> is <span class="value">true</span>, then
        <ol class="block">
          <li>Let <var>elementK</var> be the result of calling the [[Get]]
              internal method of <var>O</var> with the
              argument <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

          <li>Let <var>same</var> be the result of applying the Strict Equality
              Comparision Algorithm to <var>searchElement</var> and
              <var>elementK</var>.</li>

          <li>If <var>same</var> is <span class="value">true</span>, return
              <var>k</var>.</li>
        </ol>
      </li>

      <li>Decrease <var>k</var> by 1.</li>
    </ol>
  </li>

  <li>Return <span class="value">&minus;1</span>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">lastIndexOf</span> method is
<span class="value">1</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">lastIndexOf</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">lastIndexOf</span> function can be applied successfully
  to a host object is implementation-dependent.</p>
</div>
</section>

<section id="sec-15.4.4.16">
<h1><span class="secnum"><a href="#sec-15.4.4.16"
    title="link to this section">15.4.4.16</a></span>
    Array.prototype.every ( callbackfn [ , thisArg ] )</h1>

<p><var>callbackfn</var> should be a function that accepts three arguments and
returns a value that is coercible to the Boolean value
<span class="value">true</span> or <span class="value">false</span>.
<span class="libname">every</span> calls <var>callbackfn</var> once for each
<a href="#def-array-element">element</a> present in the array, in ascending
order, until it finds one where <var>callbackfn</var> returns
<span class="value">false</span>. If such an element is found,
<span class="libname">every</span> immediately returns
<span class="value">false</span>. Otherwise, if <var>callbackfn</var> returned
<span class="value">true</span> for all elements,
<span class="libname">every</span> will return <span class="value">true</span>.
<var>callbackfn</var> is called only for elements of the array which actually
exist; it is not called for missing elements of the array.</p>

<p>If a <var>thisArg</var> parameter is provided, it will be used as the
<span class="this">this</span> value for each invocation of
<var>callbackfn</var>. If it is not provided,
<span class="value">undefined</span> is used instead.</p>

<p><var>callbackfn</var> is called with three arguments: the value of the
element, the index of the element, and the object being traversed.</p>

<p><span class="libname">every</span> does not directly mutate the object on
which it is called but the object may be mutated by the calls to
<var>callbackfn</var>.</p>

<p>The range of elements processed by <span class="libname">every</span> is set
before the first call to <var>callbackfn</var>. Elements which are appended to
the array after the call to <span class="libname">every</span> begins will not
be visited by <var>callbackfn</var>. If existing elements of the array are
changed, their value as passed to <var>callbackfn</var> will be the value at
the time <span class="libname">every</span> visits them; elements that are
deleted after the call to <span class="libname">every</span> begins and before
being visited are not visited. <span class="libname">every</span> acts like the
&ldquo;for all&rdquo; quantifier in mathematics. In particular, for an empty
array, it returns <span class="value">true</span>.</p>

<p>When the <span class="libname">every</span> method is called with one or two
arguments, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>lenValue</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with the argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>len</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>lenValue</var>).</li>

  <li>If <a href="#sec-9.11">IsCallable</a>(<var>callbackfn</var>) is
      <span class="value">false</span>, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>If <var>thisArg</var> was supplied, let <var>T</var> be
      <var>thisArg</var>; else let <var>T</var> be
      <span class="value">undefined</span>.</li>

  <li>Let <var>k</var> be 0.</li>

  <li>Repeat, while <var>k</var> &lt; <var>len</var>
    <ol class="block">
      <li>Let <var>Pk</var>
          be <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

      <li>Let <var>kPresent</var> be the result of calling the [[HasProperty]]
          internal method of <var>O</var> with argument <var>Pk</var>.</li>

      <li>If <var>kPresent</var> is <span class="value">true</span>, then
        <ol class="block">
          <li>Let <var>kValue</var> be the result of calling the [[Get]]
              internal method of <var>O</var> with argument <var>Pk</var>.</li>

          <li>Let <var>testResult</var> be the result of calling the [[Call]]
              internal method of <var>callbackfn</var> with <var>T</var> as the
              <span class="this">this</span> value and argument list containing <var>kValue</var>,
              <var>k</var>, and <var>O</var>.</li>

          <li><span class="pagemark" id="page144">PDF page 144 / printed page
              134</span>If
              <a href="#sec-9.2">ToBoolean</a>(<var>testResult</var>) is
              <span class="value">false</span>, return
              <span class="value">false</span>.</li>
        </ol>
      </li>

      <li>Increase <var>k</var> by 1.</li>
    </ol>
  </li>

  <li>Return <span class="value">true</span>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">every</span> method is <span class="value">1</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">every</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">every</span> function can be applied successfully to a
  host object is implementation-dependent.</p>
</div>
</section>

<section id="sec-15.4.4.17">
<h1><span class="secnum"><a href="#sec-15.4.4.17"
    title="link to this section">15.4.4.17</a></span>
    Array.prototype.some ( callbackfn [ , thisArg ] )</h1>

<p><var>callbackfn</var> should be a function that accepts three arguments and
returns a value that is coercible to the Boolean value
<span class="value">true</span> or <span class="value">false</span>.
<span class="libname">some</span> calls <var>callbackfn</var> once for each
<a href="#def-array-element">element</a> present in the array, in ascending
order, until it finds one where <var>callbackfn</var> returns
<span class="value">true</span>. If such an element is found,
<span class="libname">some</span> immediately returns
<span class="value">true</span>. Otherwise, <span class="libname">some</span>
returns <span class="value">false</span>. <var>callbackfn</var> is called only
for elements of the array which actually exist; it is not called for missing
elements of the array.</p>

<p>If a <var>thisArg</var> parameter is provided, it will be used as the
<span class="this">this</span> value for each invocation of
<var>callbackfn</var>. If it is not provided,
<span class="value">undefined</span> is used instead.</p>

<p><var>callbackfn</var> is called with three arguments: the value of the
element, the index of the element, and the object being traversed.</p>

<p><span class="libname">some</span> does not directly mutate the object on
which it is called but the object may be mutated by the calls to
<var>callbackfn</var>.</p>

<p>The range of elements processed by <span class="libname">some</span> is set
before the first call to <var>callbackfn</var>. Elements that are appended to
the array after the call to <span class="libname">some</span> begins will not
be visited by <var>callbackfn</var>. If existing elements of the array are
changed, their value as passed to <var>callbackfn</var> will be the value at
the time that <span class="libname">some</span> visits them; elements that are
deleted after the call to <span class="libname">some</span> begins and before
being visited are not visited. <span class="libname">some</span> acts like the
&ldquo;exists&rdquo; quantifier in mathematics. In particular, for an empty
array, it returns <span class="value">false</span>.</p>

<p>When the <span class="libname">some</span> method is called with one or two
arguments, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>lenValue</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with the argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>len</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>lenValue</var>).</li>

  <li>If <a href="#sec-9.11">IsCallable</a>(<var>callbackfn</var>) is
      <span class="value">false</span>, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>If <var>thisArg</var> was supplied, let <var>T</var> be
      <var>thisArg</var>; else let <var>T</var> be
      <span class="value">undefined</span>.</li>

  <li>Let <var>k</var> be 0.</li>

  <li>Repeat, while <var>k</var> &lt; <var>len</var>
    <ol class="block">
      <li>Let <var>Pk</var>
          be <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

      <li>Let <var>kPresent</var> be the result of calling the [[HasProperty]]
          internal method of <var>O</var> with argument <var>Pk</var>.</li>

      <li>If <var>kPresent</var> is <span class="value">true</span>, then
        <ol class="block">
          <li>Let <var>kValue</var> be the result of calling the [[Get]]
              internal method of <var>O</var> with argument <var>Pk</var>.</li>

          <li>Let <var>testResult</var> be the result of calling the [[Call]]
              internal method of <var>callbackfn</var> with <var>T</var> as the
              <span class="this">this</span> value and argument list containing <var>kValue</var>,
              <var>k</var>, and <var>O</var>.</li>

          <li>If <a href="#sec-9.2">ToBoolean</a>(<var>testResult</var>) is
              <span class="value">true</span>, return
              <span class="value">true</span>.</li>
        </ol>
      </li>

      <li>Increase <var>k</var> by 1.</li>
    </ol>
  </li>

  <li>Return <span class="value">false</span>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">some</span> method is <span class="value">1</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">some</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">some</span> function can be applied successfully to a
  host object is implementation-dependent.</p>
</div>


<span class="pagemark" id="page145">PDF page 145 / printed page 135</span>
</section>

<section id="sec-15.4.4.18">
<h1><span class="secnum"><a href="#sec-15.4.4.18"
    title="link to this section">15.4.4.18</a></span>
    Array.prototype.forEach ( callbackfn [ , thisArg ] )</h1>

<p><var>callbackfn</var> should be a function that accepts three arguments.
<span class="libname">forEach</span> calls <var>callbackfn</var> once for each
<a href="#def-array-element">element</a> present in the array, in ascending
order. <var>callbackfn</var> is called only for elements of the array which
actually exist; it is not called for missing elements of the array.</p>

<p>If a <var>thisArg</var> parameter is provided, it will be used as the
<span class="this">this</span> value for each invocation of
<var>callbackfn</var>. If it is not provided,
<span class="value">undefined</span> is used instead.</p>

<p><var>callbackfn</var> is called with three arguments: the value of the
element, the index of the element, and the object being traversed.</p>

<p><span class="libname">forEach</span> does not directly mutate the object on
which it is called but the object may be mutated by the calls to
<var>callbackfn</var>.</p>

<p>The range of elements processed by <span class="libname">forEach</span> is
set before the first call to <var>callbackfn</var>. Elements which are appended
to the array after the call to <span class="libname">forEach</span> begins will
not be visited by <var>callbackfn</var>. If existing elements of the array are
changed, their value as passed to callback will be the value at the time
<span class="libname">forEach</span> visits them; elements that are deleted
after the call to <span class="libname">forEach</span> begins and before being
visited are not visited.</p>

<p>When the <span class="libname">forEach</span> method is called with one or
two arguments, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>lenValue</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with the argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>len</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>lenValue</var>).</li>

  <li>If <a href="#sec-9.11">IsCallable</a>(<var>callbackfn</var>) is
      <span class="value">false</span>, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>If <var>thisArg</var> was supplied, let <var>T</var> be
      <var>thisArg</var>; else let <var>T</var> be
      <span class="value">undefined</span>.</li>

  <li>Let <var>k</var> be 0.</li>

  <li>Repeat, while <var>k</var> &lt; <var>len</var>
    <ol class="block">
      <li>Let <var>Pk</var>
          be <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

      <li>Let <var>kPresent</var> be the result of calling the [[HasProperty]]
          internal method of <var>O</var> with argument <var>Pk</var>.</li>

      <li>If <var>kPresent</var> is <span class="value">true</span>, then
        <ol class="block">
          <li>Let <var>kValue</var> be the result of calling the [[Get]]
              internal method of <var>O</var> with argument <var>Pk</var>.</li>

          <li>Call the [[Call]] internal method of <var>callbackfn</var> with
              <var>T</var> as the <span class="this">this</span> value and argument list
              containing <var>kValue</var>, <var>k</var>, and
              <var>O</var>.</li>
        </ol>
      </li>

      <li>Increase <var>k</var> by 1.</li>
    </ol>
  </li>

  <li>Return <span class="value">undefined</span>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">forEach</span> method is
<span class="value">1</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">forEach</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">forEach</span> function can be applied successfully to
  a host object is implementation-dependent.</p>
</div>
</section>

<section id="sec-15.4.4.19">
<h1><span class="secnum"><a href="#sec-15.4.4.19"
    title="link to this section">15.4.4.19</a></span>
    Array.prototype.map ( callbackfn [ , thisArg ] )</h1>

<p><var>callbackfn</var> should be a function that accepts three arguments.
<span class="libname">map</span> calls <var>callbackfn</var> once for each
<a href="#def-array-element">element</a> in the array, in ascending order, and
constructs a new Array from the results. <var>callbackfn</var> is called only
for elements of the array which actually exist; it is not called for missing
elements of the array.</p>

<p>If a <var>thisArg</var> parameter is provided, it will be used as the
<span class="this">this</span> value for each invocation of
<var>callbackfn</var>. If it is not provided,
<span class="value">undefined</span> is used instead.</p>

<p><var>callbackfn</var> is called with three arguments: the value of the
element, the index of the element, and the object being traversed.</p>

<p><span class="libname">map</span> does not directly mutate the object on
which it is called but the object may be mutated by the calls to
<var>callbackfn</var>.</p>

<p><span class="pagemark" id="page146">PDF page 146 / printed page 136</span>
The range of elements processed by <span class="libname">map</span> is set
before the first call to <var>callbackfn</var>. Elements which are appended to
the array after the call to <span class="libname">map</span> begins will not be
visited by <var>callbackfn</var>. If existing elements of the array are
changed, their value as passed to <var>callbackfn</var> will be the value at
the time <span class="libname">map</span> visits them; elements that are
deleted after the call to <span class="libname">map</span> begins and before
being visited are not visited.</p>

<p>When the <span class="libname">map</span> method is called with one or two
arguments, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>lenValue</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with the argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>len</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>lenValue</var>).</li>

  <li>If <a href="#sec-9.11">IsCallable</a>(<var>callbackfn</var>) is
      <span class="value">false</span>, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>If <var>thisArg</var> was supplied, let <var>T</var> be
      <var>thisArg</var>; else let <var>T</var> be
      <span class="value">undefined</span>.</li>

  <li>Let <var>A</var> be a new array created as if by the expression
      <code class="expr">new Array(<var>len</var>)</code> where
      <code class="expr">Array</code> is the standard built-in constructor with
      that name and <var>len</var> is the value of <var>len</var>.</li>

  <li>Let <var>k</var> be 0.</li>

  <li>Repeat, while <var>k</var> &lt; <var>len</var>
    <ol class="block">
      <li>Let <var>Pk</var>
          be <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

      <li>Let <var>kPresent</var> be the result of calling the [[HasProperty]]
          internal method of <var>O</var> with argument <var>Pk</var>.</li>

      <li>If <var>kPresent</var> is <span class="value">true</span>, then
        <ol class="block">
          <li>Let <var>kValue</var> be the result of calling the [[Get]]
              internal method of <var>O</var> with argument <var>Pk</var>.</li>

          <li>Let <var>mappedValue</var> be the result of calling the [[Call]]
              internal method of <var>callbackfn</var> with <var>T</var> as the
              <span class="this">this</span> value and argument list containing <var>kValue</var>,
              <var>k</var>, and <var>O</var>.</li>

          <li>Call the [[DefineOwnProperty]] internal method of <var>A</var>
              with arguments <var>Pk</var>, <a href="#sec-8.10">Property Descriptor</a> {[[Value]]:
              <var>mappedValue</var>, [[Writable]]:
              <span class="value">true</span>, [[Enumerable]]:
              <span class="value">true</span>, [[Configurable]]:
              <span class="value">true</span>}, and
              <span class="value">false</span>.</li>
        </ol>
      </li>

      <li>Increase <var>k</var> by 1.</li>
    </ol>
  </li>

  <li>Return <var>A</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">map</span> method is <span class="value">1</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">map</span> function
  is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">map</span> function can be applied successfully to a
  host object is implementation-dependent.</p>
</div>
</section>

<section id="sec-15.4.4.20">
<h1><span class="secnum"><a href="#sec-15.4.4.20"
    title="link to this section">15.4.4.20</a></span>
    Array.prototype.filter ( callbackfn [ , thisArg ] )</h1>

<p><var>callbackfn</var> should be a function that accepts three arguments and
returns a value that is coercible to the Boolean value
<span class="value">true</span> or <span class="value">false</span>.
<span class="libname">filter</span> calls <var>callbackfn</var> once for each
<a href="#def-array-element">element</a> in the array, in ascending order, and
constructs a new array of all the values for which <var>callbackfn</var>
returns <span class="value">true</span>. <var>callbackfn</var> is called only
for elements of the array which actually exist; it is not called for missing
elements of the array.</p>

<p>If a <var>thisArg</var> parameter is provided, it will be used as the
<span class="this">this</span> value for each invocation of
<var>callbackfn</var>. If it is not provided,
<span class="value">undefined</span> is used instead.</p>

<p><var>callbackfn</var> is called with three arguments: the value of the
element, the index of the element, and the object being traversed.</p>

<p><span class="libname">filter</span> does not directly mutate the object on
which it is called but the object may be mutated by the calls to
<var>callbackfn</var>.</p>

<p>The range of elements processed by <span class="libname">filter</span> is
set before the first call to <var>callbackfn</var>. Elements which are appended
to the array after the call to <span class="libname">filter</span> begins will
not be visited by <var>callbackfn</var>. If existing elements of the array are
changed their value as passed to <var>callbackfn</var> will be the value at the
time <span class="libname">filter</span> visits them; elements that are deleted
after the call to <span class="libname">filter</span> begins and before being
visited are not visited.</p>

<p>When the <span class="libname">filter</span> method is called with one or
two arguments, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>lenValue</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with the argument <span class="string
      value">"length"</span>.</li>

  <li><span class="pagemark" id="page147">PDF page 147 / printed page
      137</span>Let <var>len</var> be
      <a href="#sec-9.6">ToUint32</a>(<var>lenValue</var>).</li>

  <li>If <a href="#sec-9.11">IsCallable</a>(<var>callbackfn</var>) is
      <span class="value">false</span>, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>If <var>thisArg</var> was supplied, let <var>T</var> be
      <var>thisArg</var>; else let <var>T</var> be
      <span class="value">undefined</span>.</li>

  <li>Let <var>A</var> be a new array created as if by the expression
      <code class="expr">new Array()</code> where
      <code class="expr">Array</code> is the standard built-in constructor with
      that name.</li>

  <li>Let <var>k</var> be 0.</li>

  <li>Let <var>to</var> be 0.</li>

  <li>Repeat, while <var>k</var> &lt; <var>len</var>
    <ol class="block">
      <li>Let <var>Pk</var>
          be <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

      <li>Let <var>kPresent</var> be the result of calling the [[HasProperty]]
          internal method of <var>O</var> with argument <var>Pk</var>.</li>

      <li>If <var>kPresent</var> is <span class="value">true</span>, then
        <ol class="block">
          <li>Let <var>kValue</var> be the result of calling the [[Get]]
              internal method of <var>O</var> with argument <var>Pk</var>.</li>

          <li>Let <var>selected</var> be the result of calling the [[Call]]
              internal method of <var>callbackfn</var> with <var>T</var> as the
              <span class="this">this</span> value and argument list containing <var>kValue</var>,
              <var>k</var>, and <var>O</var>.</li>

          <li>If <a href="#sec-9.2">ToBoolean</a>(<var>selected</var>)
              is <span class="value">true</span>, then
            <ol class="block">
              <li>Call the [[DefineOwnProperty]] internal method of
                  <var>A</var> with
                  arguments <a href="#sec-9.8">ToString</a>(<var>to</var>),
                  <a href="#sec-8.10">Property Descriptor</a> {[[Value]]: <var>kValue</var>,
                  [[Writable]]: <span class="value">true</span>,
                  [[Enumerable]]: <span class="value">true</span>,
                  [[Configurable]]: <span class="value">true</span>}, and
                  <span class="value">false</span>.</li>

              <li>Increase <var>to</var> by 1.</li>
            </ol>
          </li>
        </ol>
      </li>

      <li>Increase <var>k</var> by 1.</li>
    </ol>
  </li>

  <li>Return <var>A</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">filter</span> method is <span class="value">1</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">filter</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">filter</span> function can be applied successfully to a
  host object is implementation-dependent.</p>
</div>
</section>

<section id="sec-15.4.4.21">
<h1><span class="secnum"><a href="#sec-15.4.4.21"
    title="link to this section">15.4.4.21</a></span>
    Array.prototype.reduce ( callbackfn [ , initialValue ] )</h1>

<p><var>callbackfn</var> should be a function that takes four arguments.
<span class="libname">reduce</span> calls the callback, as a function, once for
each <a href="#def-array-element">element</a> present in the array, in
ascending order.</p>

<p><var>callbackfn</var> is called with four arguments: the
<var>previousValue</var> (or value from the previous call to
<var>callbackfn</var>), the <var>currentValue</var> (value of the current
element), the <var>currentIndex</var>, and the object being traversed. The
first time that callback is called, the <var>previousValue</var> and
<var>currentValue</var> can be one of two values. If an <var>initialValue</var>
was provided in the call to <span class="libname">reduce</span>, then
<var>previousValue</var> will be equal to <var>initialValue</var> and
<var>currentValue</var> will be equal to the first value in the array. If no
<var>initialValue</var> was provided, then <var>previousValue</var> will be
equal to the first value in the array and <var>currentValue</var> will be equal
to the second. It is a <span class="errorname">TypeError</span> if the array
contains no elements and <var>initialValue</var> is not provided.</p>

<p><span class="libname">reduce</span> does not directly mutate the object on
which it is called but the object may be mutated by the calls to
<var>callbackfn</var>.</p>

<p>The range of elements processed by <span class="libname">reduce</span> is
set before the first call to <var>callbackfn</var>. Elements that are appended
to the array after the call to <span class="libname">reduce</span> begins will
not be visited by <var>callbackfn</var>. If existing elements of the array are
changed, their value as passed to <var>callbackfn</var> will be the value at
the time <span class="libname">reduce</span> visits them; elements that are
deleted after the call to <span class="libname">reduce</span> begins and before
being visited are not visited.</p>

<p>When the <span class="libname">reduce</span> method is called with one or
two arguments, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>lenValue</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with the argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>len</var> be <a href="#sec-9.6">ToUint32</a>(<var>lenValue</var>
      ).</li>

  <li>If <a href="#sec-9.11">IsCallable</a>(<var>callbackfn</var>) is
      <span class="value">false</span>, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>If len is 0 and <var>initialValue</var> is not present, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Let <var>k</var> be 0.</li>

  <li>If <var>initialValue</var> is present, then
    <ol class="block">
      <li>Set <var>accumulator</var> to <var>initialValue</var>.</li>
    </ol>
  </li>

  <li>Else, <var>initialValue</var> is not present <span class="pagemark"
      id="page148">PDF page 148 / printed page 138</span>
    <ol class="block">
      <li>Let <var>kPresent</var> be <span class="value">false</span>.</li>

      <li>Repeat, while <var>kPresent</var> is <span class="value">false</span> and <var>k</var>
          &lt; <var>len</var>
        <ol class="block">
          <li>Let <var>Pk</var>
              be <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

          <li>Let <var>kPresent</var> be the result of calling the
              [[HasProperty]] internal method of <var>O</var> with argument
              <var>Pk</var>.</li>

          <li>If <var>kPresent</var> is <span class="value">true</span>, then
            <ol class="block">
              <li>Let <var>accumulator</var> be the result of calling the
                  [[Get]] internal method of <var>O</var> with argument
                  <var>Pk</var>.</li>
            </ol>
          </li>

          <li>Increase <var>k</var> by 1.</li>
        </ol>
      </li>

      <li>If <var>kPresent</var> is <span class="value">false</span>, throw a
          <span class="errorname">TypeError</span> exception.</li>
    </ol>
  </li>

  <li>Repeat, while <var>k</var> &lt; <var>len</var>
    <ol class="block">
      <li>Let <var>Pk</var>
          be <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

      <li>Let <var>kPresent</var> be the result of calling the [[HasProperty]]
          internal method of <var>O</var> with argument <var>Pk</var>.</li>

      <li>If <var>kPresent</var> is <span class="value">true</span>, then
        <ol class="block">
          <li>Let <var>kValue</var> be the result of calling the [[Get]]
              internal method of <var>O</var> with argument <var>Pk</var>.</li>

          <li>Let <var>accumulator</var> be the result of calling the [[Call]]
              internal method of <var>callbackfn</var> with
              <span class="value">undefined</span> as the <span class="this">this</span> value and
              argument list containing <var>accumulator</var>,
              <var>kValue</var>, <var>k</var>, and <var>O</var>.</li>
        </ol>
      </li>

      <li>Increase <var>k</var> by 1.</li>
    </ol>
  </li>

  <li>Return <var>accumulator</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">reduce</span> method is <span class="value">1</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">reduce</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">reduce</span> function can be applied successfully to a
  host object is implementation-dependent.</p>
</div>
</section>

<section id="sec-15.4.4.22">
<h1><span class="secnum"><a href="#sec-15.4.4.22"
    title="link to this section">15.4.4.22</a></span>
    Array.prototype.reduceRight ( callbackfn [ , initialValue ] )</h1>

<p><var>callbackfn</var> should be a function that takes four arguments.
<span class="libname">reduceRight</span> calls the callback, as a function,
once for each <a href="#def-array-element">element</a> present in the array, in
descending order.</p>

<p><var>callbackfn</var> is called with four arguments: the
<var>previousValue</var> (or value from the previous call to
<var>callbackfn</var>), the <var>currentValue</var> (value of the current
element), the <var>currentIndex</var>, and the object being traversed. The
first time the function is called, the <var>previousValue</var> and
<var>currentValue</var> can be one of two values. If an <var>initialValue</var>
was provided in the call to <span class="libname">reduceRight</span>, then
<var>previousValue</var> will be equal to <var>initialValue</var> and
<var>currentValue</var> will be equal to the last value in the array. If no
<var>initialValue</var> was provided, then <var>previousValue</var> will be
equal to the last value in the array and <var>currentValue</var> will be equal
to the second-to-last value. It is a <span class="errorname">TypeError</span>
if the array contains no elements and <var>initialValue</var> is not
provided.</p>

<p><span class="libname">reduceRight</span> does not directly mutate the object
on which it is called but the object may be mutated by the calls to
<var>callbackfn</var>.</p>

<p>The range of elements processed by <span class="libname">reduceRight</span>
is set before the first call to <var>callbackfn</var>. Elements that are
appended to the array after the call to
<span class="libname">reduceRight</span> begins will not be visited by
<var>callbackfn</var>. If existing elements of the array are changed by
<var>callbackfn</var>, their value as passed to <var>callbackfn</var> will be
the value at the time <span class="libname">reduceRight</span> visits them;
elements that are deleted after the call to
<span class="libname">reduceRight</span> begins and before being visited are
not visited.</p>

<p>When the <span class="libname">reduceRight</span> method is called with one
or two arguments, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling <a href="#sec-9.9">ToObject</a>
      passing the <span class="this">this</span> value as the argument.</li>

  <li>Let <var>lenValue</var> be the result of calling the [[Get]] internal
      method of <var>O</var> with the argument <span class="string
      value">"length"</span>.</li>

  <li>Let <var>len</var> be <a href="#sec-9.6">ToUint32</a>(<var>lenValue</var>
      ).</li>

  <li>If <a href="#sec-9.11">IsCallable</a>(<var>callbackfn</var>) is
      <span class="value">false</span>, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>If len is 0 and <var>initialValue</var> is not present, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Let <var>k</var> be <var>len</var>&minus;1.</li>

  <li>If <var>initialValue</var> is present, then
    <ol class="block">
      <li>Set <var>accumulator</var> to <var>initialValue</var>.</li>
    </ol>
  </li>

  <li>Else, <var>initialValue</var> is not present
    <ol class="block">
      <li>Let <var>kPresent</var> be <span class="value">false</span>.</li>

      <li><span class="pagemark" id="page149">PDF page 149 / printed page
          139</span>Repeat, while <var>kPresent</var> is
          <span class="value">false</span> and <var>k</var> &ge; 0
        <ol class="block">
          <li>Let <var>Pk</var>
              be <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

          <li>Let <var>kPresent</var> be the result of calling the
              [[HasProperty]] internal method of <var>O</var> with argument
              <var>Pk</var>.</li>

          <li>If <var>kPresent</var> is <span class="value">true</span>, then
            <ol class="block">
              <li>Let <var>accumulator</var> be the result of calling the
                  [[Get]] internal method of <var>O</var> with argument
                  <var>Pk</var>.</li>
            </ol>
          </li>

          <li>Decrease <var>k</var> by 1.</li>
        </ol>
      </li>

      <li>If <var>kPresent</var> is <span class="value">false</span>, throw a
          <span class="errorname">TypeError</span> exception.</li>
    </ol>
  </li>

  <li>Repeat, while <var>k</var> &ge; 0
    <ol class="block">
      <li>Let <var>Pk</var>
          be <a href="#sec-9.8">ToString</a>(<var>k</var>).</li>

      <li>Let <var>kPresent</var> be the result of calling the [[HasProperty]]
          internal method of <var>O</var> with argument <var>Pk</var>.</li>

      <li>If <var>kPresent</var> is <span class="value">true</span>, then
        <ol class="block">
          <li>Let <var>kValue</var> be the result of calling the [[Get]]
              internal method of <var>O</var> with argument <var>Pk</var>.</li>

          <li>Let <var>accumulator</var> be the result of calling the [[Call]]
              internal method of <var>callbackfn</var> with
              <span class="value">undefined</span> as the <span class="this">this</span> value and
              argument list containing <var>accumulator</var>,
              <var>kValue</var>, <var>k</var>, and <var>O</var>.</li>
        </ol>
      </li>

      <li>Decrease <var>k</var> by 1.</li>
    </ol>
  </li>

  <li>Return <var>accumulator</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">reduceRight</span> method is
<span class="value">1</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">reduceRight</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be an Array object. Therefore it can be
  transferred to other kinds of objects for use as a method. Whether the
  <span class="libname">reduceRight</span> function can be applied successfully
  to a host object is implementation-dependent.</p>
</div>
</section>
</section>

<section id="sec-15.4.5">
<h1><span class="secnum"><a href="#sec-15.4.5"
    title="link to this section">15.4.5</a></span>
    Properties of Array Instances</h1>

<p>Array instances inherit properties from the Array prototype object and their
[[Class]] internal property value is <span class="string value">"Array"</span>.
Array instances also have the following properties.</p>


<section id="sec-15.4.5.1">
<h1><span class="secnum"><a href="#sec-15.4.5.1"
    title="link to this section">15.4.5.1</a></span>
    [[DefineOwnProperty]] ( P, Desc, Throw )</h1>

<p>Array objects use a variation of the [[DefineOwnProperty]] internal method
used for other native ECMAScript objects
(<a href="#sec-8.12.9">8.12.9</a>).</p>

<p>Assume <var>A</var> is an Array object, <var>Desc</var> is a
<a href="#sec-8.10">Property Descriptor</a>, and <var>Throw</var> is a Boolean
flag.</p>

<p id="def-reject-for-array">In the following algorithm, the term
&ldquo;Reject&rdquo; means &ldquo;If <var>Throw</var> is
<span class="value">true</span>, then throw a
<span class="errorname">TypeError</span> exception, otherwise return
<span class="value">false</span>.&rdquo;</p>

<p>When the [[DefineOwnProperty]] internal method of <var>A</var> is called
with property <var>P</var>, <a href="#sec-8.10">Property Descriptor</a>
<var>Desc</var>, and Boolean flag <var>Throw</var>, the following steps are
taken:</p>

<ol class="proc">
  <li>Let <var>oldLenDesc</var> be the result of calling the [[GetOwnProperty]]
      internal method of <var>A</var> passing <span class="string
      value">"length"</span> as the argument. The result will never be
      <span class="value">undefined</span> or an accessor descriptor because
      Array objects are created with a length data property that cannot be
      deleted or reconfigured.</li>

  <li>Let <var>oldLen</var> be <var>oldLenDesc</var>.[[Value]].</li>

  <li>If <var>P</var> is <span class="string value">"length"</span>, then
    <ol class="block">
      <li>If the [[Value]] field of <var>Desc</var> is absent, then
        <ol class="block">
          <li>Return the result of calling the default [[DefineOwnProperty]]
              internal method (<a href="#sec-8.12.9">8.12.9</a>) on
              <var>A</var> passing <span class="string value">"length"</span>,
              <var>Desc</var>, and <var>Throw</var> as arguments.</li>
        </ol>
      </li>

      <li>Let <var>newLenDesc</var> be a copy of <var>Desc</var>.</li>

      <li>Let <var>newLen</var>
          be <a href="#sec-9.6">ToUint32</a>(<var>Desc</var>.[[Value]]).</li>

      <li>If <var>newLen</var> is not equal to
          <a href="#sec-9.3">ToNumber</a>(<var>Desc</var>.[[Value]]), throw a
          <span class="errorname">RangeError</span> exception.</li>

      <li>Set <var>newLenDesc</var>.[[Value] to <var>newLen</var>.</li>

      <li>If <var>newLen</var> &ge; <var>oldLen</var>, then
        <ol class="block">
          <li>Return the result of calling the default [[DefineOwnProperty]]
              internal method (<a href="#sec-8.12.9">8.12.9</a>) on
              <var>A</var> passing <span class="string value">"length"</span>,
              <var>newLenDesc</var>, and <var>Throw</var> as arguments.</li>
        </ol>
      </li>

      <li><a href="#def-reject-for-array">Reject</a> if
          <var>oldLenDesc</var>.[[Writable]] is
          <span class="value">false</span>.</li>

      <li>If <var>newLenDesc</var>.[[Writable]] is absent or has the value
          <span class="value">true</span>, let <var>newWritable</var> be
          <span class="value">true</span>.</li>

      <li><span class="pagemark" id="page150">PDF page 150 / printed page
          140</span>Else,
        <ol class="block">
          <li>Need to defer setting the [[Writable]] attribute to
              <span class="value">false</span> in case
              any <a href="#def-array-element">elements</a> cannot be
              deleted.</li>

          <li>Let <var>newWritable</var> be <span class="value">false</span>.</li>

          <li>Set <var>newLenDesc</var>.[[Writable]] to <span class="value">true</span>.</li>
        </ol>
      </li>

      <li>Let <var>succeeded</var> be the result of calling the default
          [[DefineOwnProperty]] internal method
          (<a href="#sec-8.12.9">8.12.9</a>) on <var>A</var> passing
          <span class="string value">"length"</span>, <var>newLenDesc</var>,
          and <var>Throw</var> as arguments.</li>

      <li>If <var>succeeded</var> is <span class="value">false</span>, return
          <span class="value">false</span>.</li>

      <li>While <var>newLen</var> &lt; <var>oldLen</var> repeat,
        <ol class="block">
          <li>Set <var>oldLen</var> to <var>oldLen</var> &minus; 1.</li>

          <li>Let <var>deleteSucceeded</var> be the result of calling the
              [[Delete]] internal method of <var>A</var>
              passing <a href="#sec-9.8">ToString</a>(<var>oldLen</var>) and
              <span class="value">false</span> as arguments.</li>

          <li>If <var>deleteSucceeded</var> is <span class="value">false</span>, then
            <ol class="block">
              <li>Set <var>newLenDesc</var>.[[Value] to
                  <var>oldLen</var>+1.</li>

              <li>If <var>newWritable</var> is
                  <span class="value">false</span>, set
                  <var>newLenDesc</var>.[[Writable] to
                  <span class="value">false</span>.</li>

              <li>Call the default [[DefineOwnProperty]] internal method
                  (<a href="#sec-8.12.9">8.12.9</a>) on <var>A</var> passing
                  <span class="string value">"length"</span>,
                  <var>newLenDesc</var>, and <span class="value">false</span>
                  as arguments.</li>

              <li><a href="#def-reject-for-array">Reject</a>.</li>
            </ol>
          </li>
        </ol>
      </li>

      <li>If <var>newWritable</var> is <span class="value">false</span>, then
        <ol class="block">
          <li>Call the default [[DefineOwnProperty]] internal method
              (<a href="#sec-8.12.9">8.12.9</a>) on <var>A</var> passing
              <span class="string value">"length"</span>, <a href="#sec-8.10">Property
              Descriptor</a> {[[Writable]]: <span class="value">false</span>}, and
              <span class="value">false</span> as arguments. This call will
              always return <span class="value">true</span>.</li>
        </ol>
      </li>

      <li>Return <span class="value">true</span>.</li>
    </ol>
  </li>

  <li>Else if <var>P</var> is an array index (<a href="#sec-15.4">15.4</a>),
      then
    <ol class="block">
      <li>Let <var>index</var>
          be <a href="#sec-9.6">ToUint32</a>(<var>P</var>).</li>

      <li><a href="#def-reject-for-array">Reject</a> if <var>index</var> &ge;
          <var>oldLen</var> and <var>oldLenDesc</var>.[[Writable]] is
          <span class="value">false</span>.</li>

      <li>Let <var>succeeded</var> be the result of calling the default
          [[DefineOwnProperty]] internal method
          (<a href="#sec-8.12.9">8.12.9</a>) on <var>A</var> passing
          <var>P</var>, <var>Desc</var>, and <span class="value">false</span>
          as arguments.</li>

      <li><a href="#def-reject-for-array">Reject</a> if <var>succeeded</var> is
          <span class="value">false</span>.</li>

      <li>If <var>index</var> &ge; <var>oldLen</var>
        <ol class="block">
          <li>Set <var>oldLenDesc</var>.[[Value]] to <var>index</var> + 1.</li>

          <li>Call the default [[DefineOwnProperty]] internal method
              (<a href="#sec-8.12.9">8.12.9</a>) on <var>A</var> passing
              <span class="string value">"length"</span>,
              <var>oldLenDesc</var>, and <span class="value">false</span> as
              arguments. This call will always return
              <span class="value">true</span>.</li>
        </ol>
      </li>

      <li>Return <span class="value">true</span>.</li>
    </ol>
  </li>

  <li>Return the result of calling the default [[DefineOwnProperty]] internal
      method (<a href="#sec-8.12.9">8.12.9</a>) on <var>A</var> passing
      <var>P</var>, <var>Desc</var>, and <var>Throw</var> as arguments.</li>
</ol>
</section>

<section id="sec-15.4.5.2">
<h1><span class="secnum"><a href="#sec-15.4.5.2"
    title="link to this section">15.4.5.2</a></span>
    length</h1>

<p>The <code class="propname">length</code> property of this Array object is a
data property whose value is always numerically greater than the name of every
deletable property whose name is an array index.</p>

<p>The <code class="propname">length</code> property initially has the
attributes { [[Writable]]: <span class="value">true</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>

<div class="note">
  <p><span class="nh">NOTE</span> Attempting to set the length property of an
  Array object to a value that is numerically less than or equal to the largest
  numeric property name of an existing array indexed non-deletable property of
  the array will result in the length being set to a numeric value that is one
  greater than that largest numeric property name. <a href="#sec-15.4.5.1">See
  15.4.5.1</a>.</p>
</div>
</section>
</section>
</section>


<section id="sec-15.5">
<h1><span class="secnum"><a href="#sec-15.5"
    title="link to this section">15.5</a></span>
    String Objects</h1>

<section id="sec-15.5.1">
<h1><span class="secnum"><a href="#sec-15.5.1"
    title="link to this section">15.5.1</a></span>
    The String Constructor Called as a Function</h1>

<p>When <span class="libname">String</span> is called as a function rather than
as a constructor, it performs a type conversion.</p>


<section id="sec-15.5.1.1">
<h1><span class="secnum"><a href="#sec-15.5.1.1"
    title="link to this section">15.5.1.1</a></span>
    String ( [ value ] )</h1>

<p>Returns a String value (not a String object) computed by
<a href="#sec-9.8">ToString</a>(<var>value</var>). If <var>value</var> is not
supplied, the empty String <span class="string value">""</span> is
returned.</p>
</section>
</section>

<section id="sec-15.5.2">
<span class="pagemark" id="page151">PDF page 151 / printed page 141</span>
<h1><span class="secnum"><a href="#sec-15.5.2"
    title="link to this section">15.5.2</a></span>
    The String Constructor</h1>

<p>When <span class="libname">String</span> is called as part of a
<code class="t">new</code> expression, it is a constructor: it initialises the
newly created object.</p>


<section id="sec-15.5.2.1">
<h1><span class="secnum"><a href="#sec-15.5.2.1"
    title="link to this section">15.5.2.1</a></span>
    new String ( [ value ] )</h1>

<p>The [[Prototype]] internal property of the newly constructed object is set
to the standard built-in String prototype object that is the initial value of
<span class="libname">String.prototype</span>
(<a href="#sec-15.5.3.1">15.5.3.1</a>).</p>

<p>The [[Class]] internal property of the newly constructed object is set to
<span class="string value">"String"</span>.</p>

<p>The [[Extensible]] internal property of the newly constructed object is set
to <span class="value">true</span>.</p>

<p>The [[PrimitiveValue]] internal property of the newly constructed object is
set to <a href="#sec-9.8">ToString</a>(<var>value</var>), or to the empty
String if <var>value</var> is not supplied.</p>
</section>
</section>

<section id="sec-15.5.3">
<h1><span class="secnum"><a href="#sec-15.5.3"
    title="link to this section">15.5.3</a></span>
    Properties of the String Constructor</h1>

<p>The value of the [[Prototype]] internal property of the String constructor
is the standard built-in Function prototype object
(<a href="#sec-15.3.4">15.3.4</a>).</p>

<p>Besides the internal properties and the <code class="propname">length</code>
property (whose value is <span class="value">1</span>), the String constructor
has the following properties:</p>


<section id="sec-15.5.3.1">
<h1><span class="secnum"><a href="#sec-15.5.3.1"
    title="link to this section">15.5.3.1</a></span>
    String.prototype</h1>

<p>The initial value of <span class="libname">String.prototype</span> is the
standard built-in String prototype object
(<a href="#sec-15.5.4">15.5.4</a>).</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.5.3.2">
<h1><span class="secnum"><a href="#sec-15.5.3.2"
    title="link to this section">15.5.3.2</a></span>
    String.fromCharCode ( [ char0 [ , char1 [ , ... ] ] ] )</h1>

<p>Returns a String value containing as many characters as the number of
arguments. Each argument specifies one character of the resulting String, with
the first argument specifying the first character, and so on, from left to
right. An argument is converted to a character by applying the operation
<a href="#sec-9.7">ToUint16</a> (<a href="#sec-9.7">9.7</a>) and regarding the
resulting 16-bit integer as the code unit value of a character. If no arguments
are supplied, the result is the empty String.</p>

<p>The <code class="propname">length</code> property of the
<span class="libname">fromCharCode</span> function is
<span class="value">1</span>.</p>
</section>
</section>

<section id="sec-15.5.4">
<h1><span class="secnum"><a href="#sec-15.5.4"
    title="link to this section">15.5.4</a></span>
    Properties of the String Prototype Object</h1>

<p>The String prototype object is itself a String object (its [[Class]] is
<span class="string value">"String"</span>) whose value is an empty String.</p>

<p>The value of the [[Prototype]] internal property of the String prototype
object is the standard built-in Object prototype object
(<a href="#sec-15.2.4">15.2.4</a>).</p>


<section id="sec-15.5.4.1">
<h1><span class="secnum"><a href="#sec-15.5.4.1"
    title="link to this section">15.5.4.1</a></span>
    String.prototype.constructor</h1>

<p>The initial value of
<span class="libname">String.prototype.constructor</span> is the built-in
<span class="libname">String</span> constructor.</p>
</section>

<section id="sec-15.5.4.2">
<h1><span class="secnum"><a href="#sec-15.5.4.2"
    title="link to this section">15.5.4.2</a></span>
    String.prototype.toString ( )</h1>

<p>Returns this String value. (Note that, for a String object, the
<code class="propname">toString</code> method happens to return the same thing
as the <code class="propname">valueOf</code> method.)</p>

<p><span class="pagemark" id="page152">PDF page 152 / printed page 142</span>
The <span class="libname">toString</span> function is not generic; it throws a
<span class="errorname">TypeError</span> exception if its
<span class="this">this</span> value is not a String or a String object.
Therefore, it cannot be transferred to other kinds of objects for use as a
method.</p>
</section>

<section id="sec-15.5.4.3">
<h1><span class="secnum"><a href="#sec-15.5.4.3"
    title="link to this section">15.5.4.3</a></span>
    String.prototype.valueOf ( )</h1>

<p>Returns this String value.</p>

<p>The <span class="libname">valueOf</span> function is not generic; it throws
a <span class="errorname">TypeError</span> exception if its
<span class="this">this</span> value is not a String or String object.
Therefore, it cannot be transferred to other kinds of objects for use as a
method.</p>
</section>

<section id="sec-15.5.4.4">
<h1><span class="secnum"><a href="#sec-15.5.4.4"
    title="link to this section">15.5.4.4</a></span>
    String.prototype.charAt (pos)</h1>

<p>Returns a String containing the character at position <var>pos</var> in the
String resulting from converting this object to a String. If there is no
character at that position, the result is the empty String. The result is a
String value, not a String object.</p>

<p>If <var>pos</var> is a value of Number type that is an integer, then the
result of <code class="expr">x.charAt(<var>pos</var>)</code> is equal to the
result of <code class="expr">x.substring(<var>pos</var>,
<wbr /><var>pos</var>+1)</code>.</p>

<p>When the <span class="libname">charAt</span> method is called with one
argument <var>pos</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Call <a href="#sec-9.10">CheckObjectCoercible</a> passing the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>S</var> be the result of calling
      <a href="#sec-9.8">ToString</a>, giving it the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>position</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>pos</var>).</li>

  <li>Let <var>size</var> be the number of characters in <var>S</var>.</li>

  <li>If <var>position</var> &lt; 0 or <var>position</var> &ge;
      <var>size</var>, return the empty String.</li>

  <li>Return a String of length 1, containing one character from <var>S</var>,
      namely the character at position <var>position</var>, where the first
      (leftmost) character in <var>S</var> is considered to be at position 0,
      the next one at position 1, and so on.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">charAt</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be a String object. Therefore, it can be
  transferred to other kinds of objects for use as a method.</p>
</div>
</section>

<section id="sec-15.5.4.5">
<h1><span class="secnum"><a href="#sec-15.5.4.5"
    title="link to this section">15.5.4.5</a></span>
    String.prototype.charCodeAt (pos)</h1>

<p>Returns a Number (a nonnegative integer less than 2<sup>16</sup>)
representing the code unit value of the character at position <var>pos</var> in
the String resulting from converting this object to a String. If there is no
character at that position, the result is <span class="value">NaN</span>.</p>

<p>When the <span class="libname">charCodeAt</span> method is called with one
argument <var>pos</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Call <a href="#sec-9.10">CheckObjectCoercible</a> passing the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>S</var> be the result of calling
      <a href="#sec-9.8">ToString</a>, giving it the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>position</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>pos</var>).</li>

  <li>Let <var>size</var> be the number of characters in <var>S</var>.</li>

  <li>If <var>position</var> &lt; 0 or <var>position</var> &ge;
      <var>size</var>, return <span class="value">NaN</span>.</li>

  <li>Return a value of Number type, whose value is the code unit value of the
      character at position <var>position</var> in the String <var>S</var>,
      where the first (leftmost) character in <var>S</var> is considered to be
      at position 0, the next one at position 1, and so on.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">charCodeAt</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be a String object. Therefore it can be
  transferred to other kinds of objects for use as a method.</p>
</div>
</section>

<section id="sec-15.5.4.6">
<h1><span class="secnum"><a href="#sec-15.5.4.6"
    title="link to this section">15.5.4.6</a></span>
    String.prototype.concat ( [ string1 [ , string2 [ , ... ] ] ] )</h1>

<p>When the <span class="libname">concat</span> method is called with zero or
more arguments <var>string1</var>, <var>string2</var>, etc., it returns a
String consisting of the characters of this object (converted to a String)
followed by the characters of each of <var>string1</var>, <var>string2</var>,
etc. (where each argument is converted to a String). The result is a String
value, not a String object. The following steps are taken:</p>

<ol class="proc">
  <li><span class="pagemark" id="page153">PDF page 153 / printed page
      143</span>Call <a href="#sec-9.10">CheckObjectCoercible</a> passing the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>S</var> be the result of calling
      <a href="#sec-9.8">ToString</a>, giving it the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>args</var> be an internal list that is a copy of the argument
      list passed to this function.</li>

  <li>Let <var>R</var> be <var>S</var>.</li>

  <li>Repeat, while <var>args</var> is not empty
    <ol class="block">
      <li>Remove the first element from <var>args</var> and let <var>next</var>
          be the value of that element.</li>

      <li>Let <var>R</var> be the String value consisting of the characters in
          the previous value of <var>R</var> followed by the characters
          of <a href="#sec-9.8">ToString</a>(<var>next</var>).</li>
    </ol>
  </li>

  <li>Return <var>R</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">concat</span> method is <span class="value">1</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">concat</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be a String object. Therefore it can be
  transferred to other kinds of objects for use as a method.</p>
</div>
</section>

<section id="sec-15.5.4.7">
<h1><span class="secnum"><a href="#sec-15.5.4.7"
    title="link to this section">15.5.4.7</a></span>
    String.prototype.indexOf (searchString, position)</h1>

<p>If <var>searchString</var> appears as a substring of the result of
converting this object to a String, at one or more positions that are greater
than or equal to <var>position</var>, then the index of the smallest such
position is returned; otherwise, <span class="value">&minus;1</span> is
returned. If <var>position</var> is <span class="value">undefined</span>,
<span class="value">0</span> is assumed, so as to search all of the String.</p>

<p>The <span class="libname">indexOf</span> method takes two arguments,
<var>searchString</var> and <var>position</var>, and performs the following
steps:</p>

<ol class="proc">
  <li>Call <a href="#sec-9.10">CheckObjectCoercible</a> passing the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>S</var> be the result of calling
      <a href="#sec-9.8">ToString</a>, giving it the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>searchStr</var> be
      <a href="#sec-9.8">ToString</a>(<var>searchString</var>).</li>

  <li>Let <var>pos</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>position</var>). (If
      <var>position</var> is <span class="value">undefined</span>, this step
      produces the value <span class="value">0</span>).</li>

  <li>Let <var>len</var> be the number of characters in <var>S</var>.</li>

  <li>Let <var>start</var> be min(max(<var>pos</var>, 0), <var>len</var>).</li>

  <li>Let <var>searchLen</var> be the number of characters in
      <var>searchStr</var>.</li>

  <li>Return the smallest possible integer <var>k</var> not smaller than
      <var>start</var> such that <var>k</var>+<var>searchLen</var> is not
      greater than <var>len</var>, and for all nonnegative integers
      <var>j</var> less than <var>searchLen</var>, the character at position
      <var>k</var>+<var>j</var> of <var>S</var> is the same as the character at
      position <var>j</var> of <var>searchStr</var>); but if there is no such
      integer <var>k</var>, then return the value
      <span class="value">&minus;1</span>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">indexOf</span> method is
<span class="value">1</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">indexOf</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be a String object. Therefore, it can be
  transferred to other kinds of objects for use as a method.</p>
</div>
</section>

<section id="sec-15.5.4.8">
<h1><span class="secnum"><a href="#sec-15.5.4.8"
    title="link to this section">15.5.4.8</a></span>
    String.prototype.lastIndexOf (searchString, position)</h1>

<p>If <var>searchString</var> appears as a substring of the result of
converting this object to a String at one or more positions that are smaller
than or equal to <var>position</var>, then the index of the greatest such
position is returned; otherwise, <span class="value">&minus;1</span> is
returned. If <var>position</var> is <span class="value">undefined</span>, the
length of the String value is assumed, so as to search all of the String.</p>

<p>The <span class="libname">lastIndexOf</span> method takes two arguments,
<var>searchString</var> and <var>position</var>, and performs the following
steps:</p>

<ol class="proc">
  <li>Call <a href="#sec-9.10">CheckObjectCoercible</a> passing the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>S</var> be the result of calling
      <a href="#sec-9.8">ToString</a>, giving it the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>searchStr</var> be
      <a href="#sec-9.8">ToString</a>(<var>searchString</var>).</li>

  <li>Let <var>numPos</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>position</var>). (If
      <var>position</var> is <span class="value">undefined</span>, this step
      produces the value <span class="value">NaN</span>).</li>

  <li>If <var>numPos</var> is <span class="value">NaN</span>, let
      <var>pos</var> be <span class="value">+&infin;</span>; otherwise, let
      <var>pos</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>numPos</var>).</li>

  <li>Let <var>len</var> be the number of characters in <var>S</var>.</li>

  <li>Let <var>start</var> min(max(<var>pos</var>, 0), <var>len</var>).</li>

  <li>Let <var>searchLen</var> be the number of characters in
      <var>searchStr</var>.</li>

  <li><span class="pagemark" id="page154">PDF page 154 / printed page
      144</span>Return the largest possible nonnegative integer <var>k</var>
      not larger than <var>start</var> such that
      <var>k</var>+<var>searchLen</var> is not greater than <var>len</var>, and
      for all nonnegative integers <var>j</var> less than <var>searchLen</var>,
      the character at position <var>k</var>+<var>j</var> of <var>S</var> is
      the same as the character at position <var>j</var> of
      <var>searchStr</var>; but if there is no such integer <var>k</var>, then
      return the value <span class="value">&minus;1</span>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">lastIndexOf</span> method is
<span class="value">1</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">lastIndexOf</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be a String object. Therefore, it can be
  transferred to other kinds of objects for use as a method.</p>
</div>
</section>

<section id="sec-15.5.4.9">
<h1><span class="secnum"><a href="#sec-15.5.4.9"
    title="link to this section">15.5.4.9</a></span>
    String.prototype.localeCompare (that)</h1>

<p>When the <span class="libname">localeCompare</span> method is called with
one argument <var>that</var>, it returns a Number other than
<span class="value">NaN</span> that represents the result of a locale-sensitive
String comparison of the <span class="this">this</span> value (converted to a
String) with <var>that</var> (converted to a String). The two Strings are
<var>S</var> and <var>that</var>. The two Strings are compared in an
implementation-defined fashion. The result is intended to order String values
in the sort order specified by the system default locale, and will be negative,
zero, or positive, depending on whether <var>S</var> comes before
<var>that</var> in the sort order, the Strings are equal, or <var>S</var> comes
after <var>that</var> in the sort order, respectively.</p>

<p>Before perform the comparisons the following steps are performed to prepare
the Strings:</p>

<ol class="proc">
  <li>Call <a href="#sec-9.10">CheckObjectCoercible</a> passing the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>S</var> be the result of calling
      <a href="#sec-9.8">ToString</a>, giving it the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>That</var> be
      <a href="#sec-9.8">ToString</a>(<var>that</var>).</li>
</ol>

<p>The <span class="libname">localeCompare</span> method, if considered as a
function of two arguments <span class="this">this</span> and <var>that</var>,
is a consistent comparison function (as defined in
<a href="#sec-15.4.4.11">15.4.4.11</a>) on the set of all Strings. Furthermore,
<span class="libname">localeCompare</span> returns <span class="value">0</span>
or <span class="value">&minus;0</span> when comparing two Strings that are
considered canonically equivalent by the Unicode standard.</p>

<p>The actual return values are implementation-defined to permit implementers
to encode additional information in the value, but the function is required to
define a total ordering on all Strings and to return
<span class="value">0</span> when comparing Strings that are considered
canonically equivalent by the Unicode standard.</p>

<p>If no language-sensitive comparison at all is available from the host
environment, this function may perform a bitwise comparison.</p>

<div class="note">
  <p><span class="nh">NOTE 1</span> The
  <span class="libname">localeCompare</span> method itself is not directly
  suitable as an argument to <span class="libname">Array.prototype.sort</span>
  because the latter requires a function of two arguments.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> This function is intended to rely on
  whatever language-sensitive comparison functionality is available to the
  ECMAScript environment from the host environment, and to compare according to
  the rules of the host environment&rsquo;s current locale. It is strongly
  recommended that this function treat Strings that are canonically equivalent
  according to the Unicode standard as identical (in other words, compare the
  Strings as if they had both been converted to Normalised Form C or D first).
  It is also recommended that this function not honour Unicode compatibility
  equivalences or decompositions.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 3</span> The second parameter to this function is
  likely to be used in a future version of this standard; it is recommended
  that implementations do not use this parameter position for anything
  else.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 4</span> The
  <span class="libname">localeCompare</span> function is intentionally generic;
  it does not require that its <span class="this">this</span> value be a String
  object. Therefore, it can be transferred to other kinds of objects for use as
  a method.</p>
</div>
</section>

<section id="sec-15.5.4.10">
<h1><span class="secnum"><a href="#sec-15.5.4.10"
    title="link to this section">15.5.4.10</a></span>
    String.prototype.match (regexp)</h1>

<p>When the <span class="libname">match</span> method is called with argument
<var>regexp</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Call <a href="#sec-9.10">CheckObjectCoercible</a> passing the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>S</var> be the result of calling
      <a href="#sec-9.8">ToString</a>, giving it the
      <span class="this">this</span> value as its argument.</li>

  <li>If <a href="#def-type">Type</a>(<var>regexp</var>) is Object and the
      value of the [[Class]] internal property of <var>regexp</var> is
      <span class="string value">"RegExp"</span>, then let <var>rx</var> be
      <var>regexp</var>;</li>

  <li><span class="pagemark" id="page155">PDF page 155 / printed page
      145</span>Else, let <var>rx</var> be a new RegExp object created as if
      by the expression <code class="expr">new RegExp(<var>regexp</var>)</code>
      where <code class="expr">RegExp</code> is the standard built-in
      constructor with that name.</li>

  <li>Let <var>global</var> be the result of calling the [[Get]] internal
      method of <var>rx</var> with argument <span class="string
      value">"global"</span>.</li>

  <li>Let <var>exec</var> be the standard built-in function
      <a href="#sec-15.10.6.2"><span class="libname">RegExp.prototype.exec</span>
      (see 15.10.6.2)</a>.</li>

  <li>If <var>global</var> is not <span class="value">true</span>, then
    <ol class="block">
      <li>Return the result of calling the [[Call]] internal method of
          <var>exec</var> with <var>rx</var> as the
          <span class="this">this</span> value and argument list containing
          <var>S</var>.</li>
    </ol>
  </li>

  <li>Else, <var>global</var> is <span class="value">true</span>
    <ol class="block">
      <li>Call the [[Put]] internal method of <var>rx</var> with arguments
          <span class="string value">"lastIndex"</span> and 0.</li>

      <li>Let <var>A</var> be a new array created as if by the expression
          <code class="expr">new Array()</code> where
          <code class="expr">Array</code> is the standard built-in constructor
          with that name.</li>

      <li>Let <var>previousLastIndex</var> be 0.</li>

      <li>Let <var>n</var> be 0.</li>

      <li>Let <var>lastMatch</var> be <span class="value">true</span>.</li>

      <li>Repeat, while <var>lastMatch</var> is <span class="value">true</span>
        <ol class="block">
          <li>Let <var>result</var> be the result of calling the [[Call]]
              internal method of <var>exec</var> with <var>rx</var> as the
              <span class="this">this</span> value and argument list containing <var>S</var>.</li>

          <li>If <var>result</var> is <span class="value">null</span>, then set
              <var>lastMatch</var> to <span class="value">false</span>.</li>

          <li>Else, <var>result</var> is not <span class="value">null</span>
            <ol class="block">
              <li>Let <var>thisIndex</var> be the result of calling the [[Get]]
                  internal method of <var>rx</var> with argument
                  <span class="string value">"lastIndex"</span>.</li>

              <li>If <var>thisIndex</var> = <var>previousLastIndex</var> then
                <ol class="block">
                  <li>Call the [[Put]] internal method of <var>rx</var> with
                      arguments <span class="string value">"lastIndex"</span>
                      and <var>thisIndex</var>+1.</li>

                  <li>Set <var>previousLastIndex</var> to <var>thisIndex</var>+1.</li>
                </ol>
              </li>

              <li>Else, set <var>previousLastIndex</var> to <var>thisIndex</var>.</li>

              <li>Let <var>matchStr</var> be the result of calling the [[Get]]
                  internal method of <var>result</var> with argument
                  <span class="string value">"0"</span>.</li>

              <li>Call the [[DefineOwnProperty]] internal method of
                  <var>A</var> with
                  arguments <a href="#sec-9.8">ToString</a>(<var>n</var>), the
                  <a href="#sec-8.10">Property Descriptor</a> {[[Value]]: <var>matchStr</var>,
                  [[Writable]]: <span class="value">true</span>,
                  [[Enumerable]]: <span class="value">true</span>,
                  [[configurable]]: <span class="value">true</span>}, and
                  <span class="value">false</span>.</li>

              <li>Increment <var>n</var>.</li>
            </ol>
          </li>
        </ol>
      </li>

      <li>If <var>n</var> = 0, then return <span class="value">null</span>.</li>

      <li>Return <var>A</var>.</li>
    </ol>
  </li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">match</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be a String object. Therefore, it can be
  transferred to other kinds of objects for use as a method.</p>
</div>
</section>

<section id="sec-15.5.4.11">
<h1><span class="secnum"><a href="#sec-15.5.4.11"
    title="link to this section">15.5.4.11</a></span>
    String.prototype.replace (searchValue, replaceValue)</h1>

<p>First set <var>string</var> according to the following steps:</p>

<ol class="proc">
  <li>Call <a href="#sec-9.10">CheckObjectCoercible</a> passing the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>string</var> be the result of calling
      <a href="#sec-9.8">ToString</a>, giving it the
      <span class="this">this</span> value as its argument.</li>
</ol>

<p>If <var>searchValue</var> is a regular expression (an object whose [[Class]]
internal property is <span class="string value">"RegExp"</span>), do the
following: If <var>searchValue</var>.global is
<span class="value">false</span>, then search <var>string</var> for the first
match of the regular expression <var>searchValue</var>. If
<var>searchValue</var>.global is <span class="value">true</span>, then search
<var>string</var> for all matches of the regular expression
<var>searchValue</var>. Do the search in the same manner as in
<span class="libname">String.prototype.match</span>, including the update of
<var>searchValue</var><code>.lastIndex</code>. Let <var>m</var> be the number
of left capturing parentheses in <var>searchValue</var> (using
<a href="#def-NcapturingParens"><var>NcapturingParens</var></a> as specified in
<a href="#sec-15.10.2.1">15.10.2.1</a>).</p>

<p>If <var>searchValue</var> is not a regular expression, let
<var>searchString</var> be
<a href="#sec-9.8">ToString</a>(<var>searchValue</var>) and search
<var>string</var> for the first occurrence of <var>searchString</var>. Let
<var>m</var> be 0.</p>

<p>If <var>replaceValue</var> is a function, then for each matched substring,
call the function with the following <var>m</var> + 3 arguments. Argument 1 is
the substring that matched. If <var>searchValue</var> is a regular expression,
the next <var>m</var> arguments are all of the captures in the MatchResult
(<a href="#sec-15.10.2.1">see 15.10.2.1</a>). Argument <var>m</var> + 2 is the
offset within <var>string</var> where the match occurred, and argument
<var>m</var> + 3 is <var>string</var>. The result is a String value derived
from the original <span class="pagemark" id="page156">PDF page 156 / printed
page 146</span> input by replacing each matched substring with the
corresponding return value of the function call, converted to a String if need
be.</p>

<p>Otherwise, let <var>newstring</var> denote the result of converting
<var>replaceValue</var> to a String. The result is a String value derived from
the original input String by replacing each matched substring with a String
derived from <var>newstring</var> by replacing characters in
<var>newstring</var> by replacement text as specified in Table 22. These
<code class="ch">$</code> replacements are done left-to-right, and, once such a
replacement is performed, the new replacement text is not subject to further
replacements. For example, <code class="expr">"$1,$2".replace(/(\$(\d))/g,
"$$1-$1$2")</code> returns <code class="expr">"$1-$11,$1-$22"</code>. A
<code class="t">$</code> in <var>newstring</var> that does not match any of the
forms below is left as is.</p>


<figure id="table22">
<figcaption>Table 22 &mdash; Replacement Text Symbol Substitutions</figcaption>
<table class="real-table">
  <tr>
    <th>Characters</th>
    <th>Replacement text</th>
  </tr>
  <tr>
    <td><code class="ch">$$</code></td>
    <td><code class="ch">$</code></td>
  </tr>
  <tr>
    <td><code class="ch">$&amp;</code></td>
    <td>The matched substring.</td>
  </tr>
  <tr>
    <td><code class="ch">$`</code></td>
    <td>The portion of <var>string</var> that precedes the matched
    substring.</td>
  </tr>
  <tr>
    <td><code class="ch">$&apos;</code></td>
    <td>The portion of <var>string</var> that follows the matched
    substring.</td>
  </tr>
  <tr>
    <td><code class="ch">$<var>n</var></code></td>
    <td>The <var>n</var>th capture, where <var>n</var> is a single digit in the
        range 1 to 9 and <code class="ch">$</code><var>n</var> is not followed
        by a decimal digit. If <var>n</var>&le;<var>m</var> and the
        <var>n</var>th capture is <span class="value">undefined</span>, use the
        empty String instead. If <var>n</var>&gt;<var>m</var>, the result is
        implementation-defined.</td>
  </tr>
  <tr>
    <td><code class="ch">$<var>nn</var></code></td>
    <td>The <var>nn</var>th capture, where <var>nn</var> is a two-digit decimal
        number in the range 01 to 99. If <var>nn</var>&le;<var>m</var> and the
        <var>nn</var>th capture is <span class="value">undefined</span>, use
        the empty String instead. If <var>nn</var>&gt;<var>m</var>, the result
        is implementation-defined.</td>
  </tr>
</table>
</figure>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">replace</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be a String object. Therefore, it can be
  transferred to other kinds of objects for use as a method.</p>
</div>
</section>

<section id="sec-15.5.4.12">
<h1><span class="secnum"><a href="#sec-15.5.4.12"
    title="link to this section">15.5.4.12</a></span>
    String.prototype.search (regexp)</h1>

<p>When the search method is called with argument <var>regexp</var>, the
following steps are taken:</p>

<ol class="proc">
  <li>Call <a href="#sec-9.10">CheckObjectCoercible</a> passing the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>string</var> be the result of calling
      <a href="#sec-9.8">ToString</a>, giving it the
      <span class="this">this</span> value as its argument.</li>

  <li>If <a href="#def-type">Type</a>(<var>regexp</var>) is Object and the
      value of the [[Class]] internal property of <var>regexp</var> is
      <span class="string value">"RegExp"</span>, then let <var>rx</var> be
      <var>regexp</var>;</li>

  <li>Else, let <var>rx</var> be a new RegExp object created as if by the
      expression <code class="expr">new RegExp(<var>regexp</var>)</code> where
      <code class="expr">RegExp</code> is the standard built-in constructor
      with that name.</li>

  <li>Search the value <var>string</var> from its beginning for an occurrence
      of the regular expression pattern <var>rx</var>. Let <var>result</var> be
      a Number indicating the offset within <var>string</var> where the pattern
      matched, or <span class="value">&minus;1</span> if there was no match.
      The <code class="propname">lastIndex</code> and
      <code class="propname">global</code> properties of <var>regexp</var> are
      ignored when performing the search. The
      <code class="propname">lastIndex</code> property of <var>regexp</var> is
      left unchanged.</li>

  <li>Return <var>result</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">search</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be a String object. Therefore, it can be
  transferred to other kinds of objects for use as a method.</p>
</div>
</section>

<section id="sec-15.5.4.13">
<h1><span class="secnum"><a href="#sec-15.5.4.13"
    title="link to this section">15.5.4.13</a></span>
    String.prototype.slice (start, end)</h1>

<p>The <span class="libname">slice</span> method takes two arguments,
<var>start</var> and <var>end</var>, and returns a substring of the result of
converting this object to a String, starting from character position
<var>start</var> and running to, but not including, character position
<var>end</var> (or through the end of the String if <var>end</var> is
<span class="value">undefined</span>). If <var>start</var> is negative, it is
treated as <var>sourceLength</var>+<var>start</var> where
<var>sourceLength</var> is the length of the String. If <var>end</var> is
negative, it is treated as <var>sourceLength</var>+<var>end</var> where
<var>sourceLength</var> is the length of the String. The result is a String
value, not a String object. The following steps are taken:</p>

<ol class="proc">
  <li>Call <a href="#sec-9.10">CheckObjectCoercible</a> passing the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>S</var> be the result of calling
      <a href="#sec-9.8">ToString</a>, giving it the
      <span class="this">this</span> value as its argument.</li>

  <li><span class="pagemark" id="page157">PDF page 157 / printed page
      147</span>Let <var>len</var> be the number of characters in
      <var>S</var>.</li>

  <li>Let <var>intStart</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>start</var>).</li>

  <li>If <var>end</var> is <span class="value">undefined</span>, let
      <var>intEnd</var> be <var>len</var>; else let <var>intEnd</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>end</var>).</li>

  <li>If <var>intStart</var> is negative, let <var>from</var> be
      max(<var>len</var> + <var>intStart</var>,0); else let <var>from</var> be
      min(<var>intStart</var>, <var>len</var>).</li>

  <li>If <var>intEnd</var> is negative, let <var>to</var> be max(<var>len</var>
      + <var>intEnd</var>,0); else let <var>to</var> be min(<var>intEnd</var>,
      <var>len</var>).</li>

  <li>Let <var>span</var> be max(<var>to</var> &minus; <var>from</var>,0).</li>

  <li>Return a String containing <var>span</var> consecutive characters from
      <var>S</var> beginning with the character at position
      <var>from</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">slice</span> method is <span class="value">2</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">slice</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be a String object. Therefore it can be
  transferred to other kinds of objects for use as a method.</p>
</div>
</section>

<section id="sec-15.5.4.14">
<h1><span class="secnum"><a href="#sec-15.5.4.14"
    title="link to this section">15.5.4.14</a></span>
    String.prototype.split (separator, limit)</h1>

<p>Returns an Array object into which substrings of the result of converting
this object to a String have been stored. The substrings are determined by
searching from left to right for occurrences of <var>separator</var>; these
occurrences are not part of any substring in the returned array, but serve to
divide up the String value. The value of <var>separator</var> may be a String
of any length or it may be a RegExp object (i.e., an object whose [[Class]]
internal property is <span class="string value">"RegExp"</span>;
<a href="#sec-15.10">see 15.10</a>).</p>

<p>The value of <var>separator</var> may be an empty String, an empty regular
expression, or a regular expression that can match an empty String. In this
case, <var>separator</var> does not match the empty substring at the beginning
or end of the input String, nor does it match the empty substring at the end of
the previous separator match. (For example, if <var>separator</var> is the
empty String, the String is split up into individual characters; the length of
the result array equals the length of the String, and each substring contains
one character.) If <var>separator</var> is a regular expression, only the first
match at a given position of the <span class="this">this</span> String is
considered, even if backtracking could yield a non-empty-substring match at
that position. (For example, <code class="expr">"ab".split(/a*?/)</code>
evaluates to the array <code class="expr">["a","b"]</code>, while
<code class="expr">"ab".split(/a*/)</code> evaluates to the array
<code class="expr">["","b"]</code>.)</p>

<p>If the <span class="this">this</span> object is (or converts to) the empty
String, the result depends on whether <var>separator</var> can match the empty
String. If it can, the result array contains no
<a href="#def-array-element">elements</a>. Otherwise, the result array contains
one element, which is the empty String.</p>

<p>If <var>separator</var> is a regular expression that contains capturing
parentheses, then each time <var>separator</var> is matched the results
(including any <span class="value">undefined</span> results) of the capturing
parentheses are spliced into the output array. For example,</p>

<pre>"A&lt;B&gt;bold&lt;/B&gt;and&lt;CODE&gt;coded&lt;/CODE&gt;".split(/&lt;(\/)?([^&lt;&gt;]+)&gt;/)</pre>

<p>evaluates to the array</p>

<pre>["A", undefined, "B", "bold", "/", "B", "and", undefined, "CODE", "coded", "/", "CODE", ""]</pre>

<p>If <var>separator</var> is <span class="value">undefined</span>, then the
result array contains just one String, which is the
<span class="this">this</span> value (converted to a String). If
<var>limit</var> is not <span class="value">undefined</span>, then the output
array is truncated so that it contains no more than <var>limit</var>
elements.</p>

<p>When the <span class="libname">split</span> method is called, the following
steps are taken:</p>

<ol class="proc">
  <li>Call <a href="#sec-9.10">CheckObjectCoercible</a> passing the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>S</var> be the result of calling
      <a href="#sec-9.8">ToString</a>, giving it the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>A</var> be a new array created as if by the expression
      <code class="expr">new Array()</code> where
      <code class="expr">Array</code> is the standard built-in constructor with
      that name.</li>

  <li>Let <var>lengthA</var> be 0.</li>

  <li>If <var>limit</var> is <span class="value">undefined</span>, let
      <var>lim</var> = 2<sup>32</sup>&minus;1; else let <var>lim</var> =
      <a href="#sec-9.6">ToUint32</a>(<var>limit</var>).</li>

  <li>Let <var>s</var> be the number of characters in <var>S</var>.</li>

  <li>Let <var>p</var> = 0.</li>

  <li>If <var>separator</var> is a RegExp object (its [[Class]] is
      <span class="string value">"RegExp"</span>), let <var>R</var> =
      <var>separator</var>; otherwise let <var>R</var> =
      <a href="#sec-9.8">ToString</a>(<var>separator</var>).</li>

  <li><span class="pagemark" id="page158">PDF page 158 / printed page
      148</span>If <var>lim</var> = 0, return <var>A</var>.</li>

  <li>If <var>separator</var> is <span class="value">undefined</span>, then
    <ol class="block">
      <li>Call the [[DefineOwnProperty]] internal method of <var>A</var> with
          arguments <span class="string value">"0"</span>, <a href="#sec-8.10">Property Descriptor</a>
          {[[Value]]: <var>S</var>, [[Writable]]:
          <span class="value">true</span>, [[Enumerable]]:
          <span class="value">true</span>, [[Configurable]]:
          <span class="value">true</span>}, and
          <span class="value">false</span>.</li>

      <li>Return <var>A</var>.</li>
    </ol>
  </li>

  <li>If <var>s</var> = 0, then
    <ol class="block">
      <li>Call <span class="abstractopname">SplitMatch</span>(<var>R</var>,
          <var>S</var>, 0) and let <var>z</var> be its MatchResult result.</li>

      <li>If <var>z</var> is not <span class="spec value">failure</span>, return <var>A</var>.</li>

      <li>Call the [[DefineOwnProperty]] internal method of <var>A</var> with
          arguments <span class="string value">"0"</span>, <a href="#sec-8.10">Property Descriptor</a>
          {[[Value]]: <var>S</var>, [[Writable]]:
          <span class="value">true</span>, [[Enumerable]]:
          <span class="value">true</span>, [[Configurable]]:
          <span class="value">true</span>}, and
          <span class="value">false</span>.</li>

      <li>Return <var>A</var>.</li>
    </ol>
  </li>

  <li>Let <var>q</var> = <var>p</var>.</li>

  <li>Repeat, while <var>q</var> &ne; <var>s</var>
    <ol class="block">
      <li>Call <span class="abstractopname">SplitMatch</span>(<var>R</var>,
          <var>S</var>, <var>q</var>) and let <var>z</var> be its MatchResult
          result.</li>

      <li>If <var>z</var> is <span class="spec value">failure</span>, then let <var>q</var> = <var>q</var>+1.</li>

      <li>Else, <var>z</var> is not <span class="spec value">failure</span>
        <ol class="block">
          <li><var>z</var> must be a State. Let <var>e</var> be <var>z</var>&rsquo;s
              <var>endIndex</var> and let <var>cap</var> be <var>z</var>&rsquo;s
              <var>captures</var> array.</li>

          <li>If <var>e</var> = <var>p</var>, then let <var>q</var> = <var>q</var>+1.</li>

          <li>Else, <var>e</var> &ne; <var>p</var>
            <ol class="block">
              <li>Let <var>T</var> be a String value equal to the substring of
                  <var>S</var> consisting of the characters at positions
                  <var>p</var> (inclusive) through <var>q</var>
                  (exclusive).</li>

              <li>Call the [[DefineOwnProperty]] internal method of <var>A</var>
                  with arguments
                  <a href="#sec-9.8">ToString</a>(<var>lengthA</var>), <a href="#sec-8.10">Property
                  Descriptor</a> {[[Value]]: <var>T</var>, [[Writable]]:
                  <span class="value">true</span>, [[Enumerable]]:
                  <span class="value">true</span>, [[Configurable]]:
                  <span class="value">true</span>}, and
                  <span class="value">false</span>.</li>

              <li>Increment <var>lengthA</var> by 1.</li>

              <li>If <var>lengthA</var> = <var>lim</var>, return <var>A</var>.</li>

              <li>Let <var>p</var> = <var>e</var>.</li>

              <li>Let <var>i</var> = 0.</li>

              <li>Repeat, while <var>i</var> is not equal to the number of elements
                  in <var>cap</var>.
                <ol class="block">
                  <li>Let <var>i</var> = <var>i</var>+1.</li>

                  <li>Call the [[DefineOwnProperty]] internal method
                      of <var>A</var> with arguments
                      <a href="#sec-9.8">ToString</a>(<var>lengthA</var>),
                      <a href="#sec-8.10">Property Descriptor</a> {[[Value]]:
                      <var>cap</var>[<var>i</var>], [[Writable]]:
                      <span class="value">true</span>, [[Enumerable]]:
                      <span class="value">true</span>, [[Configurable]]:
                      <span class="value">true</span>}, and
                      <span class="value">false</span>.</li>

                  <li>Increment <var>lengthA</var> by 1.</li>

                  <li>If <var>A</var><code>.length</code> = <var>lim</var>, return
                      <var>A</var>.</li>
                </ol>
              </li>

              <li>Let <var>q</var> = <var>p</var>.</li>
            </ol>
          </li>
        </ol>
      </li>
    </ol>
  </li>

  <li>Let <var>T</var> be a String value equal to the substring of <var>S</var>
      consisting of the characters at positions <var>p</var> (inclusive)
      through <var>s</var> (exclusive).</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>A</var> with
      arguments <a href="#sec-9.8">ToString</a>(<var>lengthA</var>),
      <a href="#sec-8.10">Property Descriptor</a> {[[Value]]: <var>T</var>,
      [[Writable]]: <span class="value">true</span>, [[Enumerable]]:
      <span class="value">true</span>, [[Configurable]]:
      <span class="value">true</span>}, and
      <span class="value">false</span>.</li>

  <li>Return <var>A</var>.</li>
</ol>

<p>The abstract operation <span class="abstractopname">SplitMatch</span> takes
three parameters, a String <var>S</var>, an integer <var>q</var>, and a String
or RegExp <var>R</var>, and performs the following in order to return a
MatchResult (<a href="#sec-15.10.2.1">see 15.10.2.1</a>):</p>

<ol class="proc">
  <li>If <var>r</var> is a RegExp object (its [[Class]] is <span class="string
      value">"RegExp"</span>), then
    <ol class="block">
      <li>Call the [[Match]] internal method of <var>r</var> giving it the
          arguments <var>s</var> and <var>q</var>, and return the MatchResult
          result.</li>
    </ol>
  </li>

  <li><a href="#def-type">Type</a>(<var>r</var>) must be String. Let
      <var>r</var> be the number of characters in <var>r</var>.</li>

  <li>Let <var>s</var> be the number of characters in <var>s</var>.</li>

  <li>If <var>q</var>+<var>r</var> &gt; <var>s</var> then return the
      MatchResult <span class="spec value">failure</span>.</li>

  <li>If there exists an integer <var>i</var> between 0 (inclusive) and
      <var>r</var> (exclusive) such that the character at position
      <var>q</var>+<var>i</var> of <var>s</var> is different from the character
      at position <var>i</var> of <var>r</var>, then return <span class="spec
      value">failure</span>.</li>

  <li>Let <var>cap</var> be an empty array of captures
      (<a href="#sec-15.10.2.1">see 15.10.2.1</a>).</li>

  <li>Return the State (<var>q</var>+<var>r</var>, <var>cap</var>).
      (<a href="#sec-15.10.2.1">see 15.10.2.1</a>)</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">split</span> method is <span class="value">2</span>.</p>

<div class="note">
  <p><span class="nh">NOTE 1</span> The <span class="libname">split</span>
  method ignores the value of <var>separator</var><code>.global</code> for
  separators that are RegExp objects.</p>
</div>


<span class="pagemark" id="page159">PDF page 159 / printed page 149</span>
<div class="note">
  <p><span class="nh">NOTE 2</span> The <span class="libname">split</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be a String object. Therefore, it can be
  transferred to other kinds of objects for use as a method.</p>
</div>
</section>

<section id="sec-15.5.4.15">
<h1><span class="secnum"><a href="#sec-15.5.4.15"
    title="link to this section">15.5.4.15</a></span>
    String.prototype.substring (start, end)</h1>

<p>The <span class="libname">substring</span> method takes two arguments,
<var>start</var> and <var>end</var>, and returns a substring of the result of
converting this object to a String, starting from character position
<var>start</var> and running to, but not including, character position
<var>end</var> of the String (or through the end of the String is
<var>end</var> is <span class="value">undefined</span>). The result is a String
value, not a String object.</p>

<p>If either argument is <span class="value">NaN</span> or negative, it is
replaced with zero; if either argument is larger than the length of the String,
it is replaced with the length of the String.</p>

<p>If <var>start</var> is larger than <var>end</var>, they are swapped.</p>

<p>The following steps are taken:</p>

<ol class="proc">
  <li>Call <a href="#sec-9.10">CheckObjectCoercible</a> passing the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>S</var> be the result of calling
      <a href="#sec-9.8">ToString</a>, giving it the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>len</var> be the number of characters in <var>S</var>.</li>

  <li>Let <var>intStart</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>start</var>).</li>

  <li>If <var>end</var> is <span class="value">undefined</span>, let
      <var>intEnd</var> be <var>len</var>; else let <var>intEnd</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>end</var>).</li>

  <li>Let <var>finalStart</var> be min(max(<var>intStart</var>, 0),
      <var>len</var>).</li>

  <li>Let <var>finalEnd</var> be min(max(<var>intEnd</var>, 0),
      <var>len</var>).</li>

  <li>Let <var>from</var> be min(<var>finalStart</var>,
      <var>finalEnd</var>).</li>

  <li>Let <var>to</var> be max(<var>finalStart</var>,
      <var>finalEnd</var>).</li>

  <li>Return a String whose length is <var>to</var> &minus; <var>from</var>,
      containing characters from <var>S</var>, namely the characters with
      indices <var>from</var> through <var>to</var>&minus;1, in ascending
      order.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">substring</span> method is
<span class="value">2</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">substring</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be a String object. Therefore, it can be
  transferred to other kinds of objects for use as a method.</p>
</div>
</section>

<section id="sec-15.5.4.16">
<h1><span class="secnum"><a href="#sec-15.5.4.16"
    title="link to this section">15.5.4.16</a></span>
    String.prototype.toLowerCase ( )</h1>

<p>The following steps are taken:</p>

<ol class="proc">
  <li>Call <a href="#sec-9.10">CheckObjectCoercible</a> passing the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>S</var> be the result of calling
      <a href="#sec-9.8">ToString</a>, giving it the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>L</var> be a String where each character of <var>L</var> is
      either the Unicode lowercase equivalent of the corresponding character of
      <var>S</var> or the actual corresponding character of <var>S</var> if no
      Unicode lowercase equivalent exists.</li>

  <li>Return <var>L</var>.</li>
</ol>

<p>For the purposes of this operation, the 16-bit code units of the Strings are
treated as code points in the Unicode Basic Multilingual Plane. Surrogate code
points are directly transferred from <var>S</var> to <var>L</var> without any
mapping.</p>

<p>The result must be derived according to the case mappings in the Unicode
character database (this explicitly includes not only the UnicodeData.txt file,
but also the SpecialCasings.txt file that accompanies it in Unicode 2.1.8 and
later).</p>

<div class="note">
  <p><span class="nh">NOTE 1</span> The case mapping of some characters may
  produce multiple characters. In this case the result String may not be the
  same length as the source String. Because both
  <span class="libname">toUpperCase</span> and
  <span class="libname">toLowerCase</span> have context-sensitive behaviour,
  the functions are not symmetrical. In other words,
  <code class="expr">s.toUpperCase().toLowerCase()</code> is not necessarily
  equal to <code class="expr">s.toLowerCase()</code>.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> The
  <span class="libname">toLowerCase</span> function is intentionally generic;
  it does not require that its <span class="this">this</span> value be a String
  object. Therefore, it can be transferred to other kinds of objects for use as
  a method.</p>
</div>
</section>


<span class="pagemark" id="page160">PDF page 160 / printed page 150</span>
<section id="sec-15.5.4.17">
<h1><span class="secnum"><a href="#sec-15.5.4.17"
    title="link to this section">15.5.4.17</a></span>
    String.prototype.toLocaleLowerCase ( )</h1>

<p>This function works exactly the same as
<span class="libname">toLowerCase</span> except that its result is intended to
yield the correct result for the host environment&rsquo;s current locale,
rather than a locale-independent result. There will only be a difference in the
few cases (such as Turkish) where the rules for that language conflict with the
regular Unicode case mappings.</p>

<div class="note">
  <p><span class="nh">NOTE 1</span> The first parameter to this function is
  likely to be used in a future version of this standard; it is recommended
  that implementations do not use this parameter position for anything
  else.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> The
  <span class="libname">toLocaleLowerCase</span> function is intentionally
  generic; it does not require that its <span class="this">this</span> value be
  a String object. Therefore, it can be transferred to other kinds of objects
  for use as a method.</p>
</div>
</section>

<section id="sec-15.5.4.18">
<h1><span class="secnum"><a href="#sec-15.5.4.18"
    title="link to this section">15.5.4.18</a></span>
    String.prototype.toUpperCase ( )</h1>

<p>This function behaves in exactly the same way as
<span class="libname">String.prototype.toLowerCase</span>, except that
characters are mapped to their <em>uppercase</em> equivalents as specified in
the Unicode Character Database.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">toUpperCase</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be a String object. Therefore, it can be
  transferred to other kinds of objects for use as a method.</p>
</div>
</section>

<section id="sec-15.5.4.19">
<h1><span class="secnum"><a href="#sec-15.5.4.19"
    title="link to this section">15.5.4.19</a></span>
    String.prototype.toLocaleUpperCase ( )</h1>

<p>This function works exactly the same as
<span class="libname">toUpperCase</span> except that its result is intended to
yield the correct result for the host environment&rsquo;s current locale,
rather than a locale-independent result. There will only be a difference in the
few cases (such as Turkish) where the rules for that language conflict with the
regular Unicode case mappings.</p>

<div class="note">
  <p><span class="nh">NOTE 1</span> The first parameter to this function is
  likely to be used in a future version of this standard; it is recommended
  that implementations do not use this parameter position for anything
  else.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> The
  <span class="libname">toLocaleUpperCase</span> function is intentionally
  generic; it does not require that its <span class="this">this</span> value be
  a String object. Therefore, it can be transferred to other kinds of objects
  for use as a method.</p>
</div>
</section>

<section id="sec-15.5.4.20">
<h1><span class="secnum"><a href="#sec-15.5.4.20"
    title="link to this section">15.5.4.20</a></span>
    String.prototype.trim ( )</h1>

<p>The following steps are taken:</p>

<ol class="proc">
  <li>Call <a href="#sec-9.10">CheckObjectCoercible</a> passing the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>S</var> be the result of calling
      <a href="#sec-9.8">ToString</a>, giving it the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>T</var> be a String value that is a copy of <var>S</var> with
      both leading and trailing white space removed. The definition of white
      space is the union of <span class="nt">WhiteSpace</span> and
      <span class="nt">LineTerminator</span>.</li>

  <li>Return <var>T</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">trim</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be a String object. Therefore, it can be
  transferred to other kinds of objects for use as a method.</p>
</div>
</section>
</section>

<section id="sec-15.5.5">
<h1><span class="secnum"><a href="#sec-15.5.5"
    title="link to this section">15.5.5</a></span>
    Properties of String Instances</h1>

<p>String instances inherit properties from the String prototype object and
their [[Class]] internal property value is <span class="string
value">"String"</span>. String instances also have a [[PrimitiveValue]]
internal property, a <code class="propname">length</code> property, and a set
of enumerable properties with array index names.</p>

<p>The [[PrimitiveValue]] internal property is the String value represented by
this String object. The array index named properties correspond to the
individual characters of the String value. A special [[GetOwnProperty]]
internal method is used to specify the number, values, and attributes of the
array index named properties.</p>

<section id="sec-15.5.5.1">
<span class="pagemark" id="page161">PDF page 161 / printed page 151</span>
<h1><span class="secnum"><a href="#sec-15.5.5.1"
    title="link to this section">15.5.5.1</a></span>
    length</h1>

<p>The number of characters in the String value represented by this String
object.</p>

<p>Once a String object is created, this property is unchanging. It has the
attributes { [[Writable]]: <span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.5.5.2">
<h1><span class="secnum"><a href="#sec-15.5.5.2"
    title="link to this section">15.5.5.2</a></span>
    [[GetOwnProperty]] ( P )</h1>

<p>String objects use a variation of the [[GetOwnProperty]] internal method
used for other native ECMAScript objects (<a href="#sec-8.12.1">8.12.1</a>).
This special internal method is used to add access for named properties
corresponding to individual characters of String objects.</p>

<p>Assume <var>S</var> is a String object and <var>P</var> is a String.</p>

<p>When the [[GetOwnProperty]] internal method of <var>S</var> is called with
property name <var>P</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>desc</var> be the result of calling the default
      [[GetOwnProperty]] internal method (<a href="#sec-8.12.1">8.12.1</a>) on
      <var>S</var> with argument <var>P</var>.</li>

  <li>If <var>desc</var> is not <span class="value">undefined</span> return
      <var>desc</var>.</li>

  <li>If
      <a href="#sec-9.8">ToString</a>(<a href="#def-abs">abs</a>(<a href="#sec-9.4">ToInteger</a>(<var>P</var>)))
      is not the same value as <var>P</var>, return
      <span class="value">undefined</span>.</li>

  <li>Let <var>str</var> be the String value of the [[PrimitiveValue]] internal
      property of <var>S</var>.</li>

  <li>Let <var>index</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>P</var>).</li>

  <li>Let <var>len</var> be the number of characters in <var>str</var>.</li>

  <li>If <var>len</var> &le; <var>index</var>, return
      <span class="value">undefined</span>.</li>

  <li>Let <var>resultStr</var> be a String of length 1, containing one
      character from <var>str</var>, specifically the character at position
      <var>index</var>, where the first (leftmost) character in <var>str</var>
      is considered to be at position 0, the next one at position 1, and so
      on.</li>

  <li>Return a <a href="#sec-8.10">Property Descriptor</a> { [[Value]]:
      <var>resultStr</var>, [[Enumerable]]: <span class="value">true</span>,
      [[Writable]]: <span class="value">false</span>, [[Configurable]]:
      <span class="value">false</span> }.</li>
</ol>
</section>
</section>
</section>


<section id="sec-15.6">
<h1><span class="secnum"><a href="#sec-15.6"
    title="link to this section">15.6</a></span>
    Boolean Objects</h1>

<section id="sec-15.6.1">
<h1><span class="secnum"><a href="#sec-15.6.1"
    title="link to this section">15.6.1</a></span>
    The Boolean Constructor Called as a Function</h1>

<p>When <span class="libname">Boolean</span> is called as a function rather
than as a constructor, it performs a type conversion.</p>


<section id="sec-15.6.1.1">
<h1><span class="secnum"><a href="#sec-15.6.1.1"
    title="link to this section">15.6.1.1</a></span>
    Boolean (value)</h1>

<p>Returns a Boolean value (not a Boolean object) computed by
<a href="#sec-9.2">ToBoolean</a>(<var>value</var>).</p>
</section>
</section>

<section id="sec-15.6.2">
<h1><span class="secnum"><a href="#sec-15.6.2"
    title="link to this section">15.6.2</a></span>
    The Boolean Constructor</h1>

<p>When <span class="libname">Boolean</span> is called as part of a
<code class="t">new</code> expression it is a constructor: it initialises the
newly created object.</p>


<section id="sec-15.6.2.1">
<h1><span class="secnum"><a href="#sec-15.6.2.1"
    title="link to this section">15.6.2.1</a></span>
    new Boolean (value)</h1>

<p>The [[Prototype]] internal property of the newly constructed object is set
to the original Boolean prototype object, the one that is the initial value of
<span class="libname">Boolean.prototype</span>
(<a href="#sec-15.6.3.1">15.6.3.1</a>).</p>

<p>The [[Class]] internal property of the newly constructed Boolean object is
set to <span class="string value">"Boolean"</span>.</p>

<p>The [[PrimitiveValue]] internal property of the newly constructed Boolean
object is set to <a href="#sec-9.2">ToBoolean</a>(<var>value</var>).</p>

<p>The [[Extensible]] internal property of the newly constructed object is set
to <span class="value">true</span>.</p>
</section>
</section>

<section id="sec-15.6.3">
<span class="pagemark" id="page162">PDF page 162 / printed page 152</span>
<h1><span class="secnum"><a href="#sec-15.6.3"
    title="link to this section">15.6.3</a></span>
    Properties of the Boolean Constructor</h1>

<p>The value of the [[Prototype]] internal property of the Boolean constructor
is <a href="#sec-15.3.4">the Function prototype object (15.3.4)</a>.</p>

<p>Besides the internal properties and the <code class="propname">length</code>
property (whose value is <span class="value">1</span>), the Boolean constructor
has the following property:</p>


<section id="sec-15.6.3.1">
<h1><span class="secnum"><a href="#sec-15.6.3.1"
    title="link to this section">15.6.3.1</a></span>
    Boolean.prototype</h1>

<p>The initial value of <span class="libname">Boolean.prototype</span> is the
Boolean prototype object (<a href="#sec-15.6.4">15.6.4</a>).</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>
</section>

<section id="sec-15.6.4">
<h1><span class="secnum"><a href="#sec-15.6.4"
    title="link to this section">15.6.4</a></span>
    Properties of the Boolean Prototype Object</h1>

<p>The Boolean prototype object is itself a Boolean object (its [[Class]] is
<span class="string value">"Boolean"</span>) whose value is
<span class="value">false</span>.</p>

<p>The value of the [[Prototype]] internal property of the Boolean prototype
object is the standard built-in Object prototype object
(<a href="#sec-15.2.4">15.2.4</a>).</p>


<section id="sec-15.6.4.1">
<h1><span class="secnum"><a href="#sec-15.6.4.1"
    title="link to this section">15.6.4.1</a></span>
    Boolean.prototype.constructor</h1>

<p>The initial value of
<span class="libname">Boolean.prototype.constructor</span> is the built-in
<span class="libname">Boolean</span> constructor.</p>
</section>

<section id="sec-15.6.4.2">
<h1><span class="secnum"><a href="#sec-15.6.4.2"
    title="link to this section">15.6.4.2</a></span>
    Boolean.prototype.toString ( )</h1>

<p>The following steps are taken:</p>

<ol class="proc">
  <li>Let <var>B</var> be the <span class="this">this</span> value.</li>

  <li>If <a href="#def-type">Type</a>(<var>B</var>) is Boolean, then let
      <var>b</var> be <var>B</var>.</li>

  <li>Else if <a href="#def-type">Type</a>(<var>B</var>) is Object and the
      value of the [[Class]] internal property of <var>B</var> is
      <span class="string value">"Boolean"</span>, then let <var>b</var> be the
      value of the [[PrimitiveValue]] internal property of <var>B</var>.</li>

  <li>Else throw a <span class="errorname">TypeError</span> exception.</li>

  <li>If <var>b</var> is <span class="value">true</span>, then return
      <span class="string value">"true"</span>; else return <span class="string
      value">"false"</span>.</li>
</ol>
</section>

<section id="sec-15.6.4.3">
<h1><span class="secnum"><a href="#sec-15.6.4.3"
    title="link to this section">15.6.4.3</a></span>
    Boolean.prototype.valueOf ( )</h1>

<p>The following steps are taken:</p>

<ol class="proc">
  <li>Let <var>B</var> be the <span class="this">this</span> value.</li>

  <li>If <a href="#def-type">Type</a>(<var>B</var>) is Boolean, then let
      <var>b</var> be <var>B</var>.</li>

  <li>Else if <a href="#def-type">Type</a>(<var>B</var>) is Object and the
      value of the [[Class]] internal property of <var>B</var> is
      <span class="string value">"Boolean"</span>, then let <var>b</var> be the
      value of the [[PrimitiveValue]] internal property of <var>B</var>.</li>

  <li>Else throw a <span class="errorname">TypeError</span> exception.</li>

  <li>Return <var>b</var>.</li>
</ol>
</section>
</section>

<section id="sec-15.6.5">
<h1><span class="secnum"><a href="#sec-15.6.5"
    title="link to this section">15.6.5</a></span>
    Properties of Boolean Instances</h1>

<p>Boolean instances inherit properties from the Boolean prototype object and
their [[Class]] internal property value is <span class="string
value">"Boolean"</span>. Boolean instances also have a [[PrimitiveValue]]
internal property.</p>

<p>The [[PrimitiveValue]] internal property is the Boolean value represented by
this Boolean object.</p>
</section>
</section>


<section id="sec-15.7">
<span class="pagemark" id="page163">PDF page 163 / printed page 153</span>
<h1><span class="secnum"><a href="#sec-15.7"
    title="link to this section">15.7</a></span>
    Number Objects</h1>

<section id="sec-15.7.1">
<h1><span class="secnum"><a href="#sec-15.7.1"
    title="link to this section">15.7.1</a></span>
    The Number Constructor Called as a Function</h1>

<p>When <span class="libname">Number</span> is called as a function rather than
as a constructor, it performs a type conversion.</p>


<section id="sec-15.7.1.1">
<h1><span class="secnum"><a href="#sec-15.7.1.1"
    title="link to this section">15.7.1.1</a></span>
    Number ( [ value ] )</h1>

<p>Returns a Number value (not a Number object) computed by
<a href="#sec-9.3">ToNumber</a>(<var>value</var>) if <var>value</var> was
supplied, else returns <span class="value">+0</span>.</p>
</section>
</section>

<section id="sec-15.7.2">
<h1><span class="secnum"><a href="#sec-15.7.2"
    title="link to this section">15.7.2</a></span>
    The Number Constructor</h1>

<p>When <span class="libname">Number</span> is called as part of a
<code class="t">new</code> expression it is a constructor: it initialises the
newly created object.</p>


<section id="sec-15.7.2.1">
<h1><span class="secnum"><a href="#sec-15.7.2.1"
    title="link to this section">15.7.2.1</a></span>
    new Number ( [ value ] )</h1>

<p>The [[Prototype]] internal property of the newly constructed object is set
to the original Number prototype object, the one that is the initial value of
<span class="libname">Number.prototype</span>
(<a href="#sec-15.7.3.1">15.7.3.1</a>).</p>

<p>The [[Class]] internal property of the newly constructed object is set to
<span class="string value">"Number"</span>.</p>

<p>The [[PrimitiveValue]] internal property of the newly constructed object is
set to <a href="#sec-9.3">ToNumber</a>(<var>value</var>) if <var>value</var>
was supplied, else to +0.</p>

<p>The [[Extensible]] internal property of the newly constructed object is set
to <span class="value">true</span>.</p>
</section>
</section>

<section id="sec-15.7.3">
<h1><span class="secnum"><a href="#sec-15.7.3"
    title="link to this section">15.7.3</a></span>
    Properties of the Number Constructor</h1>

<p>The value of the [[Prototype]] internal property of the Number constructor
is <a href="#sec-15.3.4">the Function prototype object (15.3.4)</a>.</p>

<p>Besides the internal properties and the <code class="propname">length</code>
property (whose value is <span class="value">1</span>), the Number constructor
has the following properties:</p>


<section id="sec-15.7.3.1">
<h1><span class="secnum"><a href="#sec-15.7.3.1"
    title="link to this section">15.7.3.1</a></span>
    Number.prototype</h1>

<p>The initial value of <span class="libname">Number.prototype</span> is the
Number prototype object (<a href="#sec-15.7.4">15.7.4</a>).</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.7.3.2">
<h1><span class="secnum"><a href="#sec-15.7.3.2"
    title="link to this section">15.7.3.2</a></span>
    Number.MAX_VALUE</h1>

<p>The value of <span class="libname">Number.MAX_VALUE</span> is the largest
positive finite value of the Number type, which is approximately
1.7976931348623157 &times; 10<sup>308</sup>.</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.7.3.3">
<h1><span class="secnum"><a href="#sec-15.7.3.3"
    title="link to this section">15.7.3.3</a></span>
    Number.MIN_VALUE</h1>

<p>The value of <span class="libname">Number.MIN_VALUE</span> is the smallest
positive value of the Number type, which is approximately 5 &times;
10<sup>&minus;324</sup>.</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.7.3.4">
<span class="pagemark" id="page164">PDF page 164 / printed page 154</span>
<h1><span class="secnum"><a href="#sec-15.7.3.4"
    title="link to this section">15.7.3.4</a></span>
    Number.NaN</h1>

<p>The value of <span class="libname">Number.NaN</span> is
<span class="value">NaN</span>.</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.7.3.5">
<h1><span class="secnum"><a href="#sec-15.7.3.5"
    title="link to this section">15.7.3.5</a></span>
    Number.NEGATIVE_INFINITY</h1>

<p>The value of Number.NEGATIVE_INFINITY is &minus;&infin;.</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.7.3.6">
<h1><span class="secnum"><a href="#sec-15.7.3.6"
    title="link to this section">15.7.3.6</a></span>
    Number.POSITIVE_INFINITY</h1>

<p>The value of Number.POSITIVE_INFINITY is +&infin;.</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>
</section>

<section id="sec-15.7.4">
<h1><span class="secnum"><a href="#sec-15.7.4"
    title="link to this section">15.7.4</a></span>
    Properties of the Number Prototype Object</h1>

<p>The Number prototype object is itself a Number object (its [[Class]] is
<span class="string value">"Number"</span>) whose value is +0.</p>

<p>The value of the [[Prototype]] internal property of the Number prototype
object is the standard built-in Object prototype object
(<a href="#sec-15.2.4">15.2.4</a>).</p>

<p>Unless explicitly stated otherwise, the methods of the Number prototype
object defined below are not generic and the <span class="this">this</span>
value passed to them must be either a Number value or an Object for which the
value of the [[Class]] internal property is <span class="string
value">"Number"</span>.</p>

<p id="def-this-Number-value">In the following descriptions of functions that
are properties of the Number prototype object, the phrase &ldquo;this Number
object&rdquo; refers to either the object that is the
<span class="this">this</span> value for the invocation of the function or, if
<a href="#def-type">Type</a>(<span class="this">this</span> value) is Number,
an object that is created as if by the expression <code class="expr">new
Number(<var><span class="this">this</span> value</var>)</code> where
<code class="expr">Number</code> is the standard built-in constructor with that
name. Also, the phrase &ldquo;this Number value&rdquo; refers to either the
Number value represented by this Number object, that is, the value of the
[[PrimitiveValue]] internal property of this Number object or the
<span class="this">this</span> value if its type is Number. A
<span class="errorname">TypeError</span> exception is thrown if the
<span class="this">this</span> value is neither an object for which the value
of the [[Class]] internal property is <span class="string
value">"Number"</span> or a value whose type is Number.</p>


<section id="sec-15.7.4.1">
<h1><span class="secnum"><a href="#sec-15.7.4.1"
    title="link to this section">15.7.4.1</a></span>
    Number.prototype.constructor</h1>

<p>The initial value of
<span class="libname">Number.prototype.constructor</span> is the built-in
<span class="libname">Number</span> constructor.</p>
</section>

<section id="sec-15.7.4.2">
<h1><span class="secnum"><a href="#sec-15.7.4.2"
    title="link to this section">15.7.4.2</a></span>
    Number.prototype.toString ( [ radix ] )</h1>

<p>The optional <var>radix</var> should be an integer value in the inclusive
range 2 to 36. If <var>radix</var> not present or is
<span class="value">undefined</span> the Number 10 is used as the value of
<var>radix</var>. If <a href="#sec-9.4">ToInteger</a>(<var>radix</var>) is the
Number 10 then <a href="#def-this-Number-value">this Number value</a> is given
as an argument to the <a href="#sec-9.8">ToString</a> abstract operation; the
resulting String value is returned.</p>

<p>If <a href="#sec-9.4">ToInteger</a>(<var>radix</var>) is not an integer
between 2 and 36 inclusive throw a <span class="errorname">RangeError</span>
exception. If <a href="#sec-9.4">ToInteger</a>(<var>radix</var>) is an integer
from 2 to 36, but not 10, the result is a String representation of
<a href="#def-this-Number-value">this Number value</a> using the specified
radix. Letters <code class="ch">a</code>-<code class="ch">z</code> are used for
digits with values 10 through 35. The precise algorithm is
implementation-dependent if the radix is not 10, however the algorithm should
be a generalization of that specified in <a href="#sec-9.8.1">9.8.1</a>.</p>

<p>The <span class="libname">toString</span> function is not generic; it throws
a <span class="errorname">TypeError</span> exception if its
<span class="this">this</span> value is not a Number or a Number object.
Therefore, it cannot be transferred to other kinds of objects for use as a
method.</p>
</section>

<section id="sec-15.7.4.3">
<span class="pagemark" id="page165">PDF page 165 / printed page 155</span>
<h1><span class="secnum"><a href="#sec-15.7.4.3"
    title="link to this section">15.7.4.3</a></span>
    Number.prototype.toLocaleString()</h1>

<p>Produces a String value that represents
<a href="#def-this-Number-value">this Number value</a> formatted according to
the conventions of the host environment&rsquo;s current locale. This function
is implementation-dependent, and it is permissible, but not encouraged, for it
to return the same thing as <span class="libname">toString</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The first parameter to this function is
  likely to be used in a future version of this standard; it is recommended
  that implementations do not use this parameter position for anything
  else.</p>
</div>
</section>

<section id="sec-15.7.4.4">
<h1><span class="secnum"><a href="#sec-15.7.4.4"
    title="link to this section">15.7.4.4</a></span>
    Number.prototype.valueOf ( )</h1>

<p>Returns <a href="#def-this-Number-value">this Number value</a>.</p>

<p>The <span class="libname">valueOf</span> function is not generic; it throws
a <span class="errorname">TypeError</span> exception if its
<span class="this">this</span> value is not a Number or a Number object.
Therefore, it cannot be transferred to other kinds of objects for use as a
method.</p>
</section>

<section id="sec-15.7.4.5">
<h1><span class="secnum"><a href="#sec-15.7.4.5"
    title="link to this section">15.7.4.5</a></span>
    Number.prototype.toFixed (fractionDigits)</h1>

<p>Return a String containing <a href="#def-this-Number-value">this Number
value</a> represented in decimal fixed-point notation with
<var>fractionDigits</var> digits after the decimal point. If
<var>fractionDigits</var> is <span class="value">undefined</span>, 0 is
assumed. Specifically, perform the following steps:</p>

<ol class="proc">
  <li>Let <var>f</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>fractionDigits</var>). (If
      <var>fractionDigits</var> is <span class="value">undefined</span>, this
      step produces the value <span class="value">0</span>).</li>

  <li>If <var>f</var> &lt; 0 or <var>f</var> &gt; 20, throw a
      <span class="errorname">RangeError</span> exception.</li>

  <li>Let <var>x</var> be <a href="#def-this-Number-value">this Number
      value</a>.</li>

  <li>If <var>x</var> is <span class="value">NaN</span>, return the String
      <span class="string value">"NaN"</span>.</li>

  <li>Let <var>s</var> be the empty String.</li>

  <li>If <var>x</var> &lt; 0, then
    <ol class="block">
      <li>Let <var>s</var> be <span class="string value">"-"</span>.</li>

      <li>Let <var>x</var> = &minus;<var>x</var>.</li>
    </ol>
  </li>

  <li>If <var>x</var> &ge; 10<sup>21</sup>, then
    <ol class="block">
      <li>Let <var>m</var>
          = <a href="#sec-9.8">ToString</a>(<var>x</var>).</li>
    </ol>
  </li>

  <li>Else, <var>x</var> &lt; 10<sup>21</sup>
    <ol class="block">
      <li>Let <var>n</var> be an integer for which the exact mathematical value
          of <var>n</var> &divide; 10<sup><var>f</var></sup> &minus;
          <var>x</var> is as close to zero as possible. If there are two such
          <var>n</var>, pick the larger <var>n</var>.</li>

      <li>If <var>n</var> = 0, let <var>m</var> be the String
          <span class="string value">"0"</span>. Otherwise, let <var>m</var> be
          the String consisting of the digits of the decimal representation of
          <var>n</var> (in order, with no leading zeroes).</li>

      <li>If <var>f</var> &ne; 0, then
        <ol class="block">
          <li>Let <var>k</var> be the number of characters in
              <var>m</var>.</li>

          <li>If <var>k</var> &le; <var>f</var>, then
            <ol class="block">
              <li>Let <var>z</var> be the String consisting of
                  <var>f</var>+1&minus;<var>k</var> occurrences of the
                  character &lsquo;<code class="ch">0</code>&rsquo;.</li>

              <li>Let <var>m</var> be the concatenation of Strings <var>z</var>
                  and <var>m</var>.</li>

              <li>Let <var>k</var> = <var>f</var> + 1.</li>
            </ol>
          </li>

          <li>Let <var>a</var> be the first <var>k</var>-<var>f</var>
              characters of <var>m</var>, and let <var>b</var> be the remaining
              <var>f</var> characters of <var>m</var>.</li>

          <li>Let <var>m</var> be the concatenation of the three Strings
              <var>a</var>, <span class="string value">"."</span>, and
              <var>b</var>.</li>
        </ol>
      </li>
    </ol>
  </li>

  <li>Return the concatenation of the Strings <var>s</var> and
      <var>m</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">toFixed</span> method is
<span class="value">1</span>.</p>

<p>If the <span class="libname">toFixed</span> method is called with more than
one argument, then the behaviour is undefined (<a href="#sec-15">see clause
15</a>).</p>

<p>An implementation is permitted to extend the behaviour of
<span class="libname">toFixed</span> for values of <var>fractionDigits</var>
less than 0 or greater than 20. In this case
<span class="libname">toFixed</span> would not necessarily throw
<span class="errorname">RangeError</span> for such values.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The output of
  <span class="libname">toFixed</span> may be more precise than
  <span class="libname">toString</span> for some values because toString only
  prints enough significant digits to distinguish the number from adjacent
  number values. For example, <span class="pagemark" id="page166">PDF page 166
  / printed page 156</span>
  <code class="expr">(1000000000000000128).toString()</code> returns
  <span class="string value">"1000000000000000100"</span>, while
  <code class="expr">(1000000000000000128).toFixed(0)</code> returns
  <span class="string value">"1000000000000000128"</span>.</p>
</div>
</section>

<section id="sec-15.7.4.6">
<h1><span class="secnum"><a href="#sec-15.7.4.6"
    title="link to this section">15.7.4.6</a></span>
    Number.prototype.toExponential (fractionDigits)</h1>

<p>Return a String containing <a href="#def-this-Number-value">this Number
value</a> represented in decmal exponential notation with one digit before the
significand&rsquo;s decimal point and <var>fractionDigits</var> digits after
the significand&rsquo;s decimal point. If <var>fractionDigits</var> is
<span class="value">undefined</span>, include as many significand digits as
necessary to uniquely specify the Number (just like in
<a href="#sec-9.8">ToString</a> except that in this case the Number is always
output in exponential notation). Specifically, perform the following steps:</p>

<ol class="proc">
  <li>Let <var>x</var> be <a href="#def-this-Number-value">this Number
      value</a>.</li>

  <li>Let <var>f</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>fractionDigits</var>).</li>

  <li>If <var>x</var> is <span class="value">NaN</span>, return the String
      <span class="string value">"NaN"</span>.</li>

  <li>Let <var>s</var> be the empty String.</li>

  <li>If <var>x</var> &lt; 0, then
    <ol class="block">
      <li>Let <var>s</var> be <span class="string value">"-"</span>.</li>

      <li>Let <var>x</var> = &minus;<var>x</var>.</li>
    </ol>
  </li>

  <li>If <var>x</var> = <span class="value">+&infin;</span>, then
    <ol class="block">
      <li>Return the concatenation of the Strings <var>s</var> and
          <span class="string value">"Infinity"</span>.</li>
    </ol>
  </li>

  <li>If <var>fractionDigits</var> is not <span class="value">undefined</span>
      and (<var>f</var> &lt; 0 or <var>f</var> &gt; 20), throw a
      <span class="errorname">RangeError</span> exception.</li>

  <li>If <var>x</var> = 0, then
    <ol class="block">
      <li>Let <var>f</var> = 0.</li>

      <li>Let <var>m</var> be the String consisting of <var>f</var>+1
          occurrences of the character
          &lsquo;<code class="ch">0</code>&rsquo;.</li>

      <li>Let <var>e</var> = 0.</li>
    </ol>
  </li>

  <li>Else, <var>x</var> &ne; 0
    <ol class="block">
      <li>If fractionDigits is not <span class="value">undefined</span>, then
        <ol class="block">
          <li>Let <var>e</var> and <var>n</var> be integers such that
              <span class="math">10<sup><var>f</var></sup> &le; <var>n</var>
              &lt; 10<sup><var>f</var>+1</sup></span> and for which the exact
              mathematical value of <span class="math"><var>n</var> &times;
              10<sup><var>e</var>&minus;<var>f</var></sup> &minus;
              <var>x</var></span> is as close to zero as possible. If there are
              two such sets of <var>e</var> and <var>n</var>, pick the
              <var>e</var> and <var>n</var> for which
              <span class="math"><var>n</var> &times;
              10<sup><var>e</var>&minus;<var>f</var></sup></span> is
              larger.</li>
        </ol>
      </li>

      <li>Else, <var>fractionDigits</var> is <span class="value">undefined</span>
        <ol class="block">
          <li>Let <var>e</var>, <var>n</var>, and <var>f</var> be integers such
              that <span class="math"><var>f</var> &ge; 0</span>,
              <span class="math">10<sup><var>f</var></sup> &le; <var>n</var>
              &lt; 10<sup><var>f</var>+1</sup></span>, the number value for
              <span class="math"><var>n</var> &times;
              10<sup><var>e</var>&minus;<var>f</var></sup></span> is
              <var>x</var>, and <var>f</var> is as small as possible. Note that
              the decimal representation of <var>n</var> has <var>f</var>+1
              digits, <var>n</var> is not divisible by 10, and the least
              significant digit of <var>n</var> is not necessarily uniquely
              determined by these criteria.</li>
        </ol>
      </li>

      <li>Let <var>m</var> be the String consisting of the digits of the
          decimal representation of <var>n</var> (in order, with no leading
          zeroes).</li>
    </ol>
  </li>

  <li>If <var>f</var> &ne; 0, then
    <ol class="block">
      <li>Let <var>a</var> be the first character of <var>m</var>, and let
          <var>b</var> be the remaining <var>f</var> characters of
          <var>m</var>.</li>

      <li>Let <var>m</var> be the concatenation of the three Strings
          <var>a</var>, <span class="string value">"."</span>, and
          <var>b</var>.</li>
    </ol>
  </li>

  <li>If <var>e</var> = 0, then
    <ol class="block">
      <li>Let <var>c</var> = <span class="string value">"+"</span>.</li>

      <li>Let <var>d</var> = <span class="string value">"0"</span>.</li>
    </ol>
  </li>

  <li>Else
    <ol class="block">
      <li>If <var>e</var> &gt; 0, then let <var>c</var> = <span class="string
          value">"+"</span>.</li>

      <li>Else, <var>e</var> &le; 0
        <ol class="block">
          <li>Let <var>c</var> = <span class="string value">"-"</span>.</li>

          <li>Let <var>e</var> = &minus;<var>e</var>.</li>
        </ol>
      </li>

      <li>Let <var>d</var> be the String consisting of the digits of the
          decimal representation of <var>e</var> (in order, with no leading
          zeroes).</li>
    </ol>
  </li>

  <li>Let <var>m</var> be the concatenation of the four Strings <var>m</var>,
      <span class="string value">"e"</span>, <var>c</var>, and
      <var>d</var>.</li>

  <li>Return the concatenation of the Strings <var>s</var> and
      <var>m</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">toExponential</span> method is
<span class="value">1</span>.</p>

<p>If the <span class="libname">toExponential</span> method is called with more
than one argument, then the behaviour is undefined (<a href="#sec-15">see
clause 15</a>).</p>

<p><span class="pagemark" id="page167">PDF page 167 / printed page 157</span>
An implementation is permitted to extend the behaviour of
<span class="libname">toExponential</span> for values of
<var>fractionDigits</var> less than 0 or greater than 20. In this case
<span class="libname">toExponential</span> would not necessarily throw
<span class="errorname">RangeError</span> for such values.</p>

<div class="note">
  <p><span class="nh">NOTE</span> For implementations that provide more
  accurate conversions than required by the rules above, it is recommended that
  the following alternative version of step 9.b.i be used as a guideline:</p>

  <blockquote>
    <p>i. Let <var>e</var>, <var>n</var>, and <var>f</var> be integers such
    that <var>f</var> &ge; 0, 10<sup><var>f</var></sup> &le; n &lt;
    10<sup><var>f</var>+1</sup>, the number value for <var>n</var> &times;
    10<sup><var>e</var>&minus;<var>f</var></sup> is <var>x</var>, and
    <var>f</var> is as small as possible. If there are multiple possibilities
    for <var>n</var>, choose the value of <var>n</var> for which <var>n</var>
    &times; 10<sup><var>e</var>&minus;<var>f</var></sup> is closest in value to
    <var>x</var>. If there are two such possible values of <var>n</var>, choose
    the one that is even.</p>
  </blockquote>
</div>
</section>

<section id="sec-15.7.4.7">
<h1><span class="secnum"><a href="#sec-15.7.4.7"
    title="link to this section">15.7.4.7</a></span>
    Number.prototype.toPrecision (precision)</h1>

<p>Return a String containing <a href="#def-this-Number-value">this Number
value</a> represented either in decimal exponential notation with one digit
before the significand&rsquo;s decimal point and <var>precision</var>&minus;1
digits after the significand&rsquo;s decimal point or in decimal fixed notation
with <var>precision</var> significant digits. If <var>precision</var> is
<span class="value">undefined</span>, call <a href="#sec-9.8">ToString</a>
(<a href="#sec-9.8.1">9.8.1</a>) instead. Specifically, perform the following
steps:</p>

<ol class="proc">
  <li>Let <var>x</var> be <a href="#def-this-Number-value">this Number
      value</a>.</li>

  <li>If <var>precision</var> is <span class="value">undefined</span>, return
      <a href="#sec-9.8">ToString</a>(<var>x</var>).</li>

  <li>Let <var>p</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>precision</var>).</li>

  <li>If <var>x</var> is <span class="value">NaN</span>, return the String
      <span class="string value">"NaN"</span>.</li>

  <li>Let <var>s</var> be the empty String.</li>

  <li>If <var>x</var> &lt; 0, then
    <ol class="block">
      <li>Let <var>s</var> be <span class="string value">"-"</span>.</li>

      <li>Let <var>x</var> = &minus;<var>x</var>.</li>
    </ol>
  </li>

  <li>If <var>x</var> = <span class="value">+&infin;</span>, then
    <ol class="block">
      <li>Return the concatenation of the Strings <var>s</var> and
          <span class="string value">"Infinity"</span>.</li>
    </ol>
  </li>

  <li>If <var>p</var> &lt; 1 or <var>p</var> &gt; 21, throw a
      <span class="errorname">RangeError</span> exception.</li>

  <li>If <var>x</var> = 0, then
    <ol class="block">
      <li>Let <var>m</var> be the String consisting of <var>p</var> occurrences
          of the character &lsquo;<code class="ch">0</code>&rsquo;.</li>

      <li>Let <var>e</var> = 0.</li>
    </ol>
  </li>

  <li>Else <var>x</var> &ne; 0,
    <ol class="block">
      <li>Let <var>e</var> and <var>n</var> be integers such that
          <span class="math">10<sup><var>p</var>&minus;1</sup> &le;
          <var>n</var> &lt; 10<sup><var>p</var></sup></span> and for which the
          exact mathematical value of <span class="math"><var>n</var> &times;
          10<sup><var>e</var>&minus;<var>p</var>+1</sup> &minus;
          <var>x</var></span> is as close to zero as possible. If there are two
          such sets of <var>e</var> and <var>n</var>, pick the <var>e</var> and
          <var>n</var> for which <span class="math"><var>n</var> &times;
          10<sup><var>e</var>&minus;<var>p</var>+1</sup></span> is larger.</li>

      <li>Let <var>m</var> be the String consisting of the digits of the
          decimal representation of <var>n</var> (in order, with no leading
          zeroes).</li>

      <li>If <var>e</var> &lt; &minus;6 or <var>e</var> &ge; <var>p</var>, then
        <ol class="block">
          <li>Let <var>a</var> be the first character of <var>m</var>, and let
              <var>b</var> be the remaining <var>p</var>&minus;1 characters of
              <var>m</var>.</li>

          <li>Let <var>m</var> be the concatenation of the three Strings
              <var>a</var>, <span class="string value">"."</span>, and
              <var>b</var>.</li>

          <li>If <var>e</var> = 0, then
            <ol class="block">
              <li>Let <var>c</var> = <span class="string value">"+"</span> and
                  <var>d</var> = <span class="string value">"0"</span>.</li>
            </ol>
          </li>

          <li>Else <var>e</var> &ne; 0,
            <ol class="block">
              <li>If <var>e</var> &gt; 0, then
                <ol class="block">
                  <li>Let <var>c</var> = <span class="string
                      value">"+"</span>.</li>
                </ol>
              </li>

              <li>Else <var>e</var> &lt; 0,
                <ol class="block">
                  <li>Let <var>c</var> = <span class="string
                      value">"-"</span>.</li>

                  <li>Let <var>e</var> = &minus;<var>e</var>.</li>
                </ol>
              </li>

              <li>Let <var>d</var> be the String consisting of the digits of
                  the decimal representation of <var>e</var> (in order, with no
                  leading zeroes).</li>
            </ol>
          </li>

          <li>Let <var>m</var> be the concatenation of the five Strings
              <var>s</var>, <var>m</var>, <span class="string
              value">"e"</span>, <var>c</var>, and <var>d</var>.</li>
        </ol>
      </li>
    </ol>
  </li>

  <li>If <var>e</var> = <var>p</var>&minus;1, then return the concatenation of
      the Strings <var>s</var> and <var>m</var>.</li>

  <li>If <var>e</var> &ge; 0, then
    <ol class="block">
      <li>Let <var>m</var> be the concatenation of the first <var>e</var>+1
          characters of <var>m</var>, the character
          &lsquo;<code class="ch">.</code>&rsquo;, and the remaining
          <var>p</var>&minus;(<var>e</var>+1) characters of <var>m</var>.</li>
    </ol>
  </li>

  <li>Else <var>e</var> &lt; 0,
    <ol class="block">
      <li>Let <var>m</var> be the concatenation of the String
          <span class="string value">"0."</span>, &minus;(<var>e</var>+1)
          occurrences of the character &lsquo;<code class="ch">0</code>&rsquo;,
          and the String <var>m</var>.</li>
    </ol>
  </li>

  <li><span class="pagemark" id="page168">PDF page 168 / printed page
      158</span>Return the concatenation of the Strings <var>s</var> and
      <var>m</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">toPrecision</span> method is
<span class="value">1</span>.</p>

<p>If the <span class="libname">toPrecision</span> method is called with more
than one argument, then the behaviour is undefined (<a href="#sec-15">see
clause 15</a>).</p>

<p>An implementation is permitted to extend the behaviour of
<span class="libname">toPrecision</span> for values of <var>precision</var>
less than 1 or greater than 21. In this case
<span class="libname">toPrecision</span> would not necessarily throw
<span class="errorname">RangeError</span> for such values.</p>
</section>
</section>

<section id="sec-15.7.5">
<h1><span class="secnum"><a href="#sec-15.7.5"
    title="link to this section">15.7.5</a></span>
    Properties of Number Instances</h1>

<p>Number instances inherit properties from the Number prototype object and
their [[Class]] internal property value is <span class="string
value">"Number"</span>. Number instances also have a [[PrimitiveValue]]
internal property.</p>

<p>The [[PrimitiveValue]] internal property is the Number value represented by
this Number object.</p>
</section>
</section>


<section id="sec-15.8">
<h1><span class="secnum"><a href="#sec-15.8"
    title="link to this section">15.8</a></span>
    The Math Object</h1>

<p>The Math object is a single object that has some named properties, some of
which are functions.</p>

<p>The value of the [[Prototype]] internal property of the Math object is the
standard built-in Object prototype object (<a href="#sec-15.2.4">15.2.4</a>).
The value of the [[Class]] internal property of the Math object is
<span class="string value">"Math"</span>.</p>

<p>The Math object does not have a [[Construct]] internal property; it is not
possible to use the Math object as a constructor with the
<code class="t">new</code> operator.</p>

<p>The Math object does not have a [[Call]] internal property; it is not
possible to invoke the Math object as a function.</p>

<div class="note">
  <p><span class="nh">NOTE</span> In this specification, the phrase &ldquo;the
  Number value for <var>x</var>&rdquo; has a technical meaning defined in
  <a href="#sec-8.5">8.5</a>.</p>
</div>

<section id="sec-15.8.1">
<h1><span class="secnum"><a href="#sec-15.8.1"
    title="link to this section">15.8.1</a></span>
    Value Properties of the Math Object</h1>

<section id="sec-15.8.1.1">
<h1><span class="secnum"><a href="#sec-15.8.1.1"
    title="link to this section">15.8.1.1</a></span>
    E</h1>

<p>The Number value for <i>e</i>, the base of the natural logarithms, which is
approximately 2.7182818284590452354.</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.8.1.2">
<h1><span class="secnum"><a href="#sec-15.8.1.2"
    title="link to this section">15.8.1.2</a></span>
    LN10</h1>

<p>The Number value for the natural logarithm of 10, which is approximately
2.302585092994046.</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.8.1.3">
<h1><span class="secnum"><a href="#sec-15.8.1.3"
    title="link to this section">15.8.1.3</a></span>
    LN2</h1>

<p>The Number value for the natural logarithm of 2, which is approximately
0.6931471805599453.</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.8.1.4">
<h1><span class="secnum"><a href="#sec-15.8.1.4"
    title="link to this section">15.8.1.4</a></span>
    LOG2E</h1>

<p>The Number value for the base-2 logarithm of <i>e</i>, the base of the
natural logarithms; this value is approximately 1.4426950408889634.</p>

<p><span class="pagemark" id="page169">PDF page 169 / printed page 159</span>
This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The value of
  <span class="libname">Math.LOG2E</span> is approximately the reciprocal of
  the value of <span class="libname">Math.LN2</span>.</p>
</div>
</section>

<section id="sec-15.8.1.5">
<h1><span class="secnum"><a href="#sec-15.8.1.5"
    title="link to this section">15.8.1.5</a></span>
    LOG10E</h1>

<p>The Number value for the base-10 logarithm of <i>e</i>, the base of the
natural logarithms; this value is approximately 0.4342944819032518.</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The value of
  <span class="libname">Math.LOG10E</span> is approximately the reciprocal of
  the value of <span class="libname">Math.LN10</span>.</p>
</div>
</section>

<section id="sec-15.8.1.6">
<h1><span class="secnum"><a href="#sec-15.8.1.6"
    title="link to this section">15.8.1.6</a></span>
    PI</h1>

<p>The Number value for &pi;, the ratio of the circumference of a circle to its
diameter, which is approximately 3.1415926535897932.</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.8.1.7">
<h1><span class="secnum"><a href="#sec-15.8.1.7"
    title="link to this section">15.8.1.7</a></span>
    SQRT1_2</h1>

<p>The Number value for the square root of &frac12;, which is approximately
0.7071067811865476.</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The value of
  <span class="libname">Math.SQRT1_2</span> is approximately the reciprocal of
  the value of <span class="libname">Math.SQRT2</span>.</p>
</div>
</section>

<section id="sec-15.8.1.8">
<h1><span class="secnum"><a href="#sec-15.8.1.8"
    title="link to this section">15.8.1.8</a></span>
    SQRT2</h1>

<p>The Number value for the square root of 2, which is approximately
1.4142135623730951.</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>
</section>

<section id="sec-15.8.2">
<h1><span class="secnum"><a href="#sec-15.8.2"
    title="link to this section">15.8.2</a></span>
    Function Properties of the Math Object</h1>

<p>Each of the following <span class="libname">Math</span> object functions
applies the <a href="#sec-9.3">ToNumber</a> abstract operator to each of its
arguments (in left-to-right order if there is more than one) and then performs
a computation on the resulting Number value(s).</p>

<p>In the function descriptions below, the symbols
<span class="value">NaN</span>, <span class="value">&minus;0</span>,
<span class="value">+0</span>, <span class="value">&minus;&infin;</span> and
<span class="value">+&infin;</span> refer to the Number values described in
<a href="#sec-8.5">8.5</a>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The behaviour of the functions
  <span class="libname">acos</span>, <span class="libname">asin</span>,
  <span class="libname">atan</span>, <span class="libname">atan2</span>,
  <span class="libname">cos</span>, <span class="libname">exp</span>,
  <span class="libname">log</span>, <span class="libname">pow</span>,
  <span class="libname">sin</span>, <span class="libname">sqrt</span>, and
  <span class="libname">tan</span> is not precisely specified here except to
  require specific results for certain argument values that represent boundary
  cases of interest. For other argument values, these functions are intended to
  compute approximations to the results of familiar mathematical functions, but
  some latitude is allowed in the choice of approximation algorithms. The
  general intent is that an implementer should be able to use the same
  mathematical library for ECMAScript on a given hardware platform that is
  available to C programmers on that platform. Although the choice of
  algorithms is left to the implementation, it is recommended (but not
  specified by this standard) that implementations use the approximation
  algorithms for IEEE 754 arithmetic contained in <b>fdlibm</b>, the freely
  distributable mathematical library from Sun Microsystems
  (<a href="http://www.netlib.org/fdlibm"
  >http://www.netlib.org/fdlibm</a>).</p>
</div>

<section id="sec-15.8.2.1">
<h1><span class="secnum"><a href="#sec-15.8.2.1"
    title="link to this section">15.8.2.1</a></span>
    abs (x)</h1>

<p>Returns the absolute value of <var>x</var>; the result has the same
magnitude as <var>x</var> but has positive sign.</p>

<ul>
  <li><span class="pagemark" id="page170">PDF page 170 / printed page
      160</span>If <var>x</var> is NaN, the result is NaN.</li>

  <li>If <var>x</var> is <span class="value">&minus;0</span>, the result is
      <span class="value">+0</span>.</li>

  <li>If <var>x</var> is <span class="value">&minus;&infin;</span>, the result
      is <span class="value">+&infin;</span>.</li>
</ul>
</section>

<section id="sec-15.8.2.2">
<h1><span class="secnum"><a href="#sec-15.8.2.2"
    title="link to this section">15.8.2.2</a></span>
    acos (x)</h1>

<p>Returns an implementation-dependent approximation to the arc cosine of
<var>x</var>. The result is expressed in radians and ranges from +0 to
+&pi;.</p>

<ul>
  <li>If <var>x</var> is NaN, the result is NaN.</li>

  <li>If <var>x</var> is greater than 1, the result is NaN.</li>

  <li>If <var>x</var> is less than &minus;1, the result is NaN.</li>

  <li>If <var>x</var> is exactly 1, the result is +0.</li>
</ul>
</section>

<section id="sec-15.8.2.3">
<h1><span class="secnum"><a href="#sec-15.8.2.3"
    title="link to this section">15.8.2.3</a></span>
    asin (x)</h1>

<p>Returns an implementation-dependent approximation to the arc sine of
<var>x</var>. The result is expressed in radians and ranges from &minus;&pi;/2
to +&pi;/2.</p>

<ul>
  <li>If <var>x</var> is NaN, the result is NaN.</li>

  <li>If <var>x</var> is greater than 1, the result is NaN.</li>

  <li>If <var>x</var> is less than &minus;1, the result is NaN.</li>

  <li>If <var>x</var> is +0, the result is +0.</li>

  <li>If <var>x</var> is &minus;0, the result is &minus;0.</li>
</ul>
</section>

<section id="sec-15.8.2.4">
<h1><span class="secnum"><a href="#sec-15.8.2.4"
    title="link to this section">15.8.2.4</a></span>
    atan (x)</h1>

<p>Returns an implementation-dependent approximation to the arc tangent of
<var>x</var>. The result is expressed in radians and ranges from &minus;&pi;/2
to +&pi;/2.</p>

<ul>
  <li>If <var>x</var> is NaN, the result is NaN.</li>

  <li>If <var>x</var> is +0, the result is +0.</li>

  <li>If <var>x</var> is &minus;0, the result is &minus;0.</li>

  <li>If <var>x</var> is +&infin;, the result is an implementation-dependent
      approximation to +&pi;/2.</li>

  <li>If <var>x</var> is &minus;&infin;, the result is an
      implementation-dependent approximation to &minus;&pi;/2.</li>
</ul>
</section>

<section id="sec-15.8.2.5">
<h1><span class="secnum"><a href="#sec-15.8.2.5"
    title="link to this section">15.8.2.5</a></span>
    atan2 (y, x)</h1>

<p>Returns an implementation-dependent approximation to the arc tangent of the
quotient <var>y</var>/<var>x</var> of the arguments <var>y</var> and
<var>x</var>, where the signs of <var>y</var> and <var>x</var> are used to
determine the quadrant of the result. Note that it is intentional and
traditional for the two-argument arc tangent function that the argument named
<var>y</var> be first and the argument named <var>x</var> be second. The result
is expressed in radians and ranges from <span class="value">&minus;&pi;</span>
to <span class="value">+&pi;</span>.</p>

<ul>
  <li>If either <var>x</var> or <var>y</var> is NaN, the result is NaN.</li>

  <li>If <var>y</var>&gt;0 and <var>x</var> is +0, the result is an
      implementation-dependent approximation to +&pi;/2.</li>

  <li>If <var>y</var>&gt;0 and <var>x</var> is &minus;0, the result is an
      implementation-dependent approximation to +&pi;/2.</li>

  <li>If <var>y</var> is +0 and <var>x</var>&gt;0, the result is +0.</li>

  <li>If <var>y</var> is +0 and <var>x</var> is +0, the result is +0.</li>

  <li>If <var>y</var> is +0 and <var>x</var> is &minus;0, the result is an
      implementation-dependent approximation to +&pi;.</li>

  <li>If <var>y</var> is +0 and <var>x</var>&lt;0, the result is an
      implementation-dependent approximation to +&pi;.</li>

  <li>If <var>y</var> is &minus;0 and <var>x</var>&gt;0, the result is
      &minus;0.</li>

  <li>If <var>y</var> is &minus;0 and <var>x</var> is +0, the result is
      &minus;0.</li>

  <li>If <var>y</var> is &minus;0 and <var>x</var> is &minus;0, the result is
      an implementation-dependent approximation to &minus;&pi;.</li>

  <li>If <var>y</var> is &minus;0 and <var>x</var>&lt;0, the result is an
      implementation-dependent approximation to &minus;&pi;.</li>

  <li>If <var>y</var>&lt;0 and <var>x</var> is +0, the result is an
      implementation-dependent approximation to &minus;&pi;/2.</li>

  <li>If <var>y</var>&lt;0 and <var>x</var> is &minus;0, the result is an
      implementation-dependent approximation to &minus;&pi;/2.</li>

  <li><span class="pagemark" id="page171">PDF page 171 / printed page
      161</span>If <var>y</var>&gt;0 and <var>y</var> is finite and
      <var>x</var> is +&infin;, the result is +0.</li>

  <li>If <var>y</var>&gt;0 and <var>y</var> is finite and <var>x</var> is
      &minus;&infin;, the result if an implementation-dependent approximation
      to +&pi;.</li>

  <li>If <var>y</var>&lt;0 and <var>y</var> is finite and <var>x</var> is
      +&infin;, the result is &minus;0.</li>

  <li>If <var>y</var>&lt;0 and <var>y</var> is finite and <var>x</var> is
      &minus;&infin;, the result is an implementation-dependent approximation
      to &minus;&pi;.</li>

  <li>If <var>y</var> is +&infin; and <var>x</var> is finite, the result is an
      implementation-dependent approximation to +&pi;/2.</li>

  <li>If <var>y</var> is &minus;&infin; and <var>x</var> is finite, the result
      is an implementation-dependent approximation to &minus;&pi;/2.</li>

  <li>If <var>y</var> is +&infin; and <var>x</var> is +&infin;, the result is
      an implementation-dependent approximation to +&pi;/4.</li>

  <li>If <var>y</var> is +&infin; and <var>x</var> is &minus;&infin;, the
      result is an implementation-dependent approximation to +3&pi;/4.</li>

  <li>If <var>y</var> is &minus;&infin; and <var>x</var> is +&infin;, the
      result is an implementation-dependent approximation to
      &minus;&pi;/4.</li>

  <li>If <var>y</var> is &minus;&infin; and <var>x</var> is &minus;&infin;, the
      result is an implementation-dependent approximation to
      &minus;3&pi;/4.</li>
</ul>
</section>

<section id="sec-15.8.2.6">
<h1><span class="secnum"><a href="#sec-15.8.2.6"
    title="link to this section">15.8.2.6</a></span>
    ceil (x)</h1>

<p>Returns the smallest (closest to <span class="value">&minus;&infin;</span>)
Number value that is not less than <var>x</var> and is equal to a mathematical
integer. If <var>x</var> is already an integer, the result is <var>x</var>.</p>

<ul>
  <li>If <var>x</var> is NaN, the result is NaN.</li>

  <li>If <var>x</var> is +0, the result is +0.</li>

  <li>If <var>x</var> is &minus;0, the result is &minus;0.</li>

  <li>If <var>x</var> is +&infin;, the result is +&infin;.</li>

  <li>If <var>x</var> is &minus;&infin;, the result is &minus;&infin;.</li>

  <li>If <var>x</var> is less than 0 but greater than &minus;1, the result is
      &minus;0.</li>
</ul>

<p>The value of <code class="expr">Math.ceil(x)</code> is the same as the value
of <code class="expr">-Math.floor(-x)</code>.</p>
</section>

<section id="sec-15.8.2.7">
<h1><span class="secnum"><a href="#sec-15.8.2.7"
    title="link to this section">15.8.2.7</a></span>
    cos(x)</h1>

<p>Returns an implementation-dependent approximation to the cosine of
<var>x</var>. The argument is expressed in radians.</p>

<ul>
  <li>If <var>x</var> is NaN, the result is NaN.</li>

  <li>If <var>x</var> is +0, the result is 1.</li>

  <li>If <var>x</var> is &minus;0, the result is 1.</li>

  <li>If <var>x</var> is +&infin;, the result is NaN.</li>

  <li>If <var>x</var> is &minus;&infin;, the result is NaN.</li>
</ul>
</section>

<section id="sec-15.8.2.8">
<h1><span class="secnum"><a href="#sec-15.8.2.8"
    title="link to this section">15.8.2.8</a></span>
    exp(x)</h1>

<p>Returns an implementation-dependent approximation to the exponential
function of <var>x</var> (<i>e</i> raised to the power of <var>x</var>, where
<i>e</i> is the base of the natural logarithms).</p>

<ul>
  <li>If <var>x</var> is NaN, the result is NaN.</li>

  <li>If <var>x</var> is +0, the result is 1.</li>

  <li>If <var>x</var> is &minus;0, the result is 1.</li>

  <li>If <var>x</var> is +&infin;, the result is +&infin;.</li>

  <li>If <var>x</var> is &minus;&infin;, the result is +0.</li>
</ul>
</section>

<section id="sec-15.8.2.9">
<h1><span class="secnum"><a href="#sec-15.8.2.9"
    title="link to this section">15.8.2.9</a></span>
    floor (x)</h1>

<p>Returns the greatest (closest to <span class="value">+&infin;</span>) Number
value that is not greater than <var>x</var> and is equal to a mathematical
integer. If <var>x</var> is already an integer, the result is <var>x</var>.</p>

<ul>
  <li>If <var>x</var> is NaN, the result is NaN.</li>

  <li>If <var>x</var> is +0, the result is +0.</li>

  <li>If <var>x</var> is &minus;0, the result is &minus;0.</li>

  <li>If <var>x</var> is +&infin;, the result is +&infin;.</li>

  <li>If <var>x</var> is &minus;&infin;, the result is &minus;&infin;.</li>

  <li><span class="pagemark" id="page172">PDF page 172 / printed page
      162</span>If <var>x</var> is greater than 0 but less than 1, the result
      is +0.</li>
</ul>

<div class="note">
  <p><span class="nh">NOTE</span> The value of
  <code class="expr">Math.floor(x)</code> is the same as the value of
  <code class="expr">-Math.ceil(-x)</code>.</p>
</div>
</section>

<section id="sec-15.8.2.10">
<h1><span class="secnum"><a href="#sec-15.8.2.10"
    title="link to this section">15.8.2.10</a></span>
    log (x)</h1>

<p>Returns an implementation-dependent approximation to the natural logarithm
of <var>x</var>.</p>

<ul>
  <li>If <var>x</var> is NaN, the result is NaN.</li>

  <li>If <var>x</var> is less than 0, the result is NaN.</li>

  <li>If <var>x</var> is +0 or &minus;0, the result is &minus;&infin;.</li>

  <li>If <var>x</var> is 1, the result is +0.</li>

  <li>If <var>x</var> is +&infin;, the result is +&infin;.</li>
</ul>
</section>

<section id="sec-15.8.2.11">
<h1><span class="secnum"><a href="#sec-15.8.2.11"
    title="link to this section">15.8.2.11</a></span>
    max ( [ value1 [ , value2 [ , ... ] ] ] )</h1>

<p>Given zero or more arguments, calls <a href="#sec-9.3">ToNumber</a> on each
of the arguments and returns the largest of the resulting values.</p>

<ul>
  <li>If no arguments are given, the result is &minus;&infin;.</li>

  <li>If any value is NaN, the result is NaN.</li>

  <li>The comparison of values to determine the largest value is done as in
      <a href="#sec-11.8.5">11.8.5</a> except that +0 is considered to be
      larger than &minus;0.</li>
</ul>

<p>The <code class="propname">length</code> property of the
<span class="libname">max</span> method is <span class="value">2</span>.</p>
</section>

<section id="sec-15.8.2.12">
<h1><span class="secnum"><a href="#sec-15.8.2.12"
    title="link to this section">15.8.2.12</a></span>
    min ( [ value1 [ , value2 [ , ... ] ] ] )</h1>

<p>Given zero or more arguments, calls <a href="#sec-9.3">ToNumber</a> on each
of the arguments and returns the smallest of the resulting values.</p>

<ul>
  <li>If no arguments are given, the result is +&infin;.</li>

  <li>If any value is NaN, the result is NaN.</li>

  <li>The comparison of values to determine the smallest value is done as in
      <a href="#sec-11.8.5">11.8.5</a> except that +0 is considered to be
      larger than &minus;0.</li>
</ul>

<p>The <code class="propname">length</code> property of the
<span class="libname">min</span> method is <span class="value">2</span>.</p>
</section>

<section id="sec-15.8.2.13">
<h1><span class="secnum"><a href="#sec-15.8.2.13"
    title="link to this section">15.8.2.13</a></span>
    pow (x, y)</h1>

<p>Returns an implementation-dependent approximation to the result of raising
<var>x</var> to the power <var>y</var>.</p>

<ul>

  <li>If <var>y</var> is NaN, the result is NaN.</li>

  <li>If <var>y</var> is +0, the result is 1, even if <var>x</var> is NaN.</li>

  <li>If <var>y</var> is &minus;0, the result is 1, even if <var>x</var> is
      NaN.</li>

  <li>If <var>x</var> is NaN and <var>y</var> is nonzero, the result is
      NaN.</li>

  <li>If <a href="#def-abs">abs</a>(<var>x</var>)&gt;1 and <var>y</var> is
      +&infin;, the result is +&infin;.</li>

  <li>If <a href="#def-abs">abs</a>(<var>x</var>)&gt;1 and <var>y</var> is
      &minus;&infin;, the result is +0.</li>

  <li>If <a href="#def-abs">abs</a>(<var>x</var>)==1 and <var>y</var> is
      +&infin;, the result is NaN.</li>

  <li>If <a href="#def-abs">abs</a>(<var>x</var>)==1 and <var>y</var> is
      &minus;&infin;, the result is NaN.</li>

  <li>If <a href="#def-abs">abs</a>(<var>x</var>)&lt;1 and <var>y</var> is
      +&infin;, the result is +0.</li>

  <li>If <a href="#def-abs">abs</a>(<var>x</var>)&lt;1 and <var>y</var> is
      &minus;&infin;, the result is +&infin;.</li>

  <li>If <var>x</var> is +&infin; and <var>y</var>&gt;0, the result is
      +&infin;.</li>

  <li>If <var>x</var> is +&infin; and <var>y</var>&lt;0, the result is +0.</li>

  <li>If <var>x</var> is &minus;&infin; and <var>y</var>&gt;0 and <var>y</var>
      is an odd integer, the result is &minus;&infin;.</li>

  <li>If <var>x</var> is &minus;&infin; and <var>y</var>&gt;0 and <var>y</var>
      is not an odd integer, the result is +&infin;.</li>

  <li>If <var>x</var> is &minus;&infin; and <var>y</var>&lt;0 and <var>y</var>
      is an odd integer, the result is &minus;0.</li>

  <li><span class="pagemark" id="page173">PDF page 173 / printed page
      163</span>If <var>x</var> is &minus;&infin; and <var>y</var>&lt;0 and
      <var>y</var> is not an odd integer, the result is +0.</li>

  <li>If <var>x</var> is +0 and <var>y</var>&gt;0, the result is +0.</li>

  <li>If <var>x</var> is +0 and <var>y</var>&lt;0, the result is +&infin;.</li>

  <li>If <var>x</var> is &minus;0 and <var>y</var>&gt;0 and <var>y</var> is an
      odd integer, the result is &minus;0.</li>

  <li>If <var>x</var> is &minus;0 and <var>y</var>&gt;0 and <var>y</var> is not
      an odd integer, the result is +0.</li>

  <li>If <var>x</var> is &minus;0 and <var>y</var>&lt;0 and <var>y</var> is an
      odd integer, the result is &minus;&infin;.</li>

  <li>If <var>x</var> is &minus;0 and <var>y</var>&lt;0 and <var>y</var> is not
      an odd integer, the result is +&infin;.</li>

  <li>If <var>x</var>&lt;0 and <var>x</var> is finite and <var>y</var> is
      finite and <var>y</var> is not an integer, the result is NaN.</li>
</ul>
</section>

<section id="sec-15.8.2.14">
<h1><span class="secnum"><a href="#sec-15.8.2.14"
    title="link to this section">15.8.2.14</a></span>
    random ( )</h1>

<p>Returns a Number value with positive sign, greater than or equal to 0 but
less than 1, chosen randomly or pseudo randomly with approximately uniform
distribution over that range, using an implementation-dependent algorithm or
strategy. This function takes no arguments.</p>
</section>

<section id="sec-15.8.2.15">
<h1><span class="secnum"><a href="#sec-15.8.2.15"
    title="link to this section">15.8.2.15</a></span>
    round (x)</h1>

<p>Returns the Number value that is closest to <var>x</var> and is equal to a
mathematical integer. If two integer Number values are equally close to
<var>x</var>, then the result is the Number value that is closer to +&infin;.
If <var>x</var> is already an integer, the result is <var>x</var>.</p>

<ul>
  <li>If <var>x</var> is NaN, the result is NaN.</li>

  <li>If <var>x</var> is +0, the result is +0.</li>

  <li>If <var>x</var> is &minus;0, the result is &minus;0.</li>

  <li>If <var>x</var> is +&infin;, the result is +&infin;.</li>

  <li>If <var>x</var> is &minus;&infin;, the result is &minus;&infin;.</li>

  <li>If <var>x</var> is greater than 0 but less than 0.5, the result is
      +0.</li>

  <li>If <var>x</var> is less than 0 but greater than or equal to &minus;0.5,
      the result is &minus;0.</li>
</ul>

<div class="note">
  <p><span class="nh">NOTE 1</span> <code class="expr">Math.round(3.5)</code>
  returns 4, but <code class="expr">Math.round(-3.5)</code> returns
  &minus;3.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> The value of
  <code class="expr">Math.round(x)</code> is the same as the value of
  <code class="expr">Math.floor(x+0.5)</code>, except when <var>x</var> is
  &minus;0 or is less than 0 but greater than or equal to &minus;0.5; for these
  cases <code class="expr">Math.round(x)</code> returns &minus;0, but
  <code class="expr">Math.floor(x+0.5)</code> returns +0.</p>
</div>
</section>

<section id="sec-15.8.2.16">
<h1><span class="secnum"><a href="#sec-15.8.2.16"
    title="link to this section">15.8.2.16</a></span>
    sin (x)</h1>

<p>Returns an implementation-dependent approximation to the sine of
<var>x</var>. The argument is expressed in radians.</p>

<ul>
  <li>If <var>x</var> is NaN, the result is NaN.</li>

  <li>If <var>x</var> is +0, the result is +0.</li>

  <li>If <var>x</var> is &minus;0, the result is &minus;0.</li>

  <li>If <var>x</var> is +&infin; or &minus;&infin;, the result is NaN.</li>
</ul>
</section>

<section id="sec-15.8.2.17">
<h1><span class="secnum"><a href="#sec-15.8.2.17"
    title="link to this section">15.8.2.17</a></span>
    sqrt (x)</h1>

<p>Returns an implementation-dependent approximation to the square root of
<var>x</var>.</p>

<ul>
  <li>If <var>x</var> is NaN, the result is NaN.</li>

  <li>If <var>x</var> is less than 0, the result is NaN.</li>

  <li>If <var>x</var> is +0, the result is +0.</li>

  <li>If <var>x</var> is &minus;0, the result is &minus;0.</li>

  <li>If <var>x</var> is +&infin;, the result is +&infin;.</li>
</ul>

<span class="pagemark" id="page174">PDF page 174 / printed page 164</span>
</section>

<section id="sec-15.8.2.18">
<h1><span class="secnum"><a href="#sec-15.8.2.18"
    title="link to this section">15.8.2.18</a></span>
    tan (x)</h1>

<p>Returns an implementation-dependent approximation to the tangent of
<var>x</var>. The argument is expressed in radians.</p>

<ul>
  <li>If <var>x</var> is NaN, the result is NaN.</li>

  <li>If <var>x</var> is +0, the result is +0.</li>

  <li>If <var>x</var> is &minus;0, the result is &minus;0.</li>

  <li>If <var>x</var> is +&infin; or &minus;&infin;, the result is NaN.</li>
</ul>
</section>
</section>
</section>


<section id="sec-15.9">
<h1><span class="secnum"><a href="#sec-15.9"
    title="link to this section">15.9</a></span>
    Date Objects</h1>

<section id="sec-15.9.1">
<h1><span class="secnum"><a href="#sec-15.9.1"
    title="link to this section">15.9.1</a></span>
    Overview of Date Objects and Definitions of Abstract Operators</h1>

<p>The following functions are abstract operations that operate on time values
(defined in <a href="#sec-15.9.1.1">15.9.1.1</a>). Note that, in every case, if
any argument to one of these functions is <span class="value">NaN</span>, the
result will be <span class="value">NaN</span>.</p>


<section id="sec-15.9.1.1">
<h1><span class="secnum"><a href="#sec-15.9.1.1"
    title="link to this section">15.9.1.1</a></span>
    Time Values and Time Range</h1>

<p>A Date object contains a Number indicating a particular instant in time to
within a millisecond. Such a Number is called a <dfn>time value</dfn>. A time
value may also be <span class="value">NaN</span>, indicating that the Date
object does not represent a specific instant of time.</p>

<p>Time is measured in ECMAScript in milliseconds since 01&nbsp;January, 1970
UTC. In time values leap seconds are ignored. It is assumed that there are
exactly 86,400,000 milliseconds per day. ECMAScript Number values can represent
all integers from &minus;9,007,199,254,740,991 to 9,007,199,254,740,991; this
range suffices to measure times to millisecond precision for any instant that
is within approximately 285,616 years, either forward or backward, from
01&nbsp;January, 1970 UTC.</p>

<p>The actual range of times supported by ECMAScript Date objects is slightly
smaller: exactly &minus;100,000,000 days to 100,000,000 days measured relative
to midnight at the beginning of 01&nbsp;January, 1970 UTC. This gives a range
of 8,640,000,000,000,000 milliseconds to either side of 01&nbsp;January, 1970
UTC.</p>

<p>The exact moment of midnight at the beginning of 01&nbsp;January, 1970 UTC
is represented by the value <span class="value">+0</span>.</p>
</section>

<section id="sec-15.9.1.2">
<h1><span class="secnum"><a href="#sec-15.9.1.2"
    title="link to this section">15.9.1.2</a></span>
    Day Number and Time within Day</h1>

<p>A given time value <var>t</var> belongs to day number</p>

<div class="display">Day(<var>t</var>) = <a href="#def-floor">floor</a>(<var>t</var> / msPerDay)</div>

<p>where the number of milliseconds per day is</p>

<div class="display">msPerDay = 86400000</div>

<p>The remainder is called the time within the day:</p>

<div class="display">TimeWithinDay(<var>t</var>) = <var>t</var> <a href="#def-modulo">modulo</a> msPerDay</div>

</section>

<section id="sec-15.9.1.3">
<h1><span class="secnum"><a href="#sec-15.9.1.3"
    title="link to this section">15.9.1.3</a></span>
    Year Number</h1>

<p>ECMAScript uses an extrapolated Gregorian system to map a day number to a
year number and to determine the month and date within that year. In this
system, leap years are precisely those which are (divisible by 4) and ((not
divisible by 100) or (divisible by 400)). The number of days in year number
<var>y</var> is therefore defined by</p>

<table class="lightweight-table">
  <tbody>
    <tr>
      <td rowspan="4">DaysInYear(<var>y</var>)</td>
      <td>=&nbsp;365</td>
      <td>if <span class="math">(<var>y</var> <a href="#def-modulo">modulo</a>
          4) &ne; 0</span></td>
    </tr>
    <tr>
      <td>=&nbsp;366</td>
      <td>if <span class="math">(<var>y</var> <a href="#def-modulo">modulo</a>
          4) = 0</span> and <span class="math">(<var>y</var>
          <a href="#def-modulo">modulo</a> 100) &ne; 0</span></td>
    </tr>
    <tr>
      <td>=&nbsp;365</td>
      <td>if <span class="math">(<var>y</var> <a href="#def-modulo">modulo</a>
          100) = 0</span> and <span class="math">(<var>y</var>
          <a href="#def-modulo">modulo</a> 400) &ne; 0</span></td>
    </tr>
    <tr>
      <td>=&nbsp;366</td>
      <td>if <span class="math">(<var>y</var> <a href="#def-modulo">modulo</a>
          400) = 0</span></td>
    </tr>
  </tbody>
</table>

<span class="pagemark" id="page175">PDF page 175 / printed page 165</span>

<p>All non-leap years have 365 days with the usual number of days per month and
leap years have an extra day in February. The day number of the first day of
year <var>y</var> is given by:</p>

<div class="display">DayFromYear(<var>y</var>) = 365 &times; (<var>y</var>&minus;1970)
+ <a href="#def-floor">floor</a>((<var>y</var>&minus;1969)/4)
&minus; <a href="#def-floor">floor</a>((<var>y</var>&minus;1901)/100)
+ <a href="#def-floor">floor</a>((<var>y</var>&minus;1601)/400)</div>

<p>The time value of the start of a year is:</p>

<div class="display">TimeFromYear(<var>y</var>) = msPerDay &times;
DayFromYear(<var>y</var>)</div>

<p>A time value determines a year by:</p>

<div class="display">YearFromTime(<var>t</var>) = the largest integer
<var>y</var> (closest to positive infinity) such that
<span class="math">TimeFromYear(<var>y</var>) &le; <var>t</var></span></div>

<p>The leap-year function is 1 for a time within a leap year and otherwise is
zero:</p>

<table class="lightweight-table">
  <tbody>
    <tr>
      <td rowspan="2">InLeapYear(<var>t</var>)</td>
      <td>=&nbsp;0</td>
      <td>if DaysInYear(YearFromTime(<var>t</var>)) = 365</td>
    </tr>
    <tr>
      <td>=&nbsp;1</td>
      <td>if DaysInYear(YearFromTime(<var>t</var>)) = 366</td>
    </tr>
  </tbody>
</table>

</section>

<section id="sec-15.9.1.4">
<h1><span class="secnum"><a href="#sec-15.9.1.4"
    title="link to this section">15.9.1.4</a></span>
    Month Number</h1>

<p>Months are identified by an integer in the range 0 to 11, inclusive. The
mapping MonthFromTime(<var>t</var>) from a time value <var>t</var> to a month
number is defined by:</p>

<table class="lightweight-table">
  <tbody>
    <tr>
      <td rowspan="12">MonthFromTime(<var>t</var>)</td>
      <td>=&nbsp;0</td>
      <td>if</td>
      <td>0</td>
      <td>&le; DayWithinYear(<var>t</var>) &lt; 31</td>
    </tr>
    <tr>
      <td>=&nbsp;1</td>
      <td>if</td>
      <td>31</td>
      <td>&le; DayWithinYear(<var>t</var>) &lt;
      59+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
    </tr>
    <tr>
      <td>=&nbsp;2</td>
      <td>if</td>
      <td>59+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>&le; DayWithinYear(<var>t</var>) &lt;
      90+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
    </tr>
    <tr>
      <td>=&nbsp;3</td>
      <td>if</td>
      <td>90+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>&le; DayWithinYear(<var>t</var>) &lt;
      120+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
    </tr>
    <tr>
      <td>=&nbsp;4</td>
      <td>if</td>
      <td>120+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>&le; DayWithinYear(<var>t</var>) &lt;
      151+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
    </tr>
    <tr>
      <td>=&nbsp;5</td>
      <td>if</td>
      <td>151+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>&le; DayWithinYear(<var>t</var>) &lt;
      181+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
    </tr>
    <tr>
      <td>=&nbsp;6</td>
      <td>if</td>
      <td>181+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>&le; DayWithinYear(<var>t</var>) &lt;
      212+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
    </tr>
    <tr>
      <td>=&nbsp;7</td>
      <td>if</td>
      <td>212+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>&le; DayWithinYear(<var>t</var>) &lt;
      243+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
    </tr>
    <tr>
      <td>=&nbsp;8</td>
      <td>if</td>
      <td>243+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>&le; DayWithinYear(<var>t</var>) &lt;
      273+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
    </tr>
    <tr>
      <td>=&nbsp;9</td>
      <td>if</td>
      <td>273+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>&le; DayWithinYear(<var>t</var>) &lt;
      304+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
    </tr>
    <tr>
      <td>=&nbsp;10</td>
      <td>if</td>
      <td>304+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>&le; DayWithinYear(<var>t</var>) &lt;
      334+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
    </tr>
    <tr>
      <td>=&nbsp;11</td>
      <td>if</td>
      <td>334+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>&le; DayWithinYear(<var>t</var>) &lt;
          365+<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
    </tr>
  </tbody>
</table>

<p>where</p>

<div class="display">DayWithinYear(<var>t</var>) = <a href="#sec-15.9.1.2">Day</a>(<var>t</var>)&minus;<a href="#sec-15.9.1.3">DayFromYear</a>(<a href="#sec-15.9.1.3">YearFromTime</a>(<var>t</var>))</div>

<p>A month value of 0 specifies January; 1 specifies February; 2 specifies
March; 3 specifies April; 4 specifies May; 5 specifies June; 6 specifies July;
7 specifies August; 8 specifies September; 9 specifies October; 10 specifies
November; and 11 specifies December. Note that MonthFromTime(0) = 0,
corresponding to Thursday, 01&nbsp;January, 1970.</p>
</section>

<section id="sec-15.9.1.5">
<h1><span class="secnum"><a href="#sec-15.9.1.5"
    title="link to this section">15.9.1.5</a></span>
    Date Number</h1>

<p>A date number is identified by an integer in the range 1 through 31,
inclusive. The mapping DateFromTime(<var>t</var>) from a time value
<var>t</var> to a month number is defined by:</p>

<table class="lightweight-table">
  <tbody>
    <tr>
      <td rowspan="12">DateFromTime(<var>t</var>)</td>
      <td>=&nbsp;<a href="#sec-15.9.1.4">DayWithinYear</a>(<var>t</var>)+1</td>
      <td>if <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>)=0</td>
    </tr>
    <tr>
      <td>=&nbsp;<a href="#sec-15.9.1.4">DayWithinYear</a>(<var>t</var>)&minus;30</td>
      <td>if <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>)=1</td>
    </tr>
    <tr>
      <td>=&nbsp;<a href="#sec-15.9.1.4">DayWithinYear</a>(<var>t</var>)&minus;58&minus;<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>if <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>)=2</td>
    </tr>
    <tr>
      <td>=&nbsp;<a href="#sec-15.9.1.4">DayWithinYear</a>(<var>t</var>)&minus;89&minus;<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>if <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>)=3</td>
    </tr>
    <tr>
      <td>=&nbsp;<a href="#sec-15.9.1.4">DayWithinYear</a>(<var>t</var>)&minus;119&minus;<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>if <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>)=4</td>
    </tr>
    <tr>
      <td>=&nbsp;<a href="#sec-15.9.1.4">DayWithinYear</a>(<var>t</var>)&minus;150&minus;<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>if <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>)=5</td>
    </tr>
    <tr>
      <td>=&nbsp;<a href="#sec-15.9.1.4">DayWithinYear</a>(<var>t</var>)&minus;180&minus;<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>if <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>)=6</td>
    </tr>
    <tr>
      <td>=&nbsp;<a href="#sec-15.9.1.4">DayWithinYear</a>(<var>t</var>)&minus;211&minus;<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>if <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>)=7</td>
    </tr>
    <tr>
      <td>=&nbsp;<a href="#sec-15.9.1.4">DayWithinYear</a>(<var>t</var>)&minus;242&minus;<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>if <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>)=8</td>
    </tr>
    <tr>
      <td>=&nbsp;<a href="#sec-15.9.1.4">DayWithinYear</a>(<var>t</var>)&minus;272&minus;<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>if <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>)=9</td>
    </tr>
    <tr>
      <td>=&nbsp;<a href="#sec-15.9.1.4">DayWithinYear</a>(<var>t</var>)&minus;303&minus;<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>if <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>)=10</td>
    </tr>
    <tr>
      <td>=&nbsp;<a href="#sec-15.9.1.4">DayWithinYear</a>(<var>t</var>)&minus;333&minus;<a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</td>
      <td>if <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>)=11</td>
    </tr>
  </tbody>
</table>

</section>

<section id="sec-15.9.1.6">
<span class="pagemark" id="page176">PDF page 176 / printed page 166</span>
<h1><span class="secnum"><a href="#sec-15.9.1.6"
    title="link to this section">15.9.1.6</a></span>
    Week Day</h1>

<p>The weekday for a particular time value <var>t</var> is defined as</p>

<div class="display">WeekDay(<var>t</var>) = (<a href="#sec-15.9.1.2">Day</a>(<var>t</var>) + 4) <a href="#def-modulo">modulo</a> 7</div>

<p>A weekday value of 0 specifies Sunday; 1 specifies Monday; 2 specifies
Tuesday; 3 specifies Wednesday; 4 specifies Thursday; 5 specifies Friday; and 6
specifies Saturday. Note that WeekDay(0) = 4, corresponding to Thursday,
01&nbsp;January, 1970.</p>
</section>

<section id="sec-15.9.1.7">
<h1><span class="secnum"><a href="#sec-15.9.1.7"
    title="link to this section">15.9.1.7</a></span>
    Local Time Zone Adjustment</h1>

<p>An implementation of ECMAScript is expected to determine the local time zone
adjustment. The local time zone adjustment is a value LocalTZA measured in
milliseconds which when added to UTC represents the local <em>standard</em>
time. Daylight saving time is <em>not</em> reflected by LocalTZA. The value
LocalTZA does not vary with time but depends only on the geographic
location.</p>
</section>

<section id="sec-15.9.1.8">
<h1><span class="secnum"><a href="#sec-15.9.1.8"
    title="link to this section">15.9.1.8</a></span>
    Daylight Saving Time Adjustment</h1>

<p>An implementation of ECMAScript is expected to determine the daylight saving
time algorithm. The algorithm to determine the daylight saving time adjustment
DaylightSavingTA(<var>t</var>), measured in milliseconds, must depend only on
four things:</p>

<p>(1) the time since the beginning of the year</p>

<div class="display"><var>t</var> &minus; <a href="#sec-15.9.1.3">TimeFromYear</a>(<a href="#sec-15.9.1.3">YearFromTime</a>(<var>t</var>))</div>

<p>(2) whether <var>t</var> is in a leap year</p>

<div class="display"><a href="#sec-15.9.1.3">InLeapYear</a>(<var>t</var>)</div>

<p>(3) the week day of the beginning of the year</p>

<div class="display"><a href="#sec-15.9.1.6">WeekDay</a>(<a href="#sec-15.9.1.3">TimeFromYear</a>(<a href="#sec-15.9.1.3">YearFromTime</a>(<var>t</var>))</div>

<p>and (4) the geographic location.</p>

<p>The implementation of ECMAScript should not try to determine whether the
exact time was subject to daylight saving time, but just whether daylight
saving time would have been in effect if the current daylight saving time
algorithm had been used at the time. This avoids complications such as taking
into account the years that the locale observed daylight saving time year
round.</p>

<p>If the host environment provides functionality for determining daylight
saving time, the implementation of ECMAScript is free to map the year in
question to an equivalent year (same leap-year-ness and same starting week day
for the year) for which the host environment provides daylight saving time
information. The only restriction is that all equivalent years should produce
the same result.</p>
</section>

<section id="sec-15.9.1.9">
<h1><span class="secnum"><a href="#sec-15.9.1.9"
    title="link to this section">15.9.1.9</a></span>
    Local Time</h1>

<p>Conversion from UTC to local time is defined by</p>

<div class="display">LocalTime(<var>t</var>) = <var>t</var> +
<a href="#sec-15.9.1.7">LocalTZA</a> +
<a href="#sec-15.9.1.8">DaylightSavingTA</a>(<var>t</var>)</div>

<p>Conversion from local time to UTC is defined by</p>

<div class="display">UTC(<var>t</var>) = <var>t</var> &minus;
<a href="#sec-15.9.1.7">LocalTZA</a> &minus;
<a href="#sec-15.9.1.8">DaylightSavingTA</a>(<var>t</var> &minus;
<a href="#sec-15.9.1.7">LocalTZA</a>)</div>

<p>Note that UTC(LocalTime(<var>t</var>)) is not necessarily always equal to
<var>t</var>.</p>
</section>

<section id="sec-15.9.1.10">
<h1><span class="secnum"><a href="#sec-15.9.1.10"
    title="link to this section">15.9.1.10</a></span>
    Hours, Minutes, Second, and Milliseconds</h1>

<p>The following functions are useful in decomposing time values:</p>

<div class="display">HourFromTime(<var>t</var>)
= <a href="#def-floor">floor</a>(<var>t</var> /
msPerHour) <a href="#def-modulo">modulo</a> HoursPerDay</div>

<span class="pagemark" id="page177">PDF page 177 / printed page 167</span>

<div class="display">MinFromTime(<var>t</var>)
= <a href="#def-floor">floor</a>(<var>t</var> /
msPerMinute) <a href="#def-modulo">modulo</a> MinutesPerHour</div>

<div class="display">SecFromTime(<var>t</var>)
= <a href="#def-floor">floor</a>(<var>t</var> /
msPerSecond) <a href="#def-modulo">modulo</a> SecondsPerMinute</div>

<div class="display">msFromTime(<var>t</var>) = <var>t</var>
<a href="#def-modulo">modulo</a> msPerSecond</div>

<p>where</p>

<div class="display">
  <div>HoursPerDay = 24</div>
  <div>MinutesPerHour = 60</div>
  <div>SecondsPerMinute = 60</div>
  <div>msPerSecond = 1000</div>
  <div>msPerMinute = 60000 = msPerSecond &times; SecondsPerMinute</div>
  <div>msPerHour = 3600000 = msPerMinute &times; MinutesPerHour</div>
</div>

</section>

<section id="sec-15.9.1.11">
<h1><span class="secnum"><a href="#sec-15.9.1.11"
    title="link to this section">15.9.1.11</a></span>
    MakeTime (hour, min, sec, ms)</h1>

<p>The operator MakeTime calculates a number of milliseconds from its four
arguments, which must be ECMAScript Number values. This operator functions as
follows:</p>

<ol class="proc">
  <li>If <var>hour</var> is not finite or <var>min</var> is not finite or
      <var>sec</var> is not finite or <var>ms</var> is not finite, return
      <span class="value">NaN</span>.</li>

  <li>Let <var>h</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>hour</var>).</li>

  <li>Let <var>m</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>min</var>).</li>

  <li>Let <var>s</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>sec</var>).</li>

  <li>Let <var>milli</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>ms</var>).</li>

  <li>Let <var>t</var> be <var>h</var> <code class="t">*</code> msPerHour
      <code class="t">+</code> <var>m</var> <code class="t">*</code>
      msPerMinute <code class="t">+</code> <var>s</var>
      <code class="t">*</code> msPerSecond <code class="t">+</code>
      <var>milli</var>, performing the arithmetic according to IEEE 754 rules
      (that is, as if using the ECMAScript operators <code class="t">*</code>
      and <code class="t">+</code>).</li>

  <li>Return <var>t</var>.</li>
</ol>
</section>

<section id="sec-15.9.1.12">
<h1><span class="secnum"><a href="#sec-15.9.1.12"
    title="link to this section">15.9.1.12</a></span>
    MakeDay (year, month, date)</h1>

<p>The operator MakeDay calculates a number of days from its three arguments,
which must be ECMAScript Number values. This operator functions as follows:</p>

<ol class="proc">
  <li>If <var>year</var> is not finite or <var>month</var> is not finite or
      <var>date</var> is not finite, return
      <span class="value">NaN</span>.</li>

  <li>Let <var>y</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>year</var>).</li>

  <li>Let <var>m</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>month</var>).</li>

  <li>Let <var>dt</var> be
      <a href="#sec-9.4">ToInteger</a>(<var>date</var>).</li>

  <li>Let <var>ym</var> be <var>y</var> +
      <a href="#def-floor">floor</a>(<var>m</var> /12).</li>

  <li>Let <var>mn</var> be <var>m</var> <a href="#def-modulo">modulo</a>
      12.</li>

  <li>Find a value <var>t</var> such that
      <span class="math"><a href="#sec-15.9.1.3">YearFromTime</a>(<var>t</var>)
      <b>==</b> <var>ym</var></span> and
      <span class="math"><a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>)
      <b>==</b> <var>mn</var></span> and
      <span class="math"><a href="#sec-15.9.1.5">DateFromTime</a>(<var>t</var>)
      <b>==</b> 1</span>; but if this is not possible (because some argument is
      out of range), return <span class="value">NaN</span>.</li>

  <li>Return <a href="#sec-15.9.1.2">Day</a>(<var>t</var>) + <var>dt</var>
      &minus; 1.</li>
</ol>
</section>

<section id="sec-15.9.1.13">
<h1><span class="secnum"><a href="#sec-15.9.1.13"
    title="link to this section">15.9.1.13</a></span>
    MakeDate (day, time)</h1>

<p>The operator MakeDate calculates a number of milliseconds from its two
arguments, which must be ECMAScript Number values. This operator functions as
follows:</p>

<ol class="proc">
  <li>If <var>day</var> is not finite or <var>time</var> is not finite, return
      <span class="value">NaN</span>.</li>

  <li>Return <var>day</var> &times; msPerDay + <var>time</var>.</li>
</ol>
</section>

<section id="sec-15.9.1.14">
<h1><span class="secnum"><a href="#sec-15.9.1.14"
    title="link to this section">15.9.1.14</a></span>
    TimeClip (time)</h1>

<p>The operator TimeClip calculates a number of milliseconds from its argument,
which must be an ECMAScript Number value. This operator functions as
follows:</p>

<ol class="proc">
  <li>If <var>time</var> is not finite, return
      <span class="value">NaN</span>.</li>

  <li><span class="pagemark" id="page178">PDF page 178 / printed page
      168</span>If
      <span class="math"><a href="#def-abs">abs</a>(<var>time</var>) &gt; 8.64
      &times; 10<sup>15</sup></span>, return
      <span class="value">NaN</span>.</li>

  <li>Return an implementation-dependent choice of either
      <a href="#sec-9.4">ToInteger</a>(<var>time</var>) or
      <span class="math"><a href="#sec-9.4">ToInteger</a>(<var>time</var>) +
      (<span class="value">+0</span>)</span>. (Adding a positive zero converts
      <span class="value">&minus;0</span> to
      <span class="value">+0</span>.)</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The point of step 3 is that an implementation
  is permitted a choice of internal representations of time values, for example
  as a 64-bit signed integer or as a 64-bit floating-point value. Depending on
  the implementation, this internal representation may or may not distinguish
  <span class="value">&minus;0</span> and <span class="value">+0</span>.</p>
</div>
</section>

<section id="sec-15.9.1.15">
<h1><span class="secnum"><a href="#sec-15.9.1.15"
    title="link to this section">15.9.1.15</a></span>
    Date Time String Format</h1>

<p>ECMAScript defines a string interchange format for date-times based upon a
simplification of the ISO 8601 Extended Format. The format is as follows:
<code>YYYY-MM-DDTHH:mm:ss.sss<var>Z</var></code></p>

<p>Where the fields are as follows:</p>

<table class="lightweight-table">
  <tbody>
    <tr>
      <td><code>YYYY</code></td>
      <td>is the decimal digits of the year in the Gregorian calendar.</td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td>&ldquo;<code class="t">:</code>&rdquo; (hyphen) appears literally
          twice in the string.</td>
    </tr>
    <tr>
      <td><code>MM</code></td>
      <td>is the month of the year from 01 (January) to 12 (December).</td>
    </tr>
    <tr>
      <td><code>DD</code></td>
      <td>is the day of the month from 01 to 31.</td>
    </tr>
    <tr>
      <td><code>T</code></td>
      <td>&ldquo;<code class="t">T</code>&rdquo; appears literally in the
          string, to indicate the beginning of the time element.</td>
    </tr>
    <tr>
      <td><code>HH</code></td>
      <td>is the number of complete hours that have passed since midnight as
          two decimal digits from 00 to 24.</td>
    </tr>
    <tr>
      <td><code>:</code></td>
      <td>&ldquo;<code class="t">:</code>&rdquo; (colon) appears literally
          twice in the string.</td>
    </tr>
    <tr>
      <td><code>mm</code></td>
      <td>is the number of complete minutes since the start of the hour as two
          decimal digits from 00 to 59.</td>
    </tr>
    <tr>
      <td><code>ss</code></td>
      <td>is the number of complete seconds since the start of the minute as
          two decimal digits from 00 to 59.</td>
    </tr>
    <tr>
      <td><code>.</code></td>
      <td>&ldquo;<code class="t">.</code>&rdquo; (dot) appears literally in the
          string.</td>
    </tr>
    <tr>
      <td><code>sss</code></td>
      <td>is the number of complete milliseconds since the start of the second
          as three decimal digits.</td>
    </tr>
    <tr>
      <td colspan="2">Both the <span class="string value">"."</span> and the
          milliseconds field may be omitted.</td>
    </tr>
    <tr>
      <td><code><var>Z</var></code></td>
      <td>is the time zone offset specified as
        &ldquo;<code class="t">Z</code>&rdquo; (for UTC) or either
        &ldquo;<code class="t">+</code>&rdquo; or
        &ldquo;<code class="t">-</code>&rdquo; followed by a time expression
        <code>HH:mm</code></td>
    </tr>
  </tbody>
</table>

<p>This format includes date-only forms:</p>

<pre><b>YYYY
YYYY-MM
YYYY-MM-DD</b></pre>

<p>It also includes &ldquo;date-time&rdquo; forms that consist of one of the
above date-only forms immediately followed by one of the following time forms
with an optional time zone offset appended:</p>

<pre><b>THH:mm
THH:mm:ss
THH:mm:ss.sss</b></pre>

<p>All numbers must be base 10. If the <code>MM</code> or <code>DD</code>
fields are absent &ldquo;<code>01</code>&rdquo; is used as the value. If the
<code>mm</code> or <code>ss</code> fields are absent
&ldquo;<code>00</code>&rdquo; is used as the value and the value of an absent
<code>sss</code> file is &ldquo;<code>000</code>&rdquo;. The value of an absent
time zone offset is &ldquo;<code>Z</code>&rdquo;.</p>

<p>Illegal values (out-of-bounds as well as syntax errors) in a format string
means that the format string is not a valid instance of this format.</p>

<div class="note">
  <p><span class="nh">NOTE 1</span> As every day both starts and ends with
  midnight, the two notations 00:00 and 24:00 are available to distinguish the
  two midnights that can be associated with one date. This means that the
  following two notations refer to exactly the same point in time:
  1995-02-04T24:00 and 1995-02-05T00:00</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> There exists no international standard that
  specifies abbreviations for civil time zones like CET, EST, etc. and
  sometimes the same abbreviation is even used for two very different time
  zones. For this reason, ISO 8601 and this format specifies numeric
  representations of date and time.</p>
</div>


<span class="pagemark" id="page179">PDF page 179 / printed page 169</span>

<section id="sec-15.9.1.15.1">
<h1><span class="secnum"><a href="#sec-15.9.1.15.1"
    title="link to this section">15.9.1.15.1</a></span>
    Extended years</h1>

<p>ECMAScript requires the ability to specify 6 digit years (extended years);
approximately 285,616 years, either forward or backward, from 01&nbsp;January,
1970 UTC. To represent years before 0 or after 9999, ISO 8601 permits the
expansion of the year representation, but only by prior agreement between the
sender and the receiver. In the simplified ECMAScript format such an expanded
year representation shall have 2 extra year digits and is always prefixed with
a <code class="ch">+</code> or <code class="ch">&minus;</code> sign. The year 0
is considered positive and hence prefixed with a <code class="ch">+</code>
sign.</p>
</section>
</section>
</section>

<section id="sec-15.9.2">
<h1><span class="secnum"><a href="#sec-15.9.2"
    title="link to this section">15.9.2</a></span>
    The Date Constructor Called as a Function</h1>

<p>When <span class="libname">Date</span> is called as a function rather than
as a constructor, it returns a String representing the current time (UTC).</p>

<div class="note">
  <p><span class="nh">NOTE</span> The function call
  <code class="expr">Date(<var>...</var>)</code> is not equivalent to the
  object creation expression <code class="expr">new Date(<var>...</var>)</code>
  with the same arguments.</p>
</div>

<section id="sec-15.9.2.1">
<h1><span class="secnum"><a href="#sec-15.9.2.1"
    title="link to this section">15.9.2.1</a></span>
    Date ( [ year [, month [, date [, hours [, minutes [, seconds [, ms ] ] ] ] ] ] ] )</h1>

<p>All of the arguments are optional; any arguments supplied are accepted but
are completely ignored. A String is created and returned as if by the
expression <code class="expr">(new Date()).toString()</code> where
<code class="expr">Date</code> is the standard built-in constructor with that
name and <code class="expr">toString</code> is the standard built-in method
<span class="libname">Date.prototype.toString</span>.</p>
</section>
</section>

<section id="sec-15.9.3">
<h1><span class="secnum"><a href="#sec-15.9.3"
    title="link to this section">15.9.3</a></span>
    The Date Constructor</h1>

<p>When <span class="libname">Date</span> is called as part of a
<code class="t">new</code> expression, it is a constructor: it initialises the
newly created object.</p>


<section id="sec-15.9.3.1">
<h1><span class="secnum"><a href="#sec-15.9.3.1"
    title="link to this section">15.9.3.1</a></span>
    new Date (year, month [, date [, hours [, minutes [, seconds [, ms ] ] ] ] ] )</h1>

<p>When <span class="libname">Date</span> is called with two to seven
arguments, it computes the date from <var>year</var>, <var>month</var>, and
(optionally) <var>date</var>, <var>hours</var>, <var>minutes</var>,
<var>seconds</var> and <var>ms</var>.</p>

<p>The [[Prototype]] internal property of the newly constructed object is set
to the original Date prototype object, the one that is the initial value of
<span class="libname">Date.prototype</span>
(<a href="#sec-15.9.4.1">15.9.4.1</a>).</p>

<p>The [[Class]] internal property of the newly constructed object is set to
<span class="string value">"Date"</span>.</p>

<p>The [[Extensible]] internal property of the newly constructed object is set
to <span class="value">true</span>.</p>

<p>The [[PrimitiveValue]] internal property of the newly constructed object is
set as follows:</p>

<ol class="proc">
  <li>Let <var>y</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>year</var>).</li>

  <li>Let <var>m</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>month</var>).</li>

  <li>If <var>date</var> is supplied then let <var>dt</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>date</var>); else let <var>dt</var>
      be <span class="value">1</span>.</li>

  <li>If <var>hours</var> is supplied then let <var>h</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>hours</var>); else let <var>h</var>
      be <span class="value">0</span>.</li>

  <li>If <var>minutes</var> is supplied then let <var>min</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>minutes</var>); else let
      <var>min</var> be <span class="value">0</span>.</li>

  <li>If <var>seconds</var> is supplied then let <var>s</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>seconds</var>); else let
      <var>s</var> be <span class="value">0</span>.</li>

  <li>If <var>ms</var> is supplied then let <var>milli</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>ms</var>); else let <var>milli</var>
      be <span class="value">0</span>.</li>

  <li>If <var>y</var> is not <span class="value">NaN</span> and
      <span class="math">0 &le; <a href="#sec-9.4">ToInteger</a>(<var>y</var>)
      &le; 99</span>, then let <var>yr</var> be <span class="math">1900 +
      <a href="#sec-9.4">ToInteger</a>(<var>y</var>)</span>; otherwise, let
      <var>yr</var> be <var>y</var>.</li>

  <li>Let <var>finalDate</var> be
      <a href="#sec-15.9.1.13">MakeDate</a>(<a href="#sec-15.9.1.12">MakeDay</a>(<var>yr</var>,
      <var>m</var>, <var>dt</var>),
      <a href="#sec-15.9.1.11">MakeTime</a>(<var>h</var>, <var>min</var>,
      <var>s</var>, <var>milli</var>)).</li>

  <li>Set the [[PrimitiveValue]] internal property of the newly constructed
      object to
      <a href="#sec-15.9.1.14">TimeClip</a>(<a href="#sec-15.9.1.9">UTC</a>(<var>finalDate</var>)).</li>
</ol>
</section>

<section id="sec-15.9.3.2">
<h1><span class="secnum"><a href="#sec-15.9.3.2"
    title="link to this section">15.9.3.2</a></span>
    new Date (value)</h1>

<p>The [[Prototype]] internal property of the newly constructed object is set
to the original Date prototype object, the one that is the initial value of
<span class="libname">Date.prototype</span>
(<a href="#sec-15.9.4.1">15.9.4.1</a>).</p>

<p><span class="pagemark" id="page180">PDF page 180 / printed page 170</span>
The [[Class]] internal property of the newly constructed object is set to
<span class="string value">"Date"</span>.</p>

<p>The [[Extensible]] internal property of the newly constructed object is set
to <span class="value">true</span>.</p>

<p>The [[PrimitiveValue]] internal property of the newly constructed object is
set as follows:</p>

<ol class="proc">
  <li>Let <var>v</var> be
      <a href="#sec-9.1">ToPrimitive</a>(<var>value</var>).</li>

  <li>If <a href="#def-type">Type</a>(<var>v</var>) is String, then
    <ol class="block">
      <li>Parse <var>v</var> as a date, in exactly the same manner as for the
          <span class="libname">parse</span> method (<a href="#sec-15.9.4.2">15.9.4.2</a>); let
          <var>v</var> be the time value for this date.</li>
    </ol>
  </li>

  <li>Else, let <var>v</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>v</var>).</li>

  <li>Set the [[PrimitiveValue]] internal property of the newly constructed
      object to <a href="#sec-15.9.1.14">TimeClip</a>(<var>v</var>) and
      return.</li>
</ol>
</section>

<section id="sec-15.9.3.3">
<h1><span class="secnum"><a href="#sec-15.9.3.3"
    title="link to this section">15.9.3.3</a></span>
    new Date ( )</h1>

<p>The [[Prototype]] internal property of the newly constructed object is set
to the original Date prototype object, the one that is the initial value of
<span class="libname">Date.prototype</span>
(<a href="#sec-15.9.4.1">15.9.4.1</a>).</p>

<p>The [[Class]] internal property of the newly constructed object is set to
<span class="string value">"Date"</span>.</p>

<p>The [[Extensible]] internal property of the newly constructed object is set
to <span class="value">true</span>.</p>

<p>The [[PrimitiveValue]] internal property of the newly constructed object is
set to the time value (UTC) identifying the current time.</p>
</section>
</section>

<section id="sec-15.9.4">
<h1><span class="secnum"><a href="#sec-15.9.4"
    title="link to this section">15.9.4</a></span>
    Properties of the Date Constructor</h1>

<p>The value of the [[Prototype]] internal property of the Date constructor is
<a href="#sec-15.3.4">the Function prototype object (15.3.4)</a>.</p>

<p>Besides the internal properties and the <code class="propname">length</code>
property (whose value is <span class="value">7</span>), the Date constructor
has the following properties:</p>


<section id="sec-15.9.4.1">
<h1><span class="secnum"><a href="#sec-15.9.4.1"
    title="link to this section">15.9.4.1</a></span>
    Date.prototype</h1>

<p>The initial value of <span class="libname">Date.prototype</span> is the
built-in Date prototype object (<a href="#sec-15.9.5">15.9.5</a>).</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.9.4.2">
<h1><span class="secnum"><a href="#sec-15.9.4.2"
    title="link to this section">15.9.4.2</a></span>
    Date.parse (string)</h1>

<p>The <span class="libname">parse</span> function applies the
<a href="#sec-9.8">ToString</a> operator to its argument and interprets the
resulting String as a date and time; it returns a Number, the UTC time value
corresponding to the date and time. The String may be interpreted as a local
time, a UTC time, or a time in some other time zone, depending on the contents
of the String. The function first attempts to parse the format of the String
according to the rules called out in Date Time String Format
(<a href="#sec-15.9.1.15">15.9.1.15</a>). If the String does not conform to
that format the function may fall back to any implementation-specific
heuristics or implementation-specific date formats. Unrecognizable Strings or
dates containing illegal element values in the format String shall cause
<span class="libname">Date.parse</span> to return
<span class="value">NaN</span>.</p>

<p>If <var>x</var> is any Date object whose milliseconds amount is zero within
a particular implementation of ECMAScript, then all of the following
expressions should produce the same numeric value in that implementation, if
all the properties referenced have their initial values:</p>

<pre><var>x</var>.valueOf()
Date.parse(<var>x</var>.toString())
Date.parse(<var>x</var>.toUTCString())
Date.parse(<var>x</var>.toISOString())</pre>

<p>However, the expression</p>

<pre>Date.parse(<var>x</var>.toLocaleString())</pre>

<p><span class="pagemark" id="page181">PDF page 181 / printed page 171</span>
is not required to produce the same Number value as the preceding three
expressions and, in general, the value produced by
<span class="libname">Date.parse</span> is implementation-dependent when given
any String value that does not conform to the Date Time String Format
(<a href="#sec-15.9.1.15">15.9.1.15</a>) and that could not be produced in that
implementation by the <span class="libname">toString</span> or
<span class="libname">toUTCString</span> method.</p>
</section>

<section id="sec-15.9.4.3">
<h1><span class="secnum"><a href="#sec-15.9.4.3"
    title="link to this section">15.9.4.3</a></span>
    Date.UTC (year, month [, date [, hours [, minutes [, seconds [, ms ] ] ] ] ] )</h1>

<p>When the <span class="libname">UTC</span> function is called with fewer than
two arguments, the behaviour is implementation-dependent. When the
<span class="libname">UTC</span> function is called with two to seven
arguments, it computes the date from <var>year</var>, <var>month</var> and
(optionally) <var>date</var>, <var>hours</var>, <var>minutes</var>,
<var>seconds</var> and <var>ms</var>. The following steps are taken:</p>

<ol class="proc">
  <li>Let <var>y</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>year</var>).</li>

  <li>Let <var>m</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>month</var>).</li>

  <li>If <var>date</var> is supplied then let <var>dt</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>date</var>); else let <var>dt</var>
      be <span class="value">1</span>.</li>

  <li>If <var>hours</var> is supplied then let <var>h</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>hours</var>); else let <var>h</var>
      be <span class="value">0</span>.</li>

  <li>If <var>minutes</var> is supplied then let <var>min</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>minutes</var>); else let
      <var>min</var> be <span class="value">0</span>.</li>

  <li>If <var>seconds</var> is supplied then let <var>s</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>seconds</var>); else let
      <var>s</var> be <span class="value">0</span>.</li>

  <li>If <var>ms</var> is supplied then let <var>milli</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>ms</var>); else let <var>milli</var>
      be <span class="value">0</span>.</li>

  <li>If <var>y</var> is not <span class="value">NaN</span> and 0 &le;
      <a href="#sec-9.4">ToInteger</a>(<var>y</var>) &le; 99, then let
      <var>yr</var> be 1900+<a href="#sec-9.4">ToInteger</a>(<var>y</var>);
      otherwise, let <var>yr</var> be <var>y</var>.</li>

  <li>Return
      <a href="#sec-15.9.1.14">TimeClip</a>(<a href="#sec-15.9.1.13">MakeDate</a>(<a href="#sec-15.9.1.12">MakeDay</a>(<var>yr</var>,
      <var>m</var>, <var>dt</var>),
      <a href="#sec-15.9.1.11">MakeTime</a>(<var>h</var>, <var>min</var>,
      <var>s</var>, <var>milli</var>))).</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">UTC</span> function is <span class="value">7</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The UTC function differs from the Date
  constructor in two ways: it returns a time value as a Number, rather than
  creating a Date object, and it interprets the arguments in UTC rather than as
  local time.</p>
</div>
</section>

<section id="sec-15.9.4.4">
<h1><span class="secnum"><a href="#sec-15.9.4.4"
    title="link to this section">15.9.4.4</a></span>
    Date.now ( )</h1>

<p>The <span class="libname">now</span> function return a Number value that is
the time value designating the UTC date and time of the occurrence of the call
to <span class="libname">now</span>.</p>
</section>
</section>

<section id="sec-15.9.5">
<h1><span class="secnum"><a href="#sec-15.9.5"
    title="link to this section">15.9.5</a></span>
    Properties of the Date Prototype Object</h1>

<p>The Date prototype object is itself a Date object (its [[Class]] is
<span class="string value">"Date"</span>) whose [[PrimitiveValue]] is
<span class="value">NaN</span>.</p>

<p>The value of the [[Prototype]] internal property of the Date prototype
object is the standard built-in Object prototype object
(<a href="#sec-15.2.4">15.2.4</a>).</p>

<p><span class="def-this-Date-object">In following descriptions of functions
that are properties of the Date prototype object, the phrase &ldquo;this Date
object&rdquo; refers to the object that is the <span class="this">this</span>
value for the invocation of the function.</span> Unless explicitly noted
otherwise, none of these functions are generic; a
<span class="errorname">TypeError</span> exception is thrown if the
<span class="this">this</span> value is not an object for which the value of
the [[Class]] internal property is <span class="string value">"Date"</span>.
<span id="def-this-time-value">Also, the phrase &ldquo;this time value&rdquo;
refers to the Number value for the time represented by this Date object, that
is, the value of the [[PrimitiveValue]] internal property of this Date
object.</span></p>


<section id="sec-15.9.5.1">
<h1><span class="secnum"><a href="#sec-15.9.5.1"
    title="link to this section">15.9.5.1</a></span>
    Date.prototype.constructor</h1>

<p>The initial value of <span class="libname">Date.prototype.constructor</span>
is the built-in <span class="libname">Date</span> constructor.</p>
</section>

<section id="sec-15.9.5.2">
<h1><span class="secnum"><a href="#sec-15.9.5.2"
    title="link to this section">15.9.5.2</a></span>
    Date.prototype.toString ( )</h1>

<p>This function returns a String value. The contents of the String are
implementation-dependent, but are intended to represent the Date in the current
time zone in a convenient, human-readable form.</p>

<div class="note">
  <p><span class="nh">NOTE</span> For any Date value <var>d</var> whose
  milliseconds amount is zero, the result of
  <code class="expr">Date.parse(<var>d</var>.toString())</code> is equal to
  <code class="expr"><var>d</var>.valueOf()</code>. <a href="#sec-15.9.4.2">See
  15.9.4.2</a>.</p>
</div>
</section>


<span class="pagemark" id="page182">PDF page 182 / printed page 172</span>

<section id="sec-15.9.5.3">
<h1><span class="secnum"><a href="#sec-15.9.5.3"
    title="link to this section">15.9.5.3</a></span>
    Date.prototype.toDateString ( )</h1>

<p>This function returns a String value. The contents of the String are
implementation-dependent, but are intended to represent the &ldquo;date&rdquo;
portion of the Date in the current time zone in a convenient, human-readable
form.</p>
</section>

<section id="sec-15.9.5.4">
<h1><span class="secnum"><a href="#sec-15.9.5.4"
    title="link to this section">15.9.5.4</a></span>
    Date.prototype.toTimeString ( )</h1>

<p>This function returns a String value. The contents of the String are
implementation-dependent, but are intended to represent the &ldquo;time&rdquo;
portion of the Date in the current time zone in a convenient, human-readable
form.</p>
</section>

<section id="sec-15.9.5.5">
<h1><span class="secnum"><a href="#sec-15.9.5.5"
    title="link to this section">15.9.5.5</a></span>
    Date.prototype.toLocaleString ( )</h1>

<p>This function returns a String value. The contents of the String are
implementation-dependent, but are intended to represent the Date in the current
time zone in a convenient, human-readable form that corresponds to the
conventions of the host environment&rsquo;s current locale.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The first parameter to this function is
  likely to be used in a future version of this standard; it is recommended
  that implementations do not use this parameter position for anything
  else.</p>
</div>
</section>

<section id="sec-15.9.5.6">
<h1><span class="secnum"><a href="#sec-15.9.5.6"
    title="link to this section">15.9.5.6</a></span>
    Date.prototype.toLocaleDateString ( )</h1>

<p>This function returns a String value. The contents of the String are
implementation-dependent, but are intended to represent the &ldquo;date&rdquo;
portion of the Date in the current time zone in a convenient, human-readable
form that corresponds to the conventions of the host environment&rsquo;s
current locale.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The first parameter to this function is
  likely to be used in a future version of this standard; it is recommended
  that implementations do not use this parameter position for anything
  else.</p>
</div>
</section>

<section id="sec-15.9.5.7">
<h1><span class="secnum"><a href="#sec-15.9.5.7"
    title="link to this section">15.9.5.7</a></span>
    Date.prototype.toLocaleTimeString ( )</h1>

<p>This function returns a String value. The contents of the String are
implementation-dependent, but are intended to represent the &ldquo;time&rdquo;
portion of the Date in the current time zone in a convenient, human-readable
form that corresponds to the conventions of the host environment&rsquo;s
current locale.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The first parameter to this function is
  likely to be used in a future version of this standard; it is recommended
  that implementations do not use this parameter position for anything
  else.</p>
</div>
</section>

<section id="sec-15.9.5.8">
<h1><span class="secnum"><a href="#sec-15.9.5.8"
    title="link to this section">15.9.5.8</a></span>
    Date.prototype.valueOf ( )</h1>

<p>The <span class="libname">valueOf</span> function returns a Number, which is
<a href="#def-this-time-value">this time value</a>.</p>
</section>

<section id="sec-15.9.5.9">
<h1><span class="secnum"><a href="#sec-15.9.5.9"
    title="link to this section">15.9.5.9</a></span>
    Date.prototype.getTime ( )</h1>

<ol class="proc">
  <li>Return <a href="#def-this-time-value">this time value</a>.</li>
</ol>
</section>

<section id="sec-15.9.5.10">
<h1><span class="secnum"><a href="#sec-15.9.5.10"
    title="link to this section">15.9.5.10</a></span>
    Date.prototype.getFullYear ( )</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return
      <a href="#sec-15.9.1.3">YearFromTime</a>(<a href="#sec-15.9.1.9">LocalTime</a>(<var>t</var>)).</li>
</ol>
</section>

<section id="sec-15.9.5.11">
<h1><span class="secnum"><a href="#sec-15.9.5.11"
    title="link to this section">15.9.5.11</a></span>
    Date.prototype.getUTCFullYear ( )</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li><span class="pagemark" id="page183">PDF page 183 / printed page
      173</span>Return
      <a href="#sec-15.9.1.3">YearFromTime</a>(<var>t</var>).</li>
</ol>
</section>

<section id="sec-15.9.5.12">
<h1><span class="secnum"><a href="#sec-15.9.5.12"
    title="link to this section">15.9.5.12</a></span>
    Date.prototype.getMonth ( )</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return
      <a href="#sec-15.9.1.4">MonthFromTime</a>(<a href="#sec-15.9.1.9">LocalTime</a>(<var>t</var>)).</li>
</ol>
</section>

<section id="sec-15.9.5.13">
<h1><span class="secnum"><a href="#sec-15.9.5.13"
    title="link to this section">15.9.5.13</a></span>
    Date.prototype.getUTCMonth ( )</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>).</li>
</ol>
</section>

<section id="sec-15.9.5.14">
<h1><span class="secnum"><a href="#sec-15.9.5.14"
    title="link to this section">15.9.5.14</a></span>
    Date.prototype.getDate ( )</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return
      <a href="#sec-15.9.1.5">DateFromTime</a>(<a href="#sec-15.9.1.9">LocalTime</a>(<var>t</var>)).</li>
</ol>
</section>

<section id="sec-15.9.5.15">
<h1><span class="secnum"><a href="#sec-15.9.5.15"
    title="link to this section">15.9.5.15</a></span>
    Date.prototype.getUTCDate ( )</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return <a href="#sec-15.9.1.5">DateFromTime</a>(<var>t</var>).</li>
</ol>
</section>

<section id="sec-15.9.5.16">
<h1><span class="secnum"><a href="#sec-15.9.5.16"
    title="link to this section">15.9.5.16</a></span>
    Date.prototype.getDay ( )</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return
      <a href="#sec-15.9.1.6">WeekDay</a>(<a href="#sec-15.9.1.9">LocalTime</a>(<var>t</var>)).</li>
</ol>
</section>

<section id="sec-15.9.5.17">
<h1><span class="secnum"><a href="#sec-15.9.5.17"
    title="link to this section">15.9.5.17</a></span>
    Date.prototype.getUTCDay ( )</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return <a href="#sec-15.9.1.6">WeekDay</a>(<var>t</var>).</li>
</ol>
</section>

<section id="sec-15.9.5.18">
<h1><span class="secnum"><a href="#sec-15.9.5.18"
    title="link to this section">15.9.5.18</a></span>
    Date.prototype.getHours ( )</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return
      <a href="#sec-15.9.1.10">HourFromTime</a>(<a href="#sec-15.9.1.9">LocalTime</a>(<var>t</var>)).</li>
</ol>
</section>

<section id="sec-15.9.5.19">
<h1><span class="secnum"><a href="#sec-15.9.5.19"
    title="link to this section">15.9.5.19</a></span>
    Date.prototype.getUTCHours ( )</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return <a href="#sec-15.9.1.10">HourFromTime</a>(<var>t</var>).</li>
</ol>
</section>

<section id="sec-15.9.5.20">
<h1><span class="secnum"><a href="#sec-15.9.5.20"
    title="link to this section">15.9.5.20</a></span>
    Date.prototype.getMinutes ( )</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return
      <a href="#sec-15.9.1.10">MinFromTime</a>(<a href="#sec-15.9.1.9">LocalTime</a>(<var>t</var>)).</li>
</ol>
</section>

<section id="sec-15.9.5.21">
<span class="pagemark" id="page184">PDF page 184 / printed page 174</span>
<h1><span class="secnum"><a href="#sec-15.9.5.21"
    title="link to this section">15.9.5.21</a></span>
    Date.prototype.getUTCMinutes ( )</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return <a href="#sec-15.9.1.10">MinFromTime</a>(<var>t</var>).</li>
</ol>
</section>

<section id="sec-15.9.5.22">
<h1><span class="secnum"><a href="#sec-15.9.5.22"
    title="link to this section">15.9.5.22</a></span>
    Date.prototype.getSeconds ( )</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return
      <a href="#sec-15.9.1.10">SecFromTime</a>(<a href="#sec-15.9.1.9">LocalTime</a>(<var>t</var>)).</li>
</ol>
</section>

<section id="sec-15.9.5.23">
<h1><span class="secnum"><a href="#sec-15.9.5.23"
    title="link to this section">15.9.5.23</a></span>
    Date.prototype.getUTCSeconds ( )</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return <a href="#sec-15.9.1.10">SecFromTime</a>(<var>t</var>).</li>
</ol>
</section>

<section id="sec-15.9.5.24">
<h1><span class="secnum"><a href="#sec-15.9.5.24"
    title="link to this section">15.9.5.24</a></span>
    Date.prototype.getMilliseconds ( )</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return
      <a href="#sec-15.9.1.10">msFromTime</a>(<a href="#sec-15.9.1.9">LocalTime</a>(<var>t</var>)).</li>
</ol>
</section>

<section id="sec-15.9.5.25">
<h1><span class="secnum"><a href="#sec-15.9.5.25"
    title="link to this section">15.9.5.25</a></span>
    Date.prototype.getUTCMilliseconds ( )</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return <a href="#sec-15.9.1.10">msFromTime</a>(<var>t</var>).</li>
</ol>
</section>

<section id="sec-15.9.5.26">
<h1><span class="secnum"><a href="#sec-15.9.5.26"
    title="link to this section">15.9.5.26</a></span>
    Date.prototype.getTimezoneOffset ( )</h1>

<p>Returns the difference between local time and UTC time in minutes.</p>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return (<var>t</var> &minus;
      <a href="#sec-15.9.1.9">LocalTime</a>(<var>t</var>)) / msPerMinute.</li>
</ol>
</section>

<section id="sec-15.9.5.27">
<h1><span class="secnum"><a href="#sec-15.9.5.27"
    title="link to this section">15.9.5.27</a></span>
    Date.prototype.setTime (time)</h1>

<ol class="proc">
  <li>Let <var>v</var> be
      <a href="#sec-15.9.1.14">TimeClip</a>(<a href="#sec-9.3">ToNumber</a>(<var>time</var>)).</li>

  <li>Set the [[PrimitiveValue]] internal property of
      <a href="#def-this-Date-object">this Date object</a> to
      <var>v</var>.</li>

  <li>Return <var>v</var>.</li>
</ol>
</section>

<section id="sec-15.9.5.28">
<h1><span class="secnum"><a href="#sec-15.9.5.28"
    title="link to this section">15.9.5.28</a></span>
    Date.prototype.setMilliseconds (ms)</h1>

<ol class="proc">
  <li>Let <var>t</var> be the result of
      <a href="#sec-15.9.1.9">LocalTime</a>(<a href="#def-this-time-value">this
      time value</a>).</li>

  <li>Let <var>time</var> be
      <a href="#sec-15.9.1.11">MakeTime</a>(<a href="#sec-15.9.1.10">HourFromTime</a>(<var>t</var>),
      <a href="#sec-15.9.1.10">MinFromTime</a>(<var>t</var>),
      <a href="#sec-15.9.1.10">SecFromTime</a>(<var>t</var>),
      <a href="#sec-9.3">ToNumber</a>(<var>ms</var>)).</li>

  <li>Let <var>u</var> be
      <a href="#sec-15.9.1.14">TimeClip</a>(<a href="#sec-15.9.1.9">UTC</a>(<a href="#sec-15.9.1.13">MakeDate</a>(<a href="#sec-15.9.1.2">Day</a>(<var>t</var>),
      <var>time</var>))).</li>

  <li>Set the [[PrimitiveValue]] internal property of
      <a href="#def-this-Date-object">this Date object</a> to
      <var>u</var>.</li>

  <li>Return <var>u</var>.</li>
</ol>
</section>

<section id="sec-15.9.5.29">
<h1><span class="secnum"><a href="#sec-15.9.5.29"
    title="link to this section">15.9.5.29</a></span>
    Date.prototype.setUTCMilliseconds (ms)</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>Let <var>time</var> be
      <a href="#sec-15.9.1.11">MakeTime</a>(<a href="#sec-15.9.1.10">HourFromTime</a>(<var>t</var>),
      <a href="#sec-15.9.1.10">MinFromTime</a>(<var>t</var>),
      <a href="#sec-15.9.1.10">SecFromTime</a>(<var>t</var>),
      <a href="#sec-9.3">ToNumber</a>(<var>ms</var>)).</li>

  <li>Let <var>v</var> be
      <a href="#sec-15.9.1.14">TimeClip</a>(<a href="#sec-15.9.1.13">MakeDate</a>(<a href="#sec-15.9.1.2">Day</a>(<var>t</var>),
      <var>time</var>)).</li>

  <li>Set the [[PrimitiveValue]] internal property of
      <a href="#def-this-Date-object">this Date object</a> to
      <var>v</var>.</li>

  <li><span class="pagemark" id="page185">PDF page 185 / printed page
      175</span>Return <var>v</var>.</li>
</ol>
</section>

<section id="sec-15.9.5.30">
<h1><span class="secnum"><a href="#sec-15.9.5.30"
    title="link to this section">15.9.5.30</a></span>
    Date.prototype.setSeconds (sec [, ms ] )</h1>

<p>If <var>ms</var> is not specified, this behaves as if <var>ms</var> were
specified with the value <code class="expr">getMilliseconds()</code>.</p>

<ol class="proc">
  <li>Let <var>t</var> be the result of
      <a href="#sec-15.9.1.9">LocalTime</a>(<a href="#def-this-time-value">this
      time value</a>).</li>

  <li>Let <var>s</var> be <a href="#sec-9.3">ToNumber</a>(<var>sec</var>).</li>

  <li>If <var>ms</var> is not specified, then let <var>milli</var> be
      <a href="#sec-15.9.1.10">msFromTime</a>(<var>t</var>); otherwise, let
      <var>milli</var> be <a href="#sec-9.3">ToNumber</a>(<var>ms</var>).</li>

  <li>Let <var>date</var> be
      <a href="#sec-15.9.1.13">MakeDate</a>(<a href="#sec-15.9.1.2">Day</a>(<var>t</var>),
      <a href="#sec-15.9.1.11">MakeTime</a>(<a href="#sec-15.9.1.10">HourFromTime</a>(<var>t</var>),
      <a href="#sec-15.9.1.10">MinFromTime</a>(<var>t</var>), <var>s</var>,
      <var>milli</var>)).</li>

  <li>Let <var>u</var> be
      <a href="#sec-15.9.1.14">TimeClip</a>(<a href="#sec-15.9.1.9">UTC</a>(<var>date</var>)).</li>

  <li>Set the [[PrimitiveValue]] internal property of
      <a href="#def-this-Date-object">this Date object</a> to
      <var>u</var>.</li>

  <li>Return <var>u</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">setSeconds</span> method is
<span class="value">2</span>.</p>
</section>

<section id="sec-15.9.5.31">
<h1><span class="secnum"><a href="#sec-15.9.5.31"
    title="link to this section">15.9.5.31</a></span>
    Date.prototype.setUTCSeconds (sec [, ms ] )</h1>

<p>If <var>ms</var> is not specified, this behaves as if <var>ms</var> were
specified with the value <code class="expr">getUTCMilliseconds()</code>.</p>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>Let <var>s</var> be <a href="#sec-9.3">ToNumber</a>(<var>sec</var>).</li>

  <li>If <var>ms</var> is not specified, then let <var>milli</var> be
      <a href="#sec-15.9.1.10">msFromTime</a>(<var>t</var>); otherwise, let
      <var>milli</var> be <a href="#sec-9.3">ToNumber</a>(<var>ms</var>).</li>

  <li>Let <var>date</var> be
      <a href="#sec-15.9.1.13">MakeDate</a>(<a href="#sec-15.9.1.2">Day</a>(<var>t</var>),
      <a href="#sec-15.9.1.11">MakeTime</a>(<a href="#sec-15.9.1.10">HourFromTime</a>(<var>t</var>),
      <a href="#sec-15.9.1.10">MinFromTime</a>(<var>t</var>), <var>s</var>,
      <var>milli</var>)).</li>

  <li>Let <var>v</var> be
      <a href="#sec-15.9.1.14">TimeClip</a>(<var>date</var>).</li>

  <li>Set the [[PrimitiveValue]] internal property of
      <a href="#def-this-Date-object">this Date object</a> to
      <var>v</var>.</li>

  <li>Return <var>v</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">setUTCSeconds</span> method is
<span class="value">2</span>.</p>
</section>

<section id="sec-15.9.5.32">
<h1><span class="secnum"><a href="#sec-15.9.5.32"
    title="link to this section">15.9.5.32</a></span>
    Date.prototype.setMinutes (min [, sec [, ms ] ] )</h1>

<p>If <var>sec</var> is not specified, this behaves as if <var>sec</var> were
specified with the value <code class="expr">getSeconds()</code>.</p>

<p>If <var>ms</var> is not specified, this behaves as if <var>ms</var> were
specified with the value <code class="expr">getMilliseconds()</code>.</p>

<ol class="proc">
  <li>Let <var>t</var> be the result of
      <a href="#sec-15.9.1.9">LocalTime</a>(<a href="#def-this-time-value">this
      time value</a>).</li>

  <li>Let <var>m</var> be <a href="#sec-9.3">ToNumber</a>(<var>min</var>).</li>

  <li>If <var>sec</var> is not specified, then let <var>s</var> be
      <a href="#sec-15.9.1.10">SecFromTime</a>(<var>t</var>); otherwise, let
      <var>s</var> be <a href="#sec-9.3">ToNumber</a>(<var>sec</var>).</li>

  <li>If <var>ms</var> is not specified, then let <var>milli</var> be
      <a href="#sec-15.9.1.10">msFromTime</a>(<var>t</var>); otherwise, let
      <var>milli</var> be <a href="#sec-9.3">ToNumber</a>(<var>ms</var>).</li>

  <li>Let <var>date</var> be
      <a href="#sec-15.9.1.13">MakeDate</a>(<a href="#sec-15.9.1.2">Day</a>(<var>t</var>),
      <a href="#sec-15.9.1.11">MakeTime</a>(<a href="#sec-15.9.1.10">HourFromTime</a>(<var>t</var>),
      <var>m</var>, <var>s</var>, <var>milli</var>)).</li>

  <li>Let <var>u</var> be
      <a href="#sec-15.9.1.14">TimeClip</a>(<a href="#sec-15.9.1.9">UTC</a>(<var>date</var>)).</li>

  <li>Set the [[PrimitiveValue]] internal property of
      <a href="#def-this-Date-object">this Date object</a> to
      <var>u</var>.</li>

  <li>Return <var>u</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">setMinutes</span> method is
<span class="value">3</span>.</p>
</section>

<section id="sec-15.9.5.33">
<h1><span class="secnum"><a href="#sec-15.9.5.33"
    title="link to this section">15.9.5.33</a></span>
    Date.prototype.setUTCMinutes (min [, sec [, ms ] ] )</h1>

<p>If <var>sec</var> is not specified, this behaves as if <var>sec</var> were
specified with the value <code class="expr">getUTCSeconds()</code>.</p>

<p>If <var>ms</var> is not specified, this function behaves as if <var>ms</var>
were specified with the value returned by
<code class="expr">getUTCMilliseconds()</code>.</p>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>Let <var>m</var> be <a href="#sec-9.3">ToNumber</a>(<var>min</var>).</li>

  <li>If <var>sec</var> is not specified, then let <var>s</var> be
      <a href="#sec-15.9.1.10">SecFromTime</a>(<var>t</var>); otherwise, let
      <var>s</var> be <a href="#sec-9.3">ToNumber</a>(<var>sec</var>).</li>

  <li>If <var>ms</var> is not specified, then let <var>milli</var> be
      <a href="#sec-15.9.1.10">msFromTime</a>(<var>t</var>); otherwise, let
      <var>milli</var> be <a href="#sec-9.3">ToNumber</a>(<var>ms</var>).</li>

  <li><span class="pagemark" id="page186">PDF page 186 / printed page
      176</span>Let <var>date</var> be
      <a href="#sec-15.9.1.13">MakeDate</a>(<a href="#sec-15.9.1.2">Day</a>(<var>t</var>),
      <a href="#sec-15.9.1.11">MakeTime</a>(<a href="#sec-15.9.1.10">HourFromTime</a>(<var>t</var>),
      <var>m</var>, <var>s</var>, <var>milli</var>)).</li>

  <li>Let <var>v</var> be
      <a href="#sec-15.9.1.14">TimeClip</a>(<var>date</var>).</li>

  <li>Set the [[PrimitiveValue]] internal property of
      <a href="#def-this-Date-object">this Date object</a> to
      <var>v</var>.</li>

  <li>Return <var>v</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">setUTCMinutes</span> method is
<span class="value">3</span>.</p>
</section>

<section id="sec-15.9.5.34">
<h1><span class="secnum"><a href="#sec-15.9.5.34"
    title="link to this section">15.9.5.34</a></span>
    Date.prototype.setHours (hour [, min [, sec [, ms ] ] ] )</h1>

<p>If <var>min</var> is not specified, this behaves as if <var>min</var> were
specified with the value <code class="expr">getMinutes()</code>.</p>

<p>If <var>sec</var> is not specified, this behaves as if <var>sec</var> were
specified with the value <code class="expr">getSeconds()</code>.</p>

<p>If <var>ms</var> is not specified, this behaves as if <var>ms</var> were
specified with the value <code class="expr">getMilliseconds()</code>.</p>

<ol class="proc">
  <li>Let <var>t</var> be the result of
      <a href="#sec-15.9.1.9">LocalTime</a>(<a href="#def-this-time-value">this
      time value</a>).</li>

  <li>Let <var>h</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>hour</var>).</li>

  <li>If <var>min</var> is not specified, then let <var>m</var> be
      <a href="#sec-15.9.1.10">MinFromTime</a>(<var>t</var>); otherwise, let
      <var>m</var> be <a href="#sec-9.3">ToNumber</a>(<var>min</var>).</li>

  <li>If If <var>sec</var> is not specified, then let <var>s</var> be
      <a href="#sec-15.9.1.10">SecFromTime</a>(<var>t</var>); otherwise, let
      <var>s</var> be <a href="#sec-9.3">ToNumber</a>(<var>sec</var>).</li>

  <li>If <var>ms</var> is not specified, then let <var>milli</var> be
      <a href="#sec-15.9.1.10">msFromTime</a>(<var>t</var>); otherwise, let
      <var>milli</var> be <a href="#sec-9.3">ToNumber</a>(<var>ms</var>).</li>

  <li>Let <var>date</var> be
      <a href="#sec-15.9.1.13">MakeDate</a>(<a href="#sec-15.9.1.2">Day</a>(<var>t</var>),
      <a href="#sec-15.9.1.11">MakeTime</a>(<var>h</var>, <var>m</var>,
      <var>s</var>, <var>milli</var>)).</li>

  <li>Let <var>u</var> be
      <a href="#sec-15.9.1.14">TimeClip</a>(<a href="#sec-15.9.1.9">UTC</a>(<var>date</var>)).</li>

  <li>Set the [[PrimitiveValue]] internal property of
      <a href="#def-this-Date-object">this Date object</a> to
      <var>u</var>.</li>

  <li>Return <var>u</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">setHours</span> method is
<span class="value">4</span>.</p>
</section>

<section id="sec-15.9.5.35">
<h1><span class="secnum"><a href="#sec-15.9.5.35"
    title="link to this section">15.9.5.35</a></span>
    Date.prototype.setUTCHours (hour [, min [, sec [, ms ] ] ] )</h1>

<p>If <var>min</var> is not specified, this behaves as if <var>min</var> were
specified with the value <code class="expr">getUTCMinutes()</code>.</p>

<p>If <var>sec</var> is not specified, this behaves as if <var>sec</var> were
specified with the value <code class="expr">getUTCSeconds()</code>.</p>

<p>If <var>ms</var> is not specified, this behaves as if <var>ms</var> were
specified with the value <code class="expr">getUTCMilliseconds()</code>.</p>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>Let <var>h</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>hour</var>).</li>

  <li>If <var>min</var> is not specified, then let <var>m</var> be
      <a href="#sec-15.9.1.10">MinFromTime</a>(<var>t</var>); otherwise, let
      <var>m</var> be <a href="#sec-9.3">ToNumber</a>(<var>min</var>).</li>

  <li>If <var>sec</var> is not specified, then let <var>s</var> be
      <a href="#sec-15.9.1.10">SecFromTime</a>(<var>t</var>); otherwise, let
      <var>s</var> be <a href="#sec-9.3">ToNumber</a>(<var>sec</var>).</li>

  <li>If <var>ms</var> is not specified, then let <var>milli</var> be
      <a href="#sec-15.9.1.10">msFromTime</a>(<var>t</var>); otherwise, let
      <var>milli</var> be <a href="#sec-9.3">ToNumber</a>(<var>ms</var>).</li>

  <li>Let <var>newDate</var> be
      <a href="#sec-15.9.1.13">MakeDate</a>(<a href="#sec-15.9.1.2">Day</a>(<var>t</var>),
      <a href="#sec-15.9.1.11">MakeTime</a>(<var>h</var>, <var>m</var>,
      <var>s</var>, <var>milli</var>)).</li>

  <li>Let <var>v</var> be
      <a href="#sec-15.9.1.14">TimeClip</a>(<var>newDate</var>).</li>

  <li>Set the [[PrimitiveValue]] internal property of
      <a href="#def-this-Date-object">this Date object</a> to
      <var>v</var>.</li>

  <li>Return <var>v</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">setUTCHours</span> method is
<span class="value">4</span>.</p>
</section>

<section id="sec-15.9.5.36">
<h1><span class="secnum"><a href="#sec-15.9.5.36"
    title="link to this section">15.9.5.36</a></span>
    Date.prototype.setDate (date)</h1>

<ol class="proc">
  <li>Let <var>t</var> be the result of
      <a href="#sec-15.9.1.9">LocalTime</a>(<a href="#def-this-time-value">this
      time value</a>).</li>

  <li>Let <var>dt</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>date</var>).</li>

  <li>Let <var>newDate</var> be
      <a href="#sec-15.9.1.13">MakeDate</a>(<a href="#sec-15.9.1.12">MakeDay</a>(<a href="#sec-15.9.1.3">YearFromTime</a>(<var>t</var>),
      <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>), <var>dt</var>),
      <a href="#sec-15.9.1.2">TimeWithinDay</a>(<var>t</var>)).</li>

  <li>Let <var>u</var> be
      <a href="#sec-15.9.1.14">TimeClip</a>(<a href="#sec-15.9.1.9">UTC</a>(<var>newDate</var>)).</li>

  <li>Set the [[PrimitiveValue]] internal property of
      <a href="#def-this-Date-object">this Date object</a> to
      <var>u</var>.</li>

  <li>Return <var>u</var>.</li>
</ol>
</section>

<section id="sec-15.9.5.37">
<span class="pagemark" id="page187">PDF page 187 / printed page 177</span>
<h1><span class="secnum"><a href="#sec-15.9.5.37"
    title="link to this section">15.9.5.37</a></span>
    Date.prototype.setUTCDate (date)</h1>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>Let <var>dt</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>date</var>).</li>

  <li>Let <var>newDate</var> be
      <a href="#sec-15.9.1.13">MakeDate</a>(<a href="#sec-15.9.1.12">MakeDay</a>(<a href="#sec-15.9.1.3">YearFromTime</a>(<var>t</var>),
      <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>), <var>dt</var>),
      <a href="#sec-15.9.1.2">TimeWithinDay</a>(<var>t</var>)).</li>

  <li>Let <var>v</var> be
      <a href="#sec-15.9.1.14">TimeClip</a>(<var>newDate</var>).</li>

  <li>Set the [[PrimitiveValue]] internal property of
      <a href="#def-this-Date-object">this Date object</a> to
      <var>v</var>.</li>

  <li>Return <var>v</var>.</li>
</ol>
</section>

<section id="sec-15.9.5.38">
<h1><span class="secnum"><a href="#sec-15.9.5.38"
    title="link to this section">15.9.5.38</a></span>
    Date.prototype.setMonth (month [, date ] )</h1>

<p>If <var>date</var> is not specified, this behaves as if <var>date</var> were
specified with the value <code class="expr">getDate()</code>.</p>

<ol class="proc">
  <li>Let <var>t</var> be the result of
      <a href="#sec-15.9.1.9">LocalTime</a>(<a href="#def-this-time-value">this
      time value</a>).</li>

  <li>Let <var>m</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>month</var>).</li>

  <li>If <var>date</var> is not specified, then let <var>dt</var> be
      <a href="#sec-15.9.1.5">DateFromTime</a>(<var>t</var>); otherwise, let
      <var>dt</var> be <a href="#sec-9.3">ToNumber</a>(<var>date</var>).</li>

  <li>Let <var>newDate</var> be
      <a href="#sec-15.9.1.13">MakeDate</a>(<a href="#sec-15.9.1.12">MakeDay</a>(<a href="#sec-15.9.1.3">YearFromTime</a>(<var>t</var>),
      <var>m</var>, <var>dt</var>),
      <a href="#sec-15.9.1.2">TimeWithinDay</a>(<var>t</var>)).</li>

  <li>Let <var>u</var> be
      <a href="#sec-15.9.1.14">TimeClip</a>(<a href="#sec-15.9.1.9">UTC</a>(<var>newDate</var>)).</li>

  <li>Set the [[PrimitiveValue]] internal property of
      <a href="#def-this-Date-object">this Date object</a> to
      <var>u</var>.</li>

  <li>Return <var>u</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">setMonth</span> method is
<span class="value">2</span>.</p>
</section>

<section id="sec-15.9.5.39">
<h1><span class="secnum"><a href="#sec-15.9.5.39"
    title="link to this section">15.9.5.39</a></span>
    Date.prototype.setUTCMonth (month [, date ] )</h1>

<p>If <var>date</var> is not specified, this behaves as if <var>date</var> were
specified with the value <code class="expr">getUTCDate()</code>.</p>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>Let <var>m</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>month</var>).</li>

  <li>If <var>date</var> is not specified, then let <var>dt</var> be
      <a href="#sec-15.9.1.5">DateFromTime</a>(<var>t</var>); otherwise, let
      <var>dt</var> be <a href="#sec-9.3">ToNumber</a>(<var>date</var>).</li>

  <li>Let <var>newDate</var> be
      <a href="#sec-15.9.1.13">MakeDate</a>(<a href="#sec-15.9.1.12">MakeDay</a>(<a href="#sec-15.9.1.3">YearFromTime</a>(<var>t</var>),
      <var>m</var>, <var>dt</var>),
      <a href="#sec-15.9.1.2">TimeWithinDay</a>(<var>t</var>)).</li>

  <li>Let <var>v</var> be
      <a href="#sec-15.9.1.14">TimeClip</a>(<var>newDate</var>).</li>

  <li>Set the [[PrimitiveValue]] internal property of
      <a href="#def-this-Date-object">this Date object</a> to
      <var>v</var>.</li>

  <li>Return <var>v</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">setUTCMonth</span> method is
<span class="value">2</span>.</p>
</section>

<section id="sec-15.9.5.40">
<h1><span class="secnum"><a href="#sec-15.9.5.40"
    title="link to this section">15.9.5.40</a></span>
    Date.prototype.setFullYear (year [, month [, date ] ] )</h1>

<p>If <var>month</var> is not specified, this behaves as if <var>month</var>
were specified with the value <code class="expr">getMonth()</code>.</p>

<p>If <var>date</var> is not specified, this behaves as if <var>date</var> were
specified with the value <code class="expr">getDate()</code>.</p>

<ol class="proc">
  <li>Let <var>t</var> be the result of
      <a href="#sec-15.9.1.9">LocalTime</a>(<a href="#def-this-time-value">this
      time value</a>); but if <a href="#def-this-time-value">this time
      value</a> is <span class="value">NaN</span>, let <var>t</var> be
      <span class="value">+0</span>.</li>

  <li>Let <var>y</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>year</var>).</li>

  <li>If <var>month</var> is not specified, then let <var>m</var> be
      <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>); otherwise, let
      <var>m</var> be <a href="#sec-9.3">ToNumber</a>(<var>month</var>).</li>

  <li>If <var>date</var> is not specified, then let <var>dt</var> be
      <a href="#sec-15.9.1.5">DateFromTime</a>(<var>t</var>); otherwise, let
      <var>dt</var> be <a href="#sec-9.3">ToNumber</a>(<var>date</var>).</li>

  <li>Let <var>newDate</var> be
      <a href="#sec-15.9.1.13">MakeDate</a>(<a href="#sec-15.9.1.12">MakeDay</a>(<var>y</var>,
      <var>m</var>, <var>dt</var>),
      <a href="#sec-15.9.1.2">TimeWithinDay</a>(<var>t</var>)).</li>

  <li>Let <var>u</var> be
      <a href="#sec-15.9.1.14">TimeClip</a>(<a href="#sec-15.9.1.9">UTC</a>(<var>newDate</var>)).</li>

  <li>Set the [[PrimitiveValue]] internal property of
      <a href="#def-this-Date-object">this Date object</a> to
      <var>u</var>.</li>

  <li>Return <var>u</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">setFullYear</span> method is
<span class="value">3</span>.</p>
</section>

<section id="sec-15.9.5.41">
<h1><span class="secnum"><a href="#sec-15.9.5.41"
    title="link to this section">15.9.5.41</a></span>
    Date.prototype.setUTCFullYear (year [, month [, date ] ] )</h1>

<p>If <var>month</var> is not specified, this behaves as if <var>month</var>
were specified with the value <code class="expr">getUTCMonth()</code>.</p>

<p><span class="pagemark" id="page188">PDF page 188 / printed page 178</span>
If <var>date</var> is not specified, this behaves as if <var>date</var> were
specified with the value <code class="expr">getUTCDate()</code>.</p>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time value</a>;
      but if <a href="#def-this-time-value">this time value</a> is
      <span class="value">NaN</span>, let <var>t</var> be
      <span class="value">+0</span>.</li>

  <li>Let <var>y</var> be
      <a href="#sec-9.3">ToNumber</a>(<var>year</var>).</li>

  <li>If <var>month</var> is not specified, then let <var>m</var> be
      <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>); otherwise, let
      <var>m</var> be <a href="#sec-9.3">ToNumber</a>(<var>month</var>).</li>

  <li>If <var>date</var> is not specified, then let <var>dt</var> be
      <a href="#sec-15.9.1.5">DateFromTime</a>(<var>t</var>); otherwise, let
      <var>dt</var> be <a href="#sec-9.3">ToNumber</a>(<var>date</var>).</li>

  <li>Let <var>newDate</var> be
      <a href="#sec-15.9.1.13">MakeDate</a>(<a href="#sec-15.9.1.12">MakeDay</a>(<var>y</var>,
      <var>m</var>, <var>dt</var>),
      <a href="#sec-15.9.1.2">TimeWithinDay</a>(<var>t</var>)).</li>

  <li>Let <var>v</var> be
      <a href="#sec-15.9.1.14">TimeClip</a>(<var>newDate</var>).</li>

  <li>Set the [[PrimitiveValue]] internal property of
      <a href="#def-this-Date-object">this Date object</a> to
      <var>v</var>.</li>

  <li>Return <var>v</var>.</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">setUTCFullYear</span> method is
<span class="value">3</span>.</p>
</section>

<section id="sec-15.9.5.42">
<h1><span class="secnum"><a href="#sec-15.9.5.42"
    title="link to this section">15.9.5.42</a></span>
    Date.prototype.toUTCString ( )</h1>

<p>This function returns a String value. The contents of the String are
implementation-dependent, but are intended to represent the Date in a
convenient, human-readable form in UTC.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The intent is to produce a String
  representation of a date that is more readable than the format specified in
  <a href="#sec-15.9.1.15">15.9.1.15</a>. It is not essential that the chosen
  format be unambiguous or easily machine parsable. If an implementation does
  not have a preferred human-readable format it is recommended to use the
  format defined in <a href="#sec-15.9.1.15">15.9.1.15</a> but with a space
  rather than a <span class="string value">"T"</span> used to separate the date
  and time elements.</p>
</div>
</section>

<section id="sec-15.9.5.43">
<h1><span class="secnum"><a href="#sec-15.9.5.43"
    title="link to this section">15.9.5.43</a></span>
    Date.prototype.toISOString ( )</h1>

<p>This function returns a String value represent the instance in time
represented by <a href="#def-this-Date-object">this Date object</a>. The format
of the String is the Date Time string format defined in
<a href="#sec-15.9.1.15">15.9.1.15</a>. All fields are present in the String.
The time zone is always UTC, denoted by the suffix Z. If the time value of this
object is not a finite Number a <span class="errorname">RangeError</span>
exception is thrown.</p>
</section>

<section id="sec-15.9.5.44">
<h1><span class="secnum"><a href="#sec-15.9.5.44"
    title="link to this section">15.9.5.44</a></span>
    Date.prototype.toJSON ( key )</h1>

<p>This function provides a String representation of a Date object for use by
<span class="libname">JSON.stringify</span>
(<a href="#sec-15.12.3">15.12.3</a>).</p>

<p>When the <span class="libname">toJSON</span> method is called with argument
<var>key</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>O</var> be the result of calling
      <a href="#sec-9.9">ToObject</a>, giving it the
      <span class="this">this</span> value as its argument.</li>

  <li>Let <var>tv</var> be <a href="#sec-9.1">ToPrimitive</a>(<var>O</var>,
      hint Number).</li>

  <li>If <var>tv</var> is a Number and is not finite, return
      <span class="value">null</span>.</li>

  <li>Let <var>toISO</var> be the result of calling the [[Get]] internal method
      of <var>O</var> with argument <span class="string
      value">"toISOString"</span>.</li>

  <li>If <a href="#sec-9.11">IsCallable</a>(<var>toISO</var>) is
      <span class="value">false</span>, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Return the result of calling the [[Call]] internal method of
      <var>toISO</var> with <var>O</var> as the <span class="this">this</span>
      value and an empty argument list.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE 1</span> The argument is ignored.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> The <span class="libname">toJSON</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be a Date object. Therefore, it can be
  transferred to other kinds of objects for use as a method. However, it does
  require that any such object have a <span class="libname">toISOString</span>
  method. An object is free to use the argument <var>key</var> to filter its
  stringification.</p>
</div>
</section>
</section>

<section id="sec-15.9.6">
<h1><span class="secnum"><a href="#sec-15.9.6"
    title="link to this section">15.9.6</a></span>
    Properties of Date Instances</h1>

<p>Date instances inherit properties from the Date prototype object and their
[[Class]] internal property value is <span class="string value">"Date"</span>.
Date instances also have a [[PrimitiveValue]] internal property.</p>

<p>The [[PrimitiveValue]] internal property is time value represented by
<a href="#def-this-Date-object">this Date object</a>.</p>
</section>
</section>


<section id="sec-15.10">
<span class="pagemark" id="page189">PDF page 189 / printed page 179</span>
<h1><span class="secnum"><a href="#sec-15.10"
    title="link to this section">15.10</a></span>
    RegExp (Regular Expression) Objects</h1>

<p>A RegExp object contains a regular expression and the associated flags.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The form and functionality of regular
  expressions is modelled after the regular expression facility in the Perl 5
  programming language.</p>
</div>

<section id="sec-15.10.1">
<h1><span class="secnum"><a href="#sec-15.10.1"
    title="link to this section">15.10.1</a></span>
    Patterns</h1>

<p>The <span class="libname">RegExp</span> constructor applies the following
grammar to the input pattern String. An error occurs if the grammar cannot
interpret the String as an expansion of <span class="nt">Pattern</span>.</p>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-Pattern">
    <div class="lhs">
      <span class="nt">Pattern</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">Disjunction</span>
    </div>
  </div>

  <div class="gp" id="def-Disjunction">
    <div class="lhs">
      <span class="nt">Disjunction</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">Alternative</span>
    </div>
     <div class="rhs">
       <span class="nt">Alternative</span> <code class="t">|</code> <span class="nt">Disjunction</span>
     </div>
  </div>

  <div class="gp" id="def-Alternative">
    <div class="lhs">
      <span class="nt">Alternative</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="grhsannot">[empty]</span>
    </div>
    <div class="rhs">
      <span class="nt">Alternative</span> <span class="nt">Term</span>
    </div>
  </div>

  <div class="gp" id="def-Term">
    <div class="lhs">
      <span class="nt">Term</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">Assertion</span>
    </div>
    <div class="rhs">
      <span class="nt">Atom</span>
    </div>
    <div class="rhs">
      <span class="nt">Atom</span> <span class="nt">Quantifier</span>
    </div>
  </div>

  <div class="gp" id="def-Assertion">
    <div class="lhs">
      <span class="nt">Assertion</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">^</code>
    </div>
    <div class="rhs">
      <code class="t">$</code>
    </div>
    <div class="rhs">
      <code class="t">\</code> <code class="t">b</code>
    </div>
    <div class="rhs">
      <code class="t">\</code> <code class="t">B</code>
    </div>
    <div class="rhs">
      <code class="t">(</code> <code class="t">?</code> <code class="t">=</code> <span class="nt">Disjunction</span> <code class="t">)</code>
    </div>
    <div class="rhs">
      <code class="t">(</code> <code class="t">?</code> <code class="t">!</code> <span class="nt">Disjunction</span> <code class="t">)</code>
    </div>
  </div>

  <div class="gp" id="def-Quantifier">
    <div class="lhs">
      <span class="nt">Quantifier</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">QuantifierPrefix</span>
    </div>
    <div class="rhs">
      <span class="nt">QuantifierPrefix</span> <code class="t">?</code>
    </div>
  </div>

  <div class="gp" id="def-QuantifierPrefix">
    <div class="lhs">
      <span class="nt">QuantifierPrefix</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">*</code>
    </div>
    <div class="rhs">
      <code class="t">+</code>
    </div>
    <div class="rhs">
      <code class="t">?</code>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">DecimalDigits</span> <code class="t">}</code>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">DecimalDigits</span> <code class="t">,</code> <code class="t">}</code>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">DecimalDigits</span> <code class="t">,</code> <span class="nt">DecimalDigits</span> <code class="t">}</code>
    </div>
  </div>

  <div class="gp" id="def-Atom">
    <div class="lhs">
      <span class="nt">Atom</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">PatternCharacter</span>
    </div>
    <div class="rhs">
      <code class="t">.</code>
    </div>
    <div class="rhs">
      <code class="t">\</code> <span class="nt">AtomEscape</span>
    </div>
    <div class="rhs">
      <span class="nt">CharacterClass</span>
    </div>
    <div class="rhs">
      <code class="t">(</code> <span class="nt">Disjunction</span> <code class="t">)</code>
    </div>
    <div class="rhs">
      <code class="t">(</code> <code class="t">?</code> <code class="t">:</code> <span class="nt">Disjunction</span> <code class="t">)</code>
    </div>
  </div>

  <div class="gp" id="def-PatternCharacter">
    <span class="pagemark" id="page190">PDF page 190 / printed page 180</span>
    <div class="lhs">
      <span class="nt">PatternCharacter</span> <span class="geq">::</span>
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not any of:</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">^  $  \  .  *  +  ?  (  )  [  ]  {  }  |</code>
    </div>
  </div>

  <div class="gp" id="def-AtomEscape">
    <div class="lhs">
      <span class="nt">AtomEscape</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalEscape</span>
    </div>
    <div class="rhs">
      <span class="nt">CharacterEscape</span>
    </div>
    <div class="rhs">
      <span class="nt">CharacterClassEscape</span>
    </div>
  </div>

  <div class="gp" id="def-CharacterEscape">
    <div class="lhs">
      <span class="nt">CharacterEscape</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">ControlEscape</span>
    </div>
    <div class="rhs">
      <code class="t">c</code> <span class="nt">ControlLetter</span>
    </div>
    <div class="rhs">
      <span class="nt">HexEscapeSequence</span>
    </div>
    <div class="rhs">
      <span class="nt">UnicodeEscapeSequence</span>
    </div>
    <div class="rhs">
      <span class="nt">IdentityEscape</span>
    </div>
  </div>

  <div class="gp" id="def-ControlEscape">
    <div class="lhs">
      <span class="nt">ControlEscape</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">f  n  r  t  v</code>
    </div>
  </div>

  <div class="gp" id="def-ControlLetter">
    <div class="lhs">
      <span class="nt">ControlLetter</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">a  b  c  d  e  f  g  h  i  j  k  l  m  n  o  p  q  r  s  t  u  v  w  x  y  z</code>
    </div>
    <div class="rhs">
      <code class="one-of-t">A  B  C  D  E  F  G  H  I  J  K  L  M  N  O  P  Q  R  S  T  U  V  W  X  Y  Z</code>
    </div>
  </div>

  <div class="gp" id="def-IdentityEscape">
    <div class="lhs">
      <span class="nt">IdentityEscape</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not</span> <span class="nt">IdentifierPart</span>
    </div>
    <div class="rhs">
      &lt;ZWJ&gt;
    </div>
    <div class="rhs">
      &lt;ZWNJ&gt;
    </div>
  </div>

  <div class="gp" id="def-DecimalEscape">
    <div class="lhs">
      <span class="nt">DecimalEscape</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalIntegerLiteral</span> <span class="grhsannot">[<a href="#def-lookahead-notin">lookahead &notin;</a> DecimalDigit]</span>
    </div>
  </div>

  <div class="gp" id="def-CharacterClassEscape">
    <div class="lhs">
      <span class="nt">CharacterClassEscape</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">d  D  s  S  w  W</code>
    </div>
  </div>

  <div class="gp" id="def-CharacterClass">
    <div class="lhs">
      <span class="nt">CharacterClass</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">[</code> <span class="grhsannot">[<a href="#def-lookahead-notin">lookahead &notin;</a> {<code class="t">^</code>}]</span> <span class="nt">ClassRanges</span> <code class="t">]</code>
    </div>
    <div class="rhs">
      <code class="t">[</code> <code class="t">^</code> <span class="nt">ClassRanges</span> <code class="t">]</code>
    </div>
  </div>

  <div class="gp" id="def-ClassRanges">
    <div class="lhs">
      <span class="nt">ClassRanges</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="grhsannot">[empty]</span>
    </div>
    <div class="rhs">
      <span class="nt">NonemptyClassRanges</span>
    </div>
  </div>

  <div class="gp" id="def-NonemptyClassRanges">
    <div class="lhs">
      <span class="nt">NonemptyClassRanges</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">ClassAtom</span>
    </div>
    <div class="rhs">
      <span class="nt">ClassAtom</span> <span class="nt">NonemptyClassRangesNoDash</span>
    </div>
    <div class="rhs">
      <span class="nt">ClassAtom</span> <code class="t">-</code> <span class="nt">ClassAtom</span> <span class="nt">ClassRanges</span>
    </div>
  </div>

  <div class="gp" id="def-NonemptyClassRangesNoDash">
    <div class="lhs">
      <span class="nt">NonemptyClassRangesNoDash</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">ClassAtom</span>
    </div>
    <div class="rhs">
      <span class="nt">ClassAtomNoDash</span> <span class="nt">NonemptyClassRangesNoDash</span>
    </div>
    <div class="rhs">
      <span class="nt">ClassAtomNoDash</span> <code class="t">-</code> <span class="nt">ClassAtom</span> <span class="nt">ClassRanges</span>
    </div>
  </div>

  <div class="gp" id="def-ClassAtom">
    <div class="lhs">
      <span class="nt">ClassAtom</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">-</code>
    </div>
    <div class="rhs">
      <span class="nt">ClassAtomNoDash</span>
    </div>
  </div>

  <div class="gp" id="def-ClassAtomNoDash">
    <div class="lhs">
      <span class="nt">ClassAtomNoDash</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not one of</span> <code class="t">\</code> <span class="grhsmod">or</span> <code class="t">]</code> <span class="grhsmod">or</span> <code class="t">-</code>
    </div>
    <div class="rhs">
      <code class="t">\</code> <span class="nt">ClassEscape</span>
    </div>
  </div>

  <div class="gp" id="def-ClassEscape">
    <span class="pagemark" id="page191">PDF page 191 / printed page 181</span>
    <div class="lhs">
      <span class="nt">ClassEscape</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalEscape</span>
    </div>
    <div class="rhs">
      <code class="t">b</code>
    </div>
    <div class="rhs">
      <span class="nt">CharacterEscape</span>
    </div>
    <div class="rhs">
      <span class="nt">CharacterClassEscape</span>
    </div>
  </div>
</div>

</section>

<section id="sec-15.10.2">
<h1><span class="secnum"><a href="#sec-15.10.2"
    title="link to this section">15.10.2</a></span>
    Pattern Semantics</h1>

<p>A regular expression pattern is converted into an internal procedure using
the process described below. An implementation is encouraged to use more
efficient algorithms than the ones listed below, as long as the results are the
same. The internal procedure is used as the value of a RegExp object&rsquo;s
[[Match]] internal property.</p>


<section id="sec-15.10.2.1">
<h1><span class="secnum"><a href="#sec-15.10.2.1"
    title="link to this section">15.10.2.1</a></span>
    Notation</h1>

<p>The descriptions below use the following variables:</p>

<ul>
  <li id="def-Input"><p><var>Input</var> is the String being matched by the
      regular expression pattern. The notation <var>input</var>[<var>n</var>]
      means the <var>n</var>th character of <var>input</var>, where
      <var>n</var> can range between 0 (inclusive) and <var>InputLength</var>
      (exclusive).</p></li>

  <li id="def-InputLength"><p><var>InputLength</var> is the number of
      characters in the <var>Input</var> String.</p></li>

  <li id="def-NcapturingParens"><p><var>NcapturingParens</var> is the total
      number of left capturing parentheses (i.e. the total number of times the
      <span class="prod"><span class="nt">Atom</span>
      <span class="geq">::</span> <code class="t">(</code>
      <span class="nt">Disjunction</span> <code class="t">)</code></span>
      production is expanded) in the pattern. A left capturing parenthesis is
      any <code class="t">(</code> pattern character that is matched by the
      <code class="t">(</code> terminal of the
      <span class="prod"><span class="nt">Atom</span>
      <span class="geq">::</span> <code class="t">(</code>
      <span class="nt">Disjunction</span> <code class="t">)</code></span>
      production.</p></li>

  <li id="def-IgnoreCase"><p><var>IgnoreCase</var> is the setting of the RegExp
      object&rsquo;s <code class="propname">ignoreCase</code>
      property.</p></li>

  <li id="def-Multiline"><p><var>Multiline</var> is the setting of the RegExp
      object&rsquo;s <code class="propname">multiline</code> property.</p></li>
</ul>

<p>Furthermore, the descriptions below use the following internal data
structures:</p>

<ul>
  <li><p>A <span class="typename">CharSet</span> is a mathematical set of
      characters.</p></li>

  <li><p>A <span class="typename">State</span> is an ordered pair
      (<var>endIndex</var>, <var>captures</var>) where <var>endIndex</var> is
      an integer and <var>captures</var> is an internal array of
      <a href="#def-NcapturingParens"><var>NcapturingParens</var></a> values.
      <span class="typename" data-ref="State">States</span> are used to
      represent partial match states in the regular expression matching
      algorithms. The <var>endIndex</var> is one plus the index of the last
      input character matched so far by the pattern, while <var>captures</var>
      holds the results of capturing parentheses. The <var>n</var>th element of
      <var>captures</var> is either a String that represents the value obtained
      by the <var>n</var>th set of capturing parentheses or
      <span class="value">undefined</span> if the <var>n</var>th set of
      capturing parentheses hasn&rsquo;t been reached yet. Due to backtracking,
      many <span class="typename" data-ref="State">States</span> may be in use
      at any time during the matching process.</p></li>

  <li><p>A <span class="typename">MatchResult</span> is either a
      <span class="typename">State</span> or the special token
      <span class="spec value">failure</span> that indicates that the match
      failed.</p></li>

  <li><p>A <span class="typename">Continuation</span> procedure is an internal
      closure (i.e. an internal procedure with some arguments already bound to
      values) that takes one <span class="typename">State</span> argument and
      returns a <span class="typename">MatchResult</span> result. If an
      internal closure references variables bound in the function that creates
      the closure, the closure uses the values that these variables had at the
      time the closure was created. The
      <span class="typename">Continuation</span> attempts to match the
      remaining portion (specified by the closure&rsquo;s already-bound
      arguments) of the pattern against the input String, starting at the
      intermediate state given by its <span class="typename">State</span>
      argument. If the match succeeds, the
      <span class="typename">Continuation</span> returns the final
      <span class="typename">State</span> that it reached; if the match fails,
      the <span class="typename">Continuation</span> returns <span class="spec
      value">failure</span>.</p></li>

  <li><p>A <span class="typename">Matcher</span> procedure is an internal
      closure that takes two arguments&mdash;a
      <span class="typename">State</span> and a
      <span class="typename">Continuation</span>&mdash;and returns a
      <span class="typename">MatchResult</span> result. A
      <span class="typename">Matcher</span> attempts to match a middle
      subpattern (specified by the closure&rsquo;s already-bound arguments) of
      the pattern against the input String, starting at the intermediate state
      given by its <span class="typename">State</span> argument. The
      <span class="typename">Continuation</span> argument should be a closure
      that matches the rest of the pattern. After matching the subpattern of a
      pattern to obtain a new <span class="typename">State</span>, the
      <span class="typename">Matcher</span> then calls
      <span class="typename">Continuation</span> on that new
      <span class="typename">State</span> to test if the rest of the pattern
      can match as well. If it can, the <span class="typename">Matcher</span>
      returns the <span class="typename">State</span> returned by
      <span class="typename">Continuation</span>; if not, the
      <span class="typename">Matcher</span> may try different choices at its
      choice points, repeatedly calling
      <span class="typename">Continuation</span> until it either succeeds or
      all possibilities have been exhausted.</p></li>

  <li><p>An <span class="typename">AssertionTester</span> procedure is an
      internal closure that takes a <span class="typename">State</span>
      argument and returns a Boolean result. The assertion tester tests a
      specific condition (specified by the closure&rsquo;s already-bound
      <span class="pagemark" id="page192">PDF page 192 / printed page
      182</span> arguments) against the current place in the input String and
      returns <span class="value">true</span> if the condition matched or
      <span class="value">false</span> if not.</p></li>

  <li><p>An <span class="typename">EscapeValue</span> is either a character or
      an integer. An <span class="typename">EscapeValue</span> is used to
      denote the interpretation of a <span class="nt">DecimalEscape</span>
      escape sequence: a character <var>ch</var> means that the escape sequence
      is interpreted as the character <var>ch</var>, while an integer
      <var>n</var> means that the escape sequence is interpreted as a
      backreference to the <var>n</var>th set of capturing
      parentheses.</p></li>

</ul>
</section>

<section id="sec-15.10.2.2">
<h1><span class="secnum"><a href="#sec-15.10.2.2"
    title="link to this section">15.10.2.2</a></span>
    Pattern</h1>

<p>The production <span class="prod"><span class="nt">Pattern</span>
<span class="geq">::</span> <span class="nt">Disjunction</span></span>
evaluates as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">Disjunction</span> to obtain a Matcher
      <var>m</var>.</li>

  <li>Return an internal closure that takes two arguments, a String
      <var>str</var> and an integer <var>index</var>, and performs the
      following:
    <ol class="nested proc">
      <li>Let <var>Input</var> be the given String <var>str</var>. This
          variable will be used throughout the algorithms
          in <a href="#sec-15.10.2">15.10.2</a>.</li>

      <li>Let <var>InputLength</var> be the length of <var>Input</var>. This
          variable will be used throughout the algorithms
          in <a href="#sec-15.10.2">15.10.2</a>.</li>

      <li>Let <var>c</var> be a Continuation that always returns its State
          argument as a successful MatchResult.</li>

      <li>Let <var>cap</var> be an internal array of
          <a href="#def-NcapturingParens"><var>NcapturingParens</var></a> <span class="value">undefined</span>
          values, indexed 1 through <a href="#def-NcapturingParens"><var>NcapturingParens</var></a>.</li>

      <li>Let <var>x</var> be the State (<var>index</var>, <var>cap</var>).</li>

      <li>Call <var>m</var>(<var>x</var>, <var>c</var>) and return its
          result.</li>
    </ol>
  </li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> A <span class="nt">Pattern</span> evaluates
  (&ldquo;compiles&rdquo;) to an internal procedure value.
  <span class="libname">RegExp.prototype.exec</span> can then apply this
  procedure to a String and an offset within the String to determine whether
  the pattern would match starting at exactly that offset within the String,
  and, if it does match, what the values of the capturing parentheses would be.
  The algorithms in <a href="#sec-15.10.2">15.10.2</a> are designed so that
  compiling a pattern may throw a <span class="errorname">SyntaxError</span>
  exception; on the other hand, once the pattern is successfully compiled,
  applying its result internal procedure to find a match in a String cannot
  throw an exception (except for any host-defined exceptions that can occur
  anywhere such as out-of-memory).</p>
</div>
</section>

<section id="sec-15.10.2.3">
<h1><span class="secnum"><a href="#sec-15.10.2.3"
    title="link to this section">15.10.2.3</a></span>
    Disjunction</h1>

<p>The production <span class="prod"><span class="nt">Disjunction</span>
<span class="geq">::</span> <span class="nt">Alternative</span></span>
evaluates by evaluating <span class="nt">Alternative</span> to obtain a
<span class="typename">Matcher</span> and returning that
<span class="typename">Matcher</span>.</p>

<p>The production <span class="prod"><span class="nt">Disjunction</span>
<span class="geq">::</span> <span class="nt">Alternative</span>
<code class="t">|</code> <span class="nt">Disjunction</span></span> evaluates
as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">Alternative</span> to obtain a Matcher
      <var>m1</var>.</li>

  <li>Evaluate <span class="nt">Disjunction</span> to obtain a Matcher
      <var>m2</var>.</li>

  <li>Return an internal Matcher closure that takes two arguments, a State
      <var>x</var> and a Continuation <var>c</var>, and performs the following:
    <ol class="nested proc">
      <li>Call <var>m1</var>(<var>x</var>, <var>c</var>) and let <var>r</var>
          be its result.</li>

      <li>If <var>r</var> isn&rsquo;t <span class="spec value">failure</span>, return <var>r</var>.</li>

      <li>Call <var>m2</var>(<var>x</var>, <var>c</var>) and return its result.</li>
    </ol>
  </li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The <code class="t">|</code> regular
  expression operator separates two alternatives. The pattern first tries to
  match the left <span class="nt">Alternative</span> (followed by the sequel of
  the regular expression); if it fails, it tries to match the right
  <span class="nt">Disjunction</span> (followed by the sequel of the regular
  expression). If the left <span class="nt">Alternative</span>, the right
  <span class="nt">Disjunction</span>, and the sequel all have choice points,
  all choices in the sequel are tried before moving on to the next choice in
  the left <span class="nt">Alternative</span>. If choices in the left
  <span class="nt">Alternative</span> are exhausted, the right
  <span class="nt">Disjunction</span> is tried instead of the left
  <span class="nt">Alternative</span>. Any capturing parentheses inside a
  portion of the pattern skipped by <code class="t">|</code> produce
  <span class="value">undefined</span> values instead of Strings. Thus, for
  example,</p>

  <pre>/a|ab/.exec("abc")</pre>

  <p>returns the result <span class="string value">"a"</span> and not
  <span class="string value">"ab"</span>. Moreover,</p>

  <pre>/((a)|(ab))((c)|(bc))/.exec("abc")</pre>

  <p>returns the array</p>

  <pre>["abc", "a", "a", undefined, "bc", undefined, "bc"]</pre>

  <p>and not</p>

  <pre>["abc", "ab", undefined, "ab", "c", "c", undefined]</pre>
</div>
</section>


<span class="pagemark" id="page193">PDF page 193 / printed page 183</span>
<section id="sec-15.10.2.4">
<h1><span class="secnum"><a href="#sec-15.10.2.4"
    title="link to this section">15.10.2.4</a></span>
    Alternative</h1>

<p>The production <span class="prod"><span class="nt">Alternative</span>
<span class="geq">::</span> <span class="grhsannot">[empty]</span></span>
evaluates by returning a Matcher that takes two arguments, a State <var>x</var>
and a Continuation <var>c</var>, and returns the result of calling
<var>c</var>(<var>x</var>).</p>

<p>The production <span class="prod"><span class="nt">Alternative</span>
<span class="geq">::</span> <span class="nt">Alternative</span>
<span class="nt">Term</span></span> evaluates as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">Alternative</span> to obtain a Matcher
      <var>m1</var>.</li>

  <li>Evaluate <span class="nt">Term</span> to obtain a Matcher
      <var>m2</var>.</li>

  <li>Return an internal Matcher closure that takes two arguments, a State
      <var>x</var> and a Continuation <var>c</var>, and performs the following:
    <ol class="nested proc">
      <li>Create a Continuation <var>d</var> that takes a State argument
          <var>y</var> and returns the result of calling
          <var>m2</var>(<var>y</var>, <var>c</var>).</li>

      <li>Call <var>m1</var>(<var>x</var>, <var>d</var>) and return its result.</li>
    </ol>
  </li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> Consecutive <span class="nt"
  data-nt="Term">Terms</span> try to simultaneously match consecutive portions
  of the input String. If the left <span class="nt">Alternative</span>, the
  right <span class="nt">Term</span>, and the sequel of the regular expression
  all have choice points, all choices in the sequel are tried before moving on
  to the next choice in the right <span class="nt">Term</span>, and all choices
  in the right <span class="nt">Term</span> are tried before moving on to the
  next choice in the left <span class="nt">Alternative</span>.</p>
</div>
</section>

<section id="sec-15.10.2.5">
<h1><span class="secnum"><a href="#sec-15.10.2.5"
    title="link to this section">15.10.2.5</a></span>
    Term</h1>

<p>The production <span class="prod"><span class="nt">Term</span>
<span class="geq">::</span> <span class="nt">Assertion</span></span> evaluates
by returning an internal Matcher closure that takes two arguments, a State
<var>x</var> and a Continuation <var>c</var>, and performs the following:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">Assertion</span> to obtain an AssertionTester
      <var>t</var>.</li>

  <li>Call <var>t</var>(<var>x</var>) and let <var>r</var> be the resulting
      Boolean value.</li>

  <li>If <var>r</var> is <span class="value">false</span>, return
      <span class="spec value">failure</span>.</li>

  <li>Call <var>c</var>(<var>x</var>) and return its result.</li>
</ol>

<p>The production <span class="prod"><span class="nt">Term</span>
<span class="geq">::</span> <span class="nt">Atom</span></span> evaluates by
evaluating <span class="nt">Atom</span> to obtain a Matcher and returning that
Matcher.</p>

<p>The production <span class="prod"><span class="nt">Term</span>
<span class="geq">::</span> <span class="nt">Atom</span>
<span class="nt">Quantifier</span></span> evaluates as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">Atom</span> to obtain a Matcher
      <var>m</var>.</li>

  <li>Evaluate <span class="nt">Quantifier</span> to obtain the three results:
      an integer <var>min</var>, an integer (or &infin;) <var>max</var>, and
      Boolean <var>greedy</var>.</li>

  <li>If <var>max</var> is finite and less than <var>min</var>, then throw a
      <span class="errorname">SyntaxError</span> exception.</li>

  <li>Let <var>parenIndex</var> be the number of left capturing parentheses in
      the entire regular expression that occur to the left of this production
      expansion&rsquo;s <span class="nt">Term</span>. This is the total number
      of times the <span class="prod"><span class="nt">Atom</span>
      <span class="geq">::</span> <code class="t">(</code>
      <span class="nt">Disjunction</span> <code class="t">)</code></span>
      production is expanded prior to this production&rsquo;s
      <span class="nt">Term</span> plus the total number of
      <span class="prod"><span class="nt">Atom</span>
      <span class="geq">::</span> <code class="t">(</code>
      <span class="nt">Disjunction</span> <code class="t">)</code></span>
      productions enclosing this <span class="nt">Term</span>.</li>

  <li>Let <var>parenCount</var> be the number of left capturing parentheses in
      the expansion of this production&rsquo;s <span class="nt">Atom</span>.
      This is the total number of
      <span class="prod"><span class="nt">Atom</span>
      <span class="geq">::</span> <code class="t">(</code>
      <span class="nt">Disjunction</span> <code class="t">)</code></span>
      productions enclosed by this production&rsquo;s
      <span class="nt">Atom</span>.</li>

  <li>Return an internal Matcher closure that takes two arguments, a State
      <var>x</var> and a Continuation <var>c</var>, and performs the following:
    <ol class="nested proc">
      <li>Call RepeatMatcher(<var>m</var>, <var>min</var>, <var>max</var>,
          <var>greedy</var>, <var>x</var>, <var>c</var>, <var>parenIndex</var>,
          <var>parenCount</var>) and return its result.</li>
    </ol>
  </li>
</ol>

<p>The abstract operation <span class="abstractopname">RepeatMatcher</span>
takes eight parameters, a Matcher <var>m</var>, an integer <var>min</var>, an
integer (or &infin;) <var>max</var>, a Boolean <var>greedy</var>, a State
<var>x</var>, a Continuation <var>c</var>, an integer <var>parenIndex</var>,
and an integer <var>parenCount</var>, and performs the following:</p>

<ol class="proc">
  <li>If <var>max</var> is zero, then call <var>c</var>(<var>x</var>) and
      return its result.</li>

  <li>Create an internal Continuation closure <var>d</var> that takes one State
      argument <var>y</var> and performs the following:
    <ol class="nested proc">
      <li>If <var>min</var> is zero and <var>y</var>&rsquo;s <var>endIndex</var> is
          equal to <var>x</var>&rsquo;s <var>endIndex</var>, then return
          <span class="spec value">failure</span>.</li>

      <li>If <var>min</var> is zero then let <var>min2</var> be zero; otherwise
          let <var>min2</var> be <var>min</var>&minus;1.</li>

      <li>If <var>max</var> is &infin;, then let <var>max2</var> be &infin;;
          otherwise let <var>max2</var> be <var>max</var>&minus;1.</li>

      <li><span class="pagemark" id="page194">PDF page 194 / printed page
          184</span>Call RepeatMatcher(<var>m</var>, <var>min2</var>,
          <var>max2</var>, <var>greedy</var>, <var>y</var>, <var>c</var>,
          <var>parenIndex</var>, <var>parenCount</var>) and return its
          result.</li>
    </ol>
  </li>

  <li>Let <var>cap</var> be a fresh copy of <var>x</var>&rsquo;s
      <var>captures</var> internal array.</li>

  <li>For every integer <var>k</var> that satisfies <var>parenIndex</var> &lt;
      <var>k</var> and <var>k</var> &le;
      <var>parenIndex</var>+<var>parenCount</var>, set
      <var>cap</var>[<var>k</var>] to
      <span class="value">undefined</span>.</li>

  <li>Let <var>e</var> be <var>x</var>&rsquo;s <var>endIndex</var>.</li>

  <li>Let <var>xr</var> be the State (<var>e</var>, <var>cap</var>).</li>

  <li>If <var>min</var> is not zero, then call <var>m</var>(<var>xr</var>,
      <var>d</var>) and return its result.</li>

  <li>If <var>greedy</var> is <span class="value">false</span>, then
    <ol class="block">
      <li>Call <var>c</var>(<var>x</var>) and let <var>z</var> be its
          result.</li>

      <li>If <var>z</var> is not <span class="spec value">failure</span>, return <var>z</var>.</li>

      <li>Call <var>m</var>(<var>xr</var>, <var>d</var>) and return its
          result.</li>
    </ol>
  </li>

  <li>Call <var>m</var>(<var>xr</var>, <var>d</var>) and let <var>z</var> be
      its result.</li>

  <li>If <var>z</var> is not <span class="spec value">failure</span>, return
      <var>z</var>.</li>

  <li>Call <var>c</var>(<var>x</var>) and return its result.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> An <span class="nt">Atom</span> followed by a
  <span class="nt">Quantifier</span> is repeated the number of times specified
  by the <span class="nt">Quantifier</span>. A
  <span class="nt">Quantifier</span> can be non-greedy, in which case the
  <span class="nt">Atom</span> pattern is repeated as few times as possible
  while still matching the sequel, or it can be greedy, in which case the
  <span class="nt">Atom</span> pattern is repeated as many times as possible
  while still matching the sequel. The <span class="nt">Atom</span> pattern is
  repeated rather than the input String that it matches, so different
  repetitions of the <span class="nt">Atom</span> can match different input
  substrings.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> If the <span class="nt">Atom</span> and the
  sequel of the regular expression all have choice points, the
  <span class="nt">Atom</span> is first matched as many (or as few, if
  non-greedy) times as possible. All choices in the sequel are tried before
  moving on to the next choice in the last repetition of
  <span class="nt">Atom</span>. All choices in the last (nth) repetition of
  <span class="nt">Atom</span> are tried before moving on to the next choice in
  the next-to-last (<var>n</var>&minus;1)st repetition of
  <span class="nt">Atom</span>; at which point it may turn out that more or
  fewer repetitions of <span class="nt">Atom</span> are now possible; these are
  exhausted (again, starting with either as few or as many as possible) before
  moving on to the next choice in the (<var>n</var>&minus;1)st repetition of
  <span class="nt">Atom</span> and so on. Compare</p>

  <pre>/a[a-z]{2,4}/.exec("abcdefghi")</pre>

  <p>which returns <span class="string value">"abcde"</span> with</p>

  <pre>/a[a-z]{2,4}?/.exec("abcdefghi")</pre>

  <p>which returns <span class="string value">"abc"</span>.</p>

  <p>Consider also</p>

  <pre>/(aa|aabaac|ba|b|c)*/.exec("aabaac")</pre>

  <p>which, by the choice point ordering above, returns the array</p>

  <pre>["aaba", "ba"]</pre>

  <p>and not any of:</p>

  <pre>["aabaac", "aabaac"]
["aabaac", "c"]</pre>

  <p>The above ordering of choice points can be used to write a regular
  expression that calculates the greatest common divisor of two numbers
  (represented in unary notation). The following example calculates the gcd of
  10 and 15:</p>

  <pre>"aaaaaaaaaa,aaaaaaaaaaaaaaa".replace(/^(a+)\1*,\1+$/,"$1")</pre>

  <p>which returns the gcd in unary notation <span class="string
  value">"aaaaa"</span>.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 3</span> Step 4 of the RepeatMatcher clears
  <span class="nt" data-nt="Atom">Atom&rsquo;s</span> captures each time
  <span class="nt">Atom</span> is repeated. We can see its behaviour in the
  regular expression</p>

  <pre>/(z)((a+)?(b+)?(c))*/.exec("zaacbbbcac")</pre>

  <p>which returns the array</p>

  <pre>["zaacbbbcac", "z", "ac", "a", undefined, "c"]</pre>

  <p>and not</p>

  <pre>["zaacbbbcac", "z", "ac", "a", "bbb", "c"]</pre>

  <p>because each iteration of the outermost <code class="ch">*</code> clears
  all captured Strings contained in the quantified
  <span class="nt">Atom</span>, which in this case includes capture Strings
  numbered 2, 3, and 4.</p>
</div>

<div class="note">
  <p><span class="pagemark" id="page195">PDF page 195 / printed page 185</span>
    <span class="nh">NOTE 4</span> Step 1 of the RepeatMatcher&rsquo;s
    <var>d</var> closure states that, once the minimum number of repetitions
    has been satisfied, any more expansions of <span class="nt">Atom</span>
    that match the empty String are not considered for further repetitions.
    This prevents the regular expression engine from falling into an infinite
    loop on patterns such as:</p>

    <pre>/(a*)*/.exec("b")</pre>

    <p>or the slightly more complicated:</p>

    <pre>/(a*)b\1+/.exec("baaaac")</pre>

    <p>which returns the array</p>

    <pre>["b", ""]</pre>
</div>
</section>

<section id="sec-15.10.2.6">
<h1><span class="secnum"><a href="#sec-15.10.2.6"
    title="link to this section">15.10.2.6</a></span>
    Assertion</h1>

<p>The production <span class="prod"><span class="nt">Assertion</span>
<span class="geq">::</span> <code class="t">^</code></span> evaluates by
returning an internal AssertionTester closure that takes a State argument
<var>x</var> and performs the following:</p>

<ol class="proc">
  <li>Let <var>e</var> be <var>x</var>&rsquo;s <var>endIndex</var>.</li>

  <li>If <var>e</var> is zero, return <span class="value">true</span>.</li>

  <li>If <a href="#def-Multiline"><var>Multiline</var></a> is
      <span class="value">false</span>, return
      <span class="value">false</span>.</li>

  <li>If the character
      <a href="#def-Input"><var>Input</var></a>[<var>e</var>&minus;1] is one of
      <span class="nt">LineTerminator</span>, return
      <span class="value">true</span>.</li>

  <li>Return <span class="value">false</span>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">Assertion</span>
<span class="geq">::</span> <code class="t">$</code></span> evaluates by
returning an internal AssertionTester closure that takes a State argument
<var>x</var> and performs the following:</p>

<ol class="proc">
  <li>Let <var>e</var> be <var>x</var>&rsquo;s <var>endIndex</var>.</li>

  <li>If <var>e</var> is equal to
      <a href="#def-InputLength"><var>InputLength</var></a>, return
      <span class="value">true</span>.</li>

  <li>If <a href="#def-Multiline"><var>Multiline</var></a> is
      <span class="value">false</span>, return
      <span class="value">false</span>.</li>

  <li>If the character <a href="#def-Input"><var>Input</var></a>[<var>e</var>]
      is one of <span class="nt">LineTerminator</span>, return
      <span class="value">true</span>.</li>

  <li>Return <span class="value">false</span>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">Assertion</span>
<span class="geq">::</span> <code class="t">\</code>
<code class="t">b</code></span> evaluates by returning an internal
AssertionTester closure that takes a State argument <var>x</var> and performs
the following:</p>

<ol class="proc">
  <li>Let <var>e</var> be <var>x</var>&rsquo;s <var>endIndex</var>.</li>

  <li>Call
      <a href="#def-IsWordChar"><span class="abstractopname">IsWordChar</span></a>(<var>e</var>&minus;1)
      and let <var>a</var> be the Boolean result.</li>

  <li>Call
      <a href="#def-IsWordChar"><span class="abstractopname">IsWordChar</span></a>(<var>e</var>)
      and let <var>b</var> be the Boolean result.</li>

  <li>If <var>a</var> is <span class="value">true</span> and <var>b</var> is
      <span class="value">false</span>, return
      <span class="value">true</span>.</li>

  <li>If <var>a</var> is <span class="value">false</span> and <var>b</var> is
      <span class="value">true</span>, return
      <span class="value">true</span>.</li>

  <li>Return <span class="value">false</span>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">Assertion</span>
<span class="geq">::</span> <code class="t">\</code>
<code class="t">B</code></span> evaluates by returning an internal
AssertionTester closure that takes a State argument <var>x</var> and performs
the following:</p>

<ol class="proc">
  <li>Let <var>e</var> be <var>x</var>&rsquo;s <var>endIndex</var>.</li>

  <li>Call
      <a href="#def-IsWordChar"><span class="abstractopname">IsWordChar</span></a>(<var>e</var>&minus;1)
      and let <var>a</var> be the Boolean result.</li>

  <li>Call
      <a href="#def-IsWordChar"><span class="abstractopname">IsWordChar</span></a>(<var>e</var>)
      and let <var>b</var> be the Boolean result.</li>

  <li>If <var>a</var> is <span class="value">true</span> and <var>b</var> is
      <span class="value">false</span>, return
      <span class="value">false</span>.</li>

  <li>If <var>a</var> is <span class="value">false</span> and <var>b</var> is
      <span class="value">true</span>, return
      <span class="value">false</span>.</li>

  <li>Return <span class="value">true</span>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">Assertion</span>
<span class="geq">::</span> <code class="t">(</code> <code class="t">?</code>
<code class="t">=</code> <span class="nt">Disjunction</span>
<code class="t">)</code></span> evaluates as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">Disjunction</span> to obtain a Matcher
      <var>m</var>.</li>

  <li>Return an internal Matcher closure that takes two arguments, a State
      <var>x</var> and a Continuation <var>c</var>, and performs the following
      steps:
    <ol class="nested proc">
      <li>Let <var>d</var> be a Continuation that always returns its State
          argument as a successful MatchResult.</li>

      <li>Call <var>m</var>(<var>x</var>, <var>d</var>) and let <var>r</var> be
          its result.</li>

      <li>If <var>r</var> is <span class="spec value">failure</span>, return <span class="spec value">failure</span>.</li>

      <li>Let <var>y</var> be <var>r</var>&rsquo;s State.</li>

      <li>Let <var>cap</var> be <var>y</var>&rsquo;s <var>captures</var> internal
          array.</li>

      <li><span class="pagemark" id="page196">PDF page 196 / printed page
          186</span>Let <var>xe</var> be <var>x</var>&rsquo;s
          <var>endIndex</var>.</li>

      <li>Let <var>z</var> be the State (<var>xe</var>, <var>cap</var>).</li>

      <li>Call <var>c</var>(<var>z</var>) and return its result.</li>
    </ol>
  </li>
</ol>

<p>The production <span class="prod"><span class="nt">Assertion</span>
<span class="geq">::</span> <code class="t">(</code> <code class="t">?</code>
<code class="t">!</code> <span class="nt">Disjunction</span>
<code class="t">)</code></span> evaluates as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">Disjunction</span> to obtain a Matcher
      <var>m</var>.</li>

  <li>Return an internal Matcher closure that takes two arguments, a State
      <var>x</var> and a Continuation <var>c</var>, and performs the following
      steps:
    <ol class="nested proc">
      <li>Let <var>d</var> be a Continuation that always returns its State
          argument as a successful MatchResult.</li>

      <li>Call <var>m</var>(<var>x</var>, <var>d</var>) and let <var>r</var> be
          its result.</li>

      <li>If <var>r</var> isn&rsquo;t <span class="spec value">failure</span>, return
          <span class="spec value">failure</span>.</li>

      <li>Call <var>c</var>(<var>x</var>) and return its result.</li>
    </ol>
  </li>
</ol>

<p id="def-IsWordChar">The abstract operation
<span class="abstractopname">IsWordChar</span> takes an integer parameter
<var>e</var> and performs the following:</p>

<ol class="proc">
  <li>If <var>e</var> == <span class="value">&minus;1</span> or <var>e</var> ==
      <a href="#def-InputLength"><var>InputLength</var></a>, return
      <span class="value">false</span>.</li>

  <li>Let <var>c</var> be the character
  <a href="#def-Input"><var>Input</var></a>[<var>e</var>].</li>

  <li>If <var>c</var> is one of the sixty-three characters below, return
      <span class="value">true</span>.
      <div><code>A b c d e f g h i j k l m n o p q r s t u v w x y z</code></div>
      <div><code>A B C D E F G H I J K L M N O P Q R S T U V W X Y Z</code></div>
      <div><code>0 1 2 3 4 5 6 7 8 9 _</code></div>
      </li>

  <li>Return <span class="value">false</span>.</li>
</ol>
</section>

<section id="sec-15.10.2.7">
<h1><span class="secnum"><a href="#sec-15.10.2.7"
    title="link to this section">15.10.2.7</a></span>
    Quantifier</h1>

<p>The production <span class="prod"><span class="nt">Quantifier</span>
<span class="geq">::</span> <span class="nt">QuantifierPrefix</span></span>
evaluates as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">QuantifierPrefix</span> to obtain the two
      results: an integer <var>min</var> and an integer (or &infin;)
      <var>max</var>.</li>

  <li>Return the three results <var>min</var>, <var>max</var>, and
      <span class="value">true</span>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">Quantifier</span>
<span class="geq">::</span> <span class="nt">QuantifierPrefix</span>
<code class="t">?</code></span> evaluates as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">QuantifierPrefix</span> to obtain the two
      results: an integer <var>min</var> and an integer (or &infin;)
      <var>max</var>.</li>

  <li>Return the three results <var>min</var>, <var>max</var>, and
      <span class="value">false</span>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">QuantifierPrefix</span>
<span class="geq">::</span> <code class="t">*</code></span> evaluates by
returning the two results 0 and &infin;.</p>

<p>The production <span class="prod"><span class="nt">QuantifierPrefix</span>
<span class="geq">::</span> <code class="t">+</code></span> evaluates by
returning the two results 1 and &infin;.</p>

<p>The production <span class="prod"><span class="nt">QuantifierPrefix</span>
<span class="geq">::</span> <code class="t">?</code></span> evaluates by
returning the two results 0 and 1.</p>

<p>The production <span class="prod"><span class="nt">QuantifierPrefix</span>
<span class="geq">::</span> <code class="t">{</code>
<span class="nt">DecimalDigits</span> <code class="t">}</code></span> evaluates
as follows:</p>

<ol class="proc">
  <li>Let <var>i</var> be the MV of <span class="nt">DecimalDigits</span>
      (<a href="#sec-7.8.3">see 7.8.3</a>).</li>

  <li>Return the two results <var>i</var> and <var>i</var>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">QuantifierPrefix</span>
<span class="geq">::</span> <code class="t">{</code>
<span class="nt">DecimalDigits</span> <code class="t">,</code>
<code class="t">}</code></span> evaluates as follows:</p>

<ol class="proc">
  <li>Let <var>i</var> be the MV of <span class="nt">DecimalDigits</span>.</li>

  <li>Return the two results <var>i</var> and &infin;.</li>
</ol>

<p>The production <span class="prod"><span class="nt">QuantifierPrefix</span>
<span class="geq">::</span> <code class="t">{</code>
<span class="nt">DecimalDigits</span> <code class="t">,</code>
<span class="nt">DecimalDigits</span> <code class="t">}</code></span> evaluates
as follows:</p>

<ol class="proc">
  <li>Let <var>i</var> be the MV of the first
      <span class="nt">DecimalDigits</span>.</li>

  <li>Let <var>j</var> be the MV of the second
      <span class="nt">DecimalDigits</span>.</li>

  <li>Return the two results <var>i</var> and <var>j</var>.</li>
</ol>
</section>

<section id="sec-15.10.2.8">
<span class="pagemark" id="page197">PDF page 197 / printed page 187</span>
<h1><span class="secnum"><a href="#sec-15.10.2.8"
    title="link to this section">15.10.2.8</a></span>
    Atom</h1>

<p>The production <span class="prod"><span class="nt">Atom</span>
<span class="geq">::</span> <span class="nt">PatternCharacter</span></span>
evaluates as follows:</p>

<ol class="proc">
  <li>Let <var>ch</var> be the character represented by
      <span class="nt">PatternCharacter</span>.</li>

  <li>Let <var>A</var> be a one-element CharSet containing the character
      <var>ch</var>.</li>

  <li>Call
      <span class="abstractopname">CharacterSetMatcher</span>(<var>A</var>,
      <span class="value">false</span>) and return its Matcher result.</li>
</ol>

<p>The production <span class="prod"><span class="nt">Atom</span>
<span class="geq">::</span> <code class="t">.</code></span> evaluates as
follows:</p>

<ol class="proc">
  <li>Let <var>A</var> be the set of all characters except
      <span class="nt">LineTerminator</span>.</li>

  <li>Call
      <span class="abstractopname">CharacterSetMatcher</span>(<var>A</var>,
      <span class="value">false</span>) and return its Matcher result.</li>
</ol>

<p>The production <span class="prod"><span class="nt">Atom</span>
<span class="geq">::</span> <code class="t">\</code>
<span class="nt">AtomEscape</span></span> evaluates by evaluating
<span class="nt">AtomEscape</span> to obtain a Matcher and returning that
Matcher.</p>

<p>The production <span class="prod"><span class="nt">Atom</span>
<span class="geq">::</span> <span class="nt">CharacterClass</span></span>
evaluates as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">CharacterClass</span> to obtain a CharSet
      <var>A</var> and a Boolean <var>invert</var>.</li>

  <li>Call
      <span class="abstractopname">CharacterSetMatcher</span>(<var>A</var>,
      <var>invert</var>) and return its Matcher result.</li>
</ol>

<p>The production <span class="prod"><span class="nt">Atom</span>
<span class="geq">::</span> <code class="t">(</code>
<span class="nt">Disjunction</span> <code class="t">)</code></span> evaluates
as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">Disjunction</span> to obtain a Matcher
      <var>m</var>.</li>

  <li>Let <var>parenIndex</var> be the number of left capturing parentheses in
      the entire regular expression that occur to the left of this production
      expansion&rsquo;s initial left parenthesis. This is the total number of
      times the <span class="prod"><span class="nt">Atom</span>
      <span class="geq">::</span> <code class="t">(</code>
      <span class="nt">Disjunction</span> <code class="t">)</code></span>
      production is expanded prior to this production&rsquo;s
      <span class="nt">Atom</span> plus the total number of
      <span class="prod"><span class="nt">Atom</span>
      <span class="geq">::</span> <code class="t">(</code>
      <span class="nt">Disjunction</span> <code class="t">)</code></span>
      productions enclosing this <span class="nt">Atom</span>.</li>

  <li>Return an internal Matcher closure that takes two arguments, a State
      <var>x</var> and a Continuation <var>c</var>, and performs the following
      steps:
    <ol class="nested proc">
      <li>Create an internal Continuation closure <var>d</var> that takes one State
          argument <var>y</var> and performs the following steps:
        <ol class="nested proc">
          <li>Let <var>cap</var> be a fresh copy of <var>y</var>&rsquo;s
              <var>captures</var> internal array.</li>

          <li>Let <var>xe</var> be <var>x</var>&rsquo;s <var>endIndex</var>.</li>

          <li>Let <var>ye</var> be <var>y</var>&rsquo;s <var>endIndex</var>.</li>

          <li>Let <var>s</var> be a fresh String whose characters are the
              characters of <a href="#def-Input"><var>Input</var></a> at positions <var>xe</var>
              (inclusive) through <var>ye</var> (exclusive).</li>

          <li>Set <var>cap</var>[<var>parenIndex</var>+1] to <var>s</var>.</li>

          <li>Let <var>z</var> be the State (<var>ye</var>, <var>cap</var>).</li>

          <li>Call <var>c</var>(<var>z</var>) and return its result.</li>
        </ol>
      </li>

      <li>Call <var>m</var>(<var>x</var>, <var>d</var>) and return its result.</li>
    </ol>
  </li>
</ol>

<p>The production <span class="prod"><span class="nt">Atom</span>
<span class="geq">::</span> <code class="t">(</code> <code class="t">?</code>
<code class="t">:</code> <span class="nt">Disjunction</span>
<code class="t">)</code></span> evaluates by evaluating
<span class="nt">Disjunction</span> to obtain a Matcher and returning that
Matcher.</p>

<p>The abstract operation
<span class="abstractopname">CharacterSetMatcher</span> takes two arguments, a
CharSet <var>A</var> and a Boolean flag <var>invert</var>, and performs the
following:</p>

<ol class="proc">
  <li>Return an internal Matcher closure that takes two arguments, a State
      <var>x</var> and a Continuation <var>c</var>, and performs the following
      steps:
    <ol class="nested proc">
      <li>Let <var>e</var> be <var>x</var>&rsquo;s <var>endIndex</var>.</li>

      <li>If <var>e</var> == <a href="#def-InputLength"><var>InputLength</var></a>, return <span class="spec value">failure</span>.</li>

      <li>Let <var>c</var> be the character <a href="#def-Input"><var>Input</var></a>[<var>e</var>].</li>

      <li>Let <var>cc</var> be the result of <a href="#def-Canonicalize"><span class="abstractopname">Canonicalize</span></a>(<var>c</var>).</li>

      <li>If <var>invert</var> is <span class="value">false</span>, then
        <ol class="block">
          <li>If there does not exist a member <var>a</var> of set <var>A</var>
              such that
              <span class="math"><a href="#def-Canonicalize"><span class="abstractopname">Canonicalize</span></a>(<var>a</var>)
              == <var>cc</var></span>, return <span class="spec
              value">failure</span>.</li>
        </ol>
      </li>

      <li>Else <var>invert</var> is <span class="value">true</span>,
        <ol class="block">
          <li>If there exists a member <var>a</var> of set <var>A</var> such
              that
              <a href="#def-Canonicalize"><span class="abstractopname">Canonicalize</span></a>(<var>a</var>) ==
              <var>cc</var>, return <span class="spec value">failure</span>.</li>
        </ol>
      </li>

      <li><span class="pagemark" id="page198">PDF page 198 / printed page
          188</span>Let <var>cap</var> be <var>x</var>&rsquo;s <var>captures</var>
          internal array.</li>

      <li>Let <var>y</var> be the State (<var>e</var>+1, <var>cap</var>).</li>

      <li>Call <var>c</var>(<var>y</var>) and return its result.</li>
    </ol>
  </li>
</ol>

<p id="def-Canonicalize">The abstract operation
<span class="abstractopname">Canonicalize</span> takes a character parameter
<var>ch</var> and performs the following steps:</p>

<ol class="proc">
  <li>If <a href="#def-IgnoreCase"><var>IgnoreCase</var></a> is
      <span class="value">false</span>, return <var>ch</var>.</li>

  <li>Let <var>u</var> be <var>ch</var> converted to upper case as if by
      calling the standard built-in method
      <span class="libname">String.prototype.toUpperCase</span> on the
      one-character String <var>ch</var>.</li>

  <li>If <var>u</var> does not consist of a single character, return
      <var>ch</var>.</li>

  <li>Let <var>cu</var> be <var>u</var>&rsquo;s character.</li>

  <li>If <var>ch</var>&rsquo;s code unit value is greater than or equal to
      decimal 128 and <var>cu</var>&rsquo;s code unit value is less than
      decimal 128, then return <var>ch</var>.</li>

  <li>Return <var>cu</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE 1</span> Parentheses of the form
  <code class="t">(</code> <span class="nt">Disjunction</span>
  <code class="t">)</code> serve both to group the components of the
  <span class="nt">Disjunction</span> pattern together and to save the result
  of the match. The result can be used either in a backreference
  (<code class="t">\</code> followed by a nonzero decimal number), referenced
  in a replace String, or returned as part of an array from the regular
  expression matching internal procedure. To inhibit the capturing behaviour of
  parentheses, use the form <code class="t">(?:</code>
  <span class="nt">Disjunction</span> <code class="t">)</code> instead.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> The form <code class="t">(?=</code>
  <span class="nt">Disjunction</span> <code class="t">)</code> specifies a
  zero-width positive lookahead. In order for it to succeed, the pattern inside
  <span class="nt">Disjunction</span> must match at the current position, but
  the current position is not advanced before matching the sequel. If
  <span class="nt">Disjunction</span> can match at the current position in
  several ways, only the first one is tried. Unlike other regular expression
  operators, there is no backtracking into a <code class="t">(?=</code> form
  (this unusual behaviour is inherited from Perl). This only matters when the
  <span class="nt">Disjunction</span> contains capturing parentheses and the
  sequel of the pattern contains backreferences to those captures.</p>

  <p>For example,</p>

  <pre>/(?=(a+))/.exec("baaabac")</pre>

  <p>matches the empty String immediately after the first
  <code class="ch">b</code> and therefore returns the array:</p>

  <pre>["", "aaa"]</pre>

  <p>To illustrate the lack of backtracking into the lookahead, consider:</p>

  <pre>/(?=(a+))a*b\1/.exec("baaabac")</pre>

  <p>This expression returns</p>

  <pre>["aba", "a"]</pre>

  <p>and not:</p>

  <pre>["aaaba", "a"]</pre>
</div>

<div class="note">
  <p><span class="nh">NOTE 3</span> The form <code class="t">(?!</code>
  <span class="nt">Disjunction</span> <code class="t">)</code> specifies a
  zero-width negative lookahead. In order for it to succeed, the pattern inside
  <span class="nt">Disjunction</span> must fail to match at the current
  position. The current position is not advanced before matching the sequel.
  <span class="nt">Disjunction</span> can contain capturing parentheses, but
  backreferences to them only make sense from within
  <span class="nt">Disjunction</span> itself. Backreferences to these capturing
  parentheses from elsewhere in the pattern always return
  <span class="value">undefined</span> because the negative lookahead must fail
  for the pattern to succeed. For example,</p>

  <pre>/(.*?)a(?!(a+)b\2c)\2(.*)/.exec("baaabaac")</pre>

  <p>looks for an <code class="ch">a</code> not immediately followed by some
  positive number <var>n</var> of <code class="ch">a</code>&rsquo;s, a
  <code class="ch">b</code>, another <var>n</var>
  <code class="ch">a</code>&rsquo;s (specified by the first
  <code class="t">\2</code>) and a <code class="ch">c</code>. The second
  <code class="t">\2</code> is outside the negative lookahead, so it matches
  against <span class="value">undefined</span> and therefore always succeeds.
  The whole expression returns the array:</p>

  <pre>["baaabaac", "ba", undefined, "abaac"]</pre>

  <p>In case-insignificant matches all characters are implicitly converted to
  upper case immediately before they are compared. However, if converting a
  character to upper case would expand that character into more than one
  character (such as converting <span class="string value">"&#x00df;"</span>
  (\u00DF) into <span class="string value">"SS"</span>), then the character is
  left as-is instead. The character is also left as-is if it is not an ASCII
  character but converting it to upper case would make it into an ASCII
  character. This prevents Unicode characters such as \u0131 and \u017F from
  matching regular expressions such as <code class="expr">/[a-z]/i</code>,
  which are only intended to match ASCII letters. Furthermore, if these
  conversions were allowed, then <code class="expr">/[^\W]/i</code> would match
  each of <code class="ch">a</code>, <code class="ch">b</code>, ...,
  <code class="ch">h</code>, but not <code class="ch">i</code> or
  <code class="ch">s</code>.</p>
</div>


<span class="pagemark" id="page199">PDF page 199 / printed page 189</span>
</section>

<section id="sec-15.10.2.9">
<h1><span class="secnum"><a href="#sec-15.10.2.9"
    title="link to this section">15.10.2.9</a></span>
    AtomEscape</h1>

<p>The production <span class="prod"><span class="nt">AtomEscape</span>
<span class="geq">::</span> <span class="nt">DecimalEscape</span></span>
evaluates as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">DecimalEscape</span> to obtain an EscapeValue
      <var>e</var>.</li>

  <li>If <var>e</var> is a character, then
    <ol class="block">
      <li>Let <var>ch</var> be <var>e</var>&rsquo;s character.</li>

      <li>Let <var>A</var> be a one-element CharSet containing the character
          <var>ch</var>.</li>

      <li>Call
          <span class="abstractopname">CharacterSetMatcher</span>(<var>A</var>,
          <span class="value">false</span>) and return its Matcher result.</li>
    </ol>
  </li>

  <li><var>e</var> must be an integer. Let <var>n</var> be that integer.</li>

  <li>If <var>n</var>=0 or
      <var>n</var>&gt;<a href="#def-NcapturingParens"><var>NcapturingParens</var></a>
      then throw a <span class="errorname">SyntaxError</span> exception.</li>

  <li>Return an internal Matcher closure that takes two arguments, a State
      <var>x</var> and a Continuation <var>c</var>, and performs the following:
    <ol class="nested proc">
      <li>Let <var>cap</var> be <var>x</var>&rsquo;s <var>captures</var> internal
          array.</li>

      <li>Let <var>s</var> be <var>cap</var>[<var>n</var>].</li>

      <li>If <var>s</var> is <span class="value">undefined</span>, then call
          <var>c</var>(<var>x</var>) and return its result.</li>

      <li>Let <var>e</var> be <var>x</var>&rsquo;s <var>endIndex</var>.</li>

      <li>Let <var>len</var> be <var>s</var>&rsquo;s length.</li>

      <li>Let <var>f</var> be <var>e</var>+<var>len</var>.</li>

      <li>If <var>f</var>&gt;<a href="#def-InputLength"><var>InputLength</var></a>, return <span class="spec
          value">failure</span>.</li>

      <li>If there exists an integer <var>i</var> between 0 (inclusive) and
          <var>len</var> (exclusive) such that
          <a href="#def-Canonicalize"><span class="abstractopname">Canonicalize</span></a>(<var>s</var>[<var>i</var>])
          is not the same character as
          <a href="#def-Canonicalize"><span class="abstractopname">Canonicalize</span></a>(<a href="#def-Input"><var>Input</var></a>[<var>e</var>+<var>i</var>]),
          then return <span class="spec value">failure</span>.</li>

      <li>Let <var>y</var> be the State (<var>f</var>, <var>cap</var>).</li>

      <li>Call <var>c</var>(<var>y</var>) and return its result.</li>
    </ol>
  </li>
</ol>

<p>The production <span class="prod"><span class="nt">AtomEscape</span>
<span class="geq">::</span> <span class="nt">CharacterEscape</span></span>
evaluates as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">CharacterEscape</span> to obtain a character
      <var>ch</var>.</li>

  <li>Let <var>A</var> be a one-element CharSet containing the character
      <var>ch</var>.</li>

  <li>Call
      <span class="abstractopname">CharacterSetMatcher</span>(<var>A</var>,
      <span class="value">false</span>) and return its Matcher result.</li>
</ol>

<p>The production <span class="prod"><span class="nt">AtomEscape</span>
<span class="geq">::</span> <span class="nt">CharacterClassEscape</span></span>
evaluates as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">CharacterClassEscape</span> to obtain a CharSet
      <var>A</var>.</li>

  <li>Call
      <span class="abstractopname">CharacterSetMatcher</span>(<var>A</var>,
      <span class="value">false</span>) and return its Matcher result.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> An escape sequence of the form
  <code class="ch">\</code> followed by a nonzero decimal number <var>n</var>
  matches the result of the <var>n</var>th set of capturing parentheses
  (<a href="#sec-15.10.2.11">see 15.10.2.11</a>). It is an error if the regular
  expression has fewer than <var>n</var> capturing parentheses. If the regular
  expression has <var>n</var> or more capturing parentheses but the
  <var>n</var>th one is <span class="value">undefined</span> because it has not
  captured anything, then the backreference always succeeds.</p>
</div>
</section>

<section id="sec-15.10.2.10">
<h1><span class="secnum"><a href="#sec-15.10.2.10"
    title="link to this section">15.10.2.10</a></span>
    CharacterEscape</h1>

<p>The production <span class="prod"><span class="nt">CharacterEscape</span>
<span class="geq">::</span> <span class="nt">ControlEscape</span></span>
evaluates by returning the character according to Table 23.</p>

<figure id="table23">
<figcaption>Table 23 &mdash; ControlEscape Character Values</figcaption>
<table class="real-table">
  <tr>
    <th>ControlEscape</th>
    <th>Code Unit</th>
    <th>Name</th>
    <th>Symbol</th>
  </tr>
  <tr>
    <td><code class="ch">t</code></td>
    <td><code class="ch">\u0009</code></td>
    <td>horizontal tab</td>
    <td>&lt;HT&gt;</td>
  </tr>
  <tr>
    <td><code class="ch">n</code></td>
    <td><code class="ch">\u000A</code></td>
    <td>line feed (new line)</td>
    <td>&lt;LF&gt;</td>
  </tr>
  <tr>
    <td><code class="ch">v</code></td>
    <td><code class="ch">\u000B</code></td>
    <td>vertical tab</td>
    <td>&lt;VT&gt;</td>
  </tr>
  <tr>
    <td><code class="ch">f</code></td>
    <td><code class="ch">\u000C</code></td>
    <td>form feed</td>
    <td>&lt;FF&gt;</td>
  </tr>
  <tr>
    <td><code class="ch">r</code></td>
    <td><code class="ch">\u000D</code></td>
    <td>carriage return</td>
    <td>&lt;CR&gt;</td>
  </tr>
  </table>
</figure>

<p>The production <span class="prod"><span class="nt">CharacterEscape</span>
<span class="geq">::</span> <code class="t">c</code>
<span class="nt">ControlLetter</span></span> evaluates as follows:</p>

<span class="pagemark" id="page200">PDF page 200 / printed page 190</span>

<ol class="proc">
  <li>Let <var>ch</var> be the character represented by
      <span class="nt">ControlLetter</span>.</li>

  <li>Let <var>i</var> be <var>ch</var>&rsquo;s code unit value.</li>

  <li>Let <var>j</var> be the remainder of dividing <var>i</var> by 32.</li>

  <li>Return the code unit numbered <var>j</var>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">CharacterEscape</span>
<span class="geq">::</span> <span class="nt">HexEscapeSequence</span></span>
evaluates by evaluating the CV of the <span class="nt">HexEscapeSequence</span>
(<a href="#sec-7.8.4">see 7.8.4</a>) and returning its character result.</p>

<p>The production <span class="prod"><span class="nt">CharacterEscape</span>
<span class="geq">::</span>
<span class="nt">UnicodeEscapeSequence</span></span> evaluates by evaluating
the CV of the <span class="nt">UnicodeEscapeSequence</span>
(<a href="#sec-7.8.4">see 7.8.4</a>) and returning its character result.</p>

<p>The production <span class="prod"><span class="nt">CharacterEscape</span>
<span class="geq">::</span> <span class="nt">IdentityEscape</span></span>
evaluates by returning the character represented by
<span class="nt">IdentityEscape</span>.</p>
</section>

<section id="sec-15.10.2.11">
<h1><span class="secnum"><a href="#sec-15.10.2.11"
    title="link to this section">15.10.2.11</a></span>
    DecimalEscape</h1>

<p>The production <span class="prod"><span class="nt">DecimalEscape</span>
<span class="geq">::</span> <span class="nt">DecimalIntegerLiteral</span>
<span class="grhsannot">[<a href="#def-lookahead-notin">lookahead &notin;</a>
<span class="nt">DecimalDigit</span>]</span></span> evaluates as follows.</p>

<ol class="proc">
  <li>Let <var>i</var> be <a href="#sec-7.8.3">the MV of</a>
      <span class="nt">DecimalIntegerLiteral</span>.</li>

  <li>If <var>i</var> is zero, return the EscapeValue consisting of a
      &lt;NUL&gt; character (Unicode value 0000).</li>

  <li>Return the EscapeValue consisting of the integer <var>i</var>.</li>
</ol>

<p>The definition of &ldquo;the MV of
<span class="nt">DecimalIntegerLiteral</span>&rdquo; is in
<a href="#sec-7.8.3">7.8.3</a>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> If <code class="t">\</code> is followed by a
  decimal number <var>n</var> whose first digit is not
  <code class="t">0</code>, then the escape sequence is considered to be a
  backreference. It is an error if <var>n</var> is greater than the total
  number of left capturing parentheses in the entire regular expression.
  <code class="t">\0</code> represents the &lt;NUL&gt; character and cannot be
  followed by a decimal digit.</p>
</div>
</section>

<section id="sec-15.10.2.12">
<h1><span class="secnum"><a href="#sec-15.10.2.12"
    title="link to this section">15.10.2.12</a></span>
    CharacterClassEscape</h1>

<p>The production
<span class="prod"><span class="nt">CharacterClassEscape</span>
<span class="geq">::</span> <code class="t">d</code></span> evaluates by
returning the ten-element set of characters containing the characters
<code class="ch">0</code> through <code class="ch">9</code> inclusive.</p>

<p>The production
<span class="prod"><span class="nt">CharacterClassEscape</span>
<span class="geq">::</span> <code class="t">D</code></span> evaluates by
returning the set of all characters not included in the set returned by
<span class="prod"><span class="nt">CharacterClassEscape</span>
<span class="geq">::</span> <code class="t">d</code></span>.</p>

<p>The production
<span class="prod"><span class="nt">CharacterClassEscape</span>
<span class="geq">::</span> <code class="t">s</code></span> evaluates by
returning the set of characters containing the characters that are on the
right-hand side of the <span class="nt">WhiteSpace</span>
(<a href="#sec-7.2">7.2</a>) or <span class="nt">LineTerminator</span>
(<a href="#sec-7.3">7.3</a>) productions.</p>

<p>The production
<span class="prod"><span class="nt">CharacterClassEscape</span>
<span class="geq">::</span> <code class="t">S</code></span> evaluates by
returning the set of all characters not included in the set returned by
<span class="prod"><span class="nt">CharacterClassEscape</span>
<span class="geq">::</span> <code class="t">s</code></span>.</p>

<p>The production
<span class="prod"><span class="nt">CharacterClassEscape</span>
<span class="geq">::</span> <code class="t">w</code></span> evaluates by
returning the set of characters containing the sixty-three characters:</p>

<pre><b>a b c d e f g h i j k l m n o p q r s t u v w x y z</b>
<b>A B C D E F G H I J K L M N O P Q R S T U V W X Y Z</b>
<b>0 1 2 3 4 5 6 7 8 9 _</b></pre>


<p>The production
<span class="prod"><span class="nt">CharacterClassEscape</span>
<span class="geq">::</span> <code class="t">W</code></span> evaluates by
returning the set of all characters not included in the set returned by
<span class="prod"><span class="nt">CharacterClassEscape</span>
<span class="geq">::</span> <code class="t">w</code></span>.</p>
</section>

<section id="sec-15.10.2.13">
<h1><span class="secnum"><a href="#sec-15.10.2.13"
    title="link to this section">15.10.2.13</a></span>
    CharacterClass</h1>

<p>The production <span class="prod"><span class="nt">CharacterClass</span>
<span class="geq">::</span> <code class="t">[</code>
<span class="grhsannot">[<a href="#def-lookahead-notin">lookahead &notin;</a>
{<code class="t">^</code>}]</span> <span class="nt">ClassRanges</span>
<code class="t">]</code></span> evaluates by evaluating
<span class="nt">ClassRanges</span> to obtain a CharSet and returning that
CharSet and the Boolean <span class="value">false</span>.</p>

<p><span class="pagemark" id="page201">PDF page 201 / printed page 191</span>
The production <span class="prod"><span class="nt">CharacterClass</span>
<span class="geq">::</span> <code class="t">[</code> <code class="t">^</code>
<span class="nt">ClassRanges</span> <code class="t">]</code></span> evaluates
by evaluating <span class="nt">ClassRanges</span> to obtain a CharSet and
returning that CharSet and the Boolean <span class="value">true</span>.</p>
</section>

<section id="sec-15.10.2.14">
<h1><span class="secnum"><a href="#sec-15.10.2.14"
    title="link to this section">15.10.2.14</a></span>
    ClassRanges</h1>

<p>The production <span class="prod"><span class="nt">ClassRanges</span>
<span class="geq">::</span> <span class="grhsannot">[empty]</span></span>
evaluates by returning the empty CharSet.</p>

<p>The production <span class="prod"><span class="nt">ClassRanges</span>
<span class="geq">::</span> <span class="nt">NonemptyClassRanges</span></span>
evaluates by evaluating <span class="nt">NonemptyClassRanges</span> to obtain a
CharSet and returning that CharSet.</p>
</section>

<section id="sec-15.10.2.15">
<h1><span class="secnum"><a href="#sec-15.10.2.15"
    title="link to this section">15.10.2.15</a></span>
    NonemptyClassRanges</h1>

<p>The production
<span class="prod"><span class="nt">NonemptyClassRanges</span>
<span class="geq">::</span> <span class="nt">ClassAtom</span></span> evaluates
by evaluating <span class="nt">ClassAtom</span> to obtain a CharSet and
returning that CharSet.</p>

<p>The production
<span class="prod"><span class="nt">NonemptyClassRanges</span>
<span class="geq">::</span> <span class="nt">ClassAtom</span>
<span class="nt">NonemptyClassRangesNoDash</span></span> evaluates as
follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">ClassAtom</span> to obtain a CharSet
      <var>A</var>.</li>

  <li>Evaluate <span class="nt">NonemptyClassRangesNoDash</span> to obtain a
      CharSet <var>B</var>.</li>

  <li>Return the union of CharSets <var>A</var> and <var>B</var>.</li>
</ol>

<p>The production
<span class="prod"><span class="nt">NonemptyClassRanges</span>
<span class="geq">::</span> <span class="nt">ClassAtom</span>
<code class="t">-</code> <span class="nt">ClassAtom</span>
<span class="nt">ClassRanges</span></span> evaluates as follows:</p>

<ol class="proc">
  <li>Evaluate the first <span class="nt">ClassAtom</span> to obtain a CharSet
      <var>A</var>.</li>

  <li>Evaluate the second <span class="nt">ClassAtom</span> to obtain a CharSet
      <var>B</var>.</li>

  <li>Evaluate <span class="nt">ClassRanges</span> to obtain a CharSet
      <var>C</var>.</li>

  <li>Call <span class="abstractopname">CharacterRange</span>(<var>A</var>,
      <var>B</var>) and let <var>D</var> be the resulting CharSet.</li>

  <li>Return the union of CharSets <var>D</var> and <var>C</var>.</li>
</ol>

<p>The abstract operation <span class="abstractopname">CharacterRange</span>
takes two CharSet parameters <var>A</var> and <var>B</var> and performs the
following:</p>

<ol class="proc">
  <li>If <var>a</var> does not contain exactly one character or <var>b</var>
      does not contain exactly one character then throw a
      <span class="errorname">SyntaxError</span> exception.</li>

  <li>Let <var>a</var> be the one character in CharSet <var>a</var>.</li>

  <li>Let <var>b</var> be the one character in CharSet <var>b</var>.</li>

  <li>Let <var>i</var> be the code unit value of character <var>a</var>.</li>

  <li>Let <var>j</var> be the code unit value of character <var>b</var>.</li>

  <li>If <var>i</var> &gt; <var>j</var> then throw a
      <span class="errorname">SyntaxError</span> exception.</li>

  <li>Return the set containing all characters numbered <var>i</var> through
      <var>j</var>, inclusive.</li>
</ol>
</section>

<section id="sec-15.10.2.16">
<h1><span class="secnum"><a href="#sec-15.10.2.16"
    title="link to this section">15.10.2.16</a></span>
    NonemptyClassRangesNoDash</h1>

<p>The production
<span class="prod"><span class="nt">NonemptyClassRangesNoDash</span>
<span class="geq">::</span> <span class="nt">ClassAtom</span></span> evaluates
by evaluating <span class="nt">ClassAtom</span> to obtain a CharSet and
returning that CharSet.</p>

<p>The production
<span class="prod"><span class="prod"><span class="nt">NonemptyClassRangesNoDash</span>
<span class="geq">::</span> <span class="nt">ClassAtomNoDash</span>
<span class="nt">NonemptyClassRangesNoDash</span></span></span> evaluates as
follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">ClassAtomNoDash</span> to obtain a CharSet
      <var>A</var>.</li>

  <li>Evaluate <span class="nt">NonemptyClassRangesNoDash</span> to obtain a
      CharSet <var>B</var>.</li>

  <li>Return the union of CharSets <var>A</var> and <var>B</var>.</li>
</ol>

<p>The production
<span class="prod"><span class="prod"><span class="nt">NonemptyClassRangesNoDash</span>
<span class="geq">::</span> <span class="nt">ClassAtomNoDash</span>
<code class="t">-</code> <span class="nt">ClassAtom</span>
<span class="nt">ClassRanges</span></span></span> evaluates as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">ClassAtomNoDash</span> to obtain a CharSet
      <var>A</var>.</li>

  <li>Evaluate <span class="nt">ClassAtom</span> to obtain a CharSet
      <var>B</var>.</li>

  <li>Evaluate <span class="nt">ClassRanges</span> to obtain a CharSet
      <var>C</var>.</li>

  <li><span class="pagemark" id="page202">PDF page 202 / printed page
      192</span>Call
      <span class="abstractopname">CharacterRange</span>(<var>A</var>,
      <var>B</var>) and let <var>D</var> be the resulting CharSet.</li>

  <li>Return the union of CharSets <var>D</var> and <var>C</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE 1</span> <span class="nt">ClassRanges</span> can
  expand into single <span class="nt">ClassAtoms</span> and/or ranges of two
  <span class="nt">ClassAtoms</span> separated by dashes. In the latter case
  the <span class="nt">ClassRanges</span> includes all characters between the
  first <span class="nt">ClassAtom</span> and the second
  <span class="nt">ClassAtom</span>, inclusive; an error occurs if either
  <span class="nt">ClassAtom</span> does not represent a single character (for
  example, if one is <code class="t">\w</code>) or if the first
  <span class="nt" data-nt="ClassAtom">ClassAtom&rsquo;s</span> code unit value
  is greater than the second <span class="nt"
  data-nt="ClassAtom">ClassAtom&rsquo;s</span> code unit value.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> Even if the pattern ignores case, the case
  of the two ends of a range is significant in determining which characters
  belong to the range. Thus, for example, the pattern
  <code class="expr">/[E-F]/i</code> matches only the letters
  <code class="ch">E</code>, <code class="ch">F</code>,
  <code class="ch">e</code>, and <code class="ch">f</code>, while the pattern
  <code class="expr">/[E-f]/i</code> matches all upper and lower-case ASCII
  letters as well as the symbols <code class="ch">[</code>,
  <code class="ch">\</code>, <code class="ch">]</code>,
  <code class="ch">^</code>, <code class="ch">_</code>, and
  <code class="ch">`</code>.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 3</span> A <code class="t">-</code> character can be
  treated literally or it can denote a range. It is treated literally if it is
  the first or last character of <span class="nt">ClassRanges</span>, the
  beginning or end limit of a range specification, or immediately follows a
  range specification.</p>
</div>
</section>

<section id="sec-15.10.2.17">
<h1><span class="secnum"><a href="#sec-15.10.2.17"
    title="link to this section">15.10.2.17</a></span>
    ClassAtom</h1>

<p>The production <span class="prod"><span class="nt">ClassAtom</span>
<span class="geq">::</span> <code class="t">-</code></span> evaluates by
returning the CharSet containing the one character
<code class="ch">-</code>.</p>

<p>The production <span class="prod"><span class="nt">ClassAtom</span>
<span class="geq">::</span> <span class="nt">ClassAtomNoDash</span></span>
evaluates by evaluating <span class="nt">ClassAtomNoDash</span> to obtain a
CharSet and returning that CharSet.</p>
</section>

<section id="sec-15.10.2.18">
<h1><span class="secnum"><a href="#sec-15.10.2.18"
    title="link to this section">15.10.2.18</a></span>
    ClassAtomNoDash</h1>

<p>The production <span class="prod"><span class="nt">ClassAtomNoDash</span>
<span class="geq">::</span> <span class="nt">SourceCharacter</span>
<span class="grhsmod">but not one of</span> <code class="t">\</code>
<span class="grhsmod">or</span> <code class="t">]</code>
<span class="grhsmod">or</span> <code class="t">-</code></span> evaluates by
returning a one-element CharSet containing the character represented by
<span class="nt">SourceCharacter</span>.</p>

<p>The production <span class="prod"><span class="nt">ClassAtomNoDash</span>
<span class="geq">::</span> <code class="t">\</code>
<span class="nt">ClassEscape</span></span> evaluates by evaluating
<span class="nt">ClassEscape</span> to obtain a CharSet and returning that
CharSet.</p>
</section>

<section id="sec-15.10.2.19">
<h1><span class="secnum"><a href="#sec-15.10.2.19"
    title="link to this section">15.10.2.19</a></span>
    ClassEscape</h1>

<p>The production <span class="prod"><span class="nt">ClassEscape</span>
<span class="geq">::</span> <span class="nt">DecimalEscape</span></span>
evaluates as follows:</p>

<ol class="proc">
  <li>Evaluate <span class="nt">DecimalEscape</span> to obtain an EscapeValue
      <var>E</var>.</li>

  <li>If <var>E</var> is not a character then throw a
      <span class="errorname">SyntaxError</span> exception.</li>

  <li>Let <var>ch</var> be <var>E</var>&rsquo;s character.</li>

  <li>Return the one-element CharSet containing the character
      <var>ch</var>.</li>
</ol>

<p>The production <span class="prod"><span class="nt">ClassEscape</span>
<span class="geq">::</span> <code class="t">b</code></span> evaluates by
returning the CharSet containing the one character &lt;BS&gt; (Unicode value
0008).</p>

<p>The production <span class="prod"><span class="nt">ClassEscape</span>
<span class="geq">::</span> <span class="nt">CharacterEscape</span></span>
evaluates by evaluating <span class="nt">CharacterEscape</span> to obtain a
character and returning a one-element CharSet containing that character.</p>

<p>The production <span class="prod"><span class="nt">ClassEscape</span>
<span class="geq">::</span> <span class="nt">CharacterClassEscape</span></span>
evaluates by evaluating <span class="nt">CharacterClassEscape</span> to obtain
a CharSet and returning that CharSet.</p>

<div class="note">
  <p><span class="nh">NOTE</span> A <span class="nt">ClassAtom</span> can use
  any of the escape sequences that are allowed in the rest of the regular
  expression except for <code class="t">\b</code>, <code class="t">\B</code>,
  and backreferences. Inside a <span class="nt">CharacterClass</span>,
  <code class="t">\b</code> means the backspace character, while
  <code class="t">\B</code> and backreferences raise errors. Using a
  backreference inside a <span class="nt">ClassAtom</span> causes an error.</p>
</div>
</section>
</section>


<section id="sec-15.10.3">
<span class="pagemark" id="page203">PDF page 203 / printed page 193</span>
<h1><span class="secnum"><a href="#sec-15.10.3"
    title="link to this section">15.10.3</a></span>
    The RegExp Constructor Called as a Function</h1>

<section id="sec-15.10.3.1">
<h1><span class="secnum"><a href="#sec-15.10.3.1"
    title="link to this section">15.10.3.1</a></span>
    RegExp(pattern, flags)</h1>

<p>If <var>pattern</var> is an object <var>R</var> whose [[Class]] internal
property is <span class="string value">"RegExp"</span> and <var>flags</var> is
<span class="value">undefined</span>, then return <var>R</var> unchanged.
Otherwise call the standard built-in <span class="libname">RegExp</span>
constructor (<a href="#sec-15.10.4.1">15.10.4.1</a>) as if by the expression
<code class="expr">new RegExp(<var>pattern</var>, <var>flags</var>)</code> and
return the object constructed by that constructor.</p>
</section>
</section>

<section id="sec-15.10.4">
<h1><span class="secnum"><a href="#sec-15.10.4"
    title="link to this section">15.10.4</a></span>
    The RegExp Constructor</h1>

<p>When <span class="libname">RegExp</span> is called as part of a
<code class="t">new</code> expression, it is a constructor: it initialises the
newly created object.</p>


<section id="sec-15.10.4.1">
<h1><span class="secnum"><a href="#sec-15.10.4.1"
    title="link to this section">15.10.4.1</a></span>
    new RegExp(pattern, flags)</h1>

<p>If <var>pattern</var> is an object <var>R</var> whose [[Class]] internal
property is <span class="string value">"RegExp"</span> and <var>flags</var> is
<span class="value">undefined</span>, then let <var>P</var> be the
<var>pattern</var> used to construct <var>R</var> and let <var>F</var> be the
flags used to construct <var>R</var>. If <var>pattern</var> is an object
<var>R</var> whose [[Class]] internal property is <span class="string
value">"RegExp"</span> and <var>flags</var> is not
<span class="value">undefined</span>, then throw a
<span class="errorname">TypeError</span> exception. Otherwise, let <var>P</var>
be the empty String if <var>pattern</var> is
<span class="value">undefined</span> and
<a href="#sec-9.8">ToString</a>(<var>pattern</var>) otherwise, and let
<var>F</var> be the empty String if <var>flags</var> is
<span class="value">undefined</span> and
<a href="#sec-9.8">ToString</a>(<var>flags</var>) otherwise.</p>

<p>If the characters of <var>P</var> do not have the syntactic form
<span class="nt">Pattern</span>, then throw a
<span class="errorname">SyntaxError</span> exception. Otherwise let the newly
constructed object have a [[Match]] internal property obtained by evaluating
(&ldquo;compiling&rdquo;) the characters of <var>P</var> as a
<span class="nt">Pattern</span> as described in
<a href="#sec-15.10.2">15.10.2</a>.</p>

<p>If <var>F</var> contains any character other than <span class="string
value">"g"</span>, <span class="string value">"i"</span>, or
<span class="string value">"m"</span>, or if it contains the same character
more than once, then throw a <span class="errorname">SyntaxError</span>
exception.</p>

<p>If a <span class="errorname">SyntaxError</span> exception is not thrown,
then:</p>

<p id="#def-RegExp-source">Let <var>S</var> be a String in the form of a
<span class="nt">Pattern</span> equivalent to <var>P</var>, in which certain
characters are escaped as described below. <var>S</var> may or may not be
identical to <var>P</var> or <var>pattern</var>; however, the internal
procedure that would result from evaluating <var>S</var> as a
<span class="nt">Pattern</span> must behave identically to the internal
procedure given by the constructed object&rsquo;s [[Match]] internal
property.</p>

<p>The characters <code class="ch">/</code> or
<span class="chgloss">backslash</span> <code class="ch">\</code> occurring in
the pattern shall be escaped in <var>S</var> as necessary to ensure that the
String value formed by concatenating the Strings <span class="string
value">"/"</span>, <var>S</var>, <span class="string value">"/"</span>, and
<var>F</var> can be parsed (in an appropriate lexical context) as a
<span class="nt">RegularExpressionLiteral</span> that behaves identically to
the constructed regular expression. For example, if <var>P</var> is
<span class="string value">"/"</span>, then <var>S</var> could be
<span class="string value">"\/"</span> or <span class="string
value">"\u002F"</span>, among other possibilities, but not <span class="string
value">"/"</span>, because <code class="ch">///</code> followed by <var>F</var>
would be parsed as a <span class="nt">SingleLineComment</span> rather than a
<span class="nt">RegularExpressionLiteral</span>. If <var>P</var> is the empty
String, this specification can be met by letting <var>S</var> be
<span class="string value">"(?:)"</span>.</p>

<p>The following properties of the newly constructed object are data properties
with the attributes that are specified in <a href="#sec-15.10.7">15.10.7</a>.
The [[Value]] of each property is set as follows:</p>

<p>The <code class="propname">source</code> property of the newly constructed
object is set to <var>S</var>.</p>

<p>The <code class="propname">global</code> property of the newly constructed
 object is set to a Boolean value that is <span class="value">true</span> if
 <var>F</var> contains the character <span class="string value">"g"</span> and
 <span class="value">false</span> otherwise.</p>

<p>The <code class="propname">ignoreCase</code> property of the newly
constructed object is set to a Boolean value that is
<span class="value">true</span> if <var>F</var> contains the character
<span class="string value">"i"</span> and <span class="value">false</span>
otherwise.</p>

<p>The <code class="propname">multiline</code> property of the newly
constructed object is set to a Boolean value that is
<span class="value">true</span> if <var>F</var> contains the character
<span class="string value">"m"</span> and <span class="value">false</span>
otherwise.</p>

<p>The <code class="propname">lastIndex</code> property of the newly
constructed object is set to <span class="value">0</span>.</p>

<p><span class="pagemark" id="page204">PDF page 204 / printed page 194</span>
The [[Prototype]] internal property of the newly constructed object is set to
the standard built-in RegExp prototype object as specified in
<a href="#sec-15.10.6">15.10.6</a>.</p>

<p>The [[Class]] internal property of the newly constructed object is set to
<span class="string value">"RegExp"</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> If pattern is a
  <span class="nt">StringLiteral</span>, the usual escape sequence
  substitutions are performed before the String is processed by RegExp. If
  pattern must contain an escape sequence to be recognised by RegExp, any
  backslash <code class="ch">\</code> characters must be escaped within the
  <span class="nt">StringLiteral</span> to prevent them being removed when the
  contents of the <span class="nt">StringLiteral</span> are formed.</p>
</div>
</section>
</section>

<section id="sec-15.10.5">
<h1><span class="secnum"><a href="#sec-15.10.5"
    title="link to this section">15.10.5</a></span>
    Properties of the RegExp Constructor</h1>

<p>The value of the [[Prototype]] internal property of the RegExp constructor
is the standard built-in Function prototype object
(<a href="#sec-15.3.4">15.3.4</a>).</p>

<p>Besides the internal properties and the <code class="propname">length</code>
property (whose value is <span class="value">2</span>), the RegExp constructor
has the following properties:</p>


<section id="sec-15.10.5.1">
<h1><span class="secnum"><a href="#sec-15.10.5.1"
    title="link to this section">15.10.5.1</a></span>
    RegExp.prototype</h1>

<p>The initial value of <span class="libname">RegExp.prototype</span> is the
RegExp prototype object (<a href="#sec-15.10.6">15.10.6</a>).</p>

<p>This property shall have the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>
</section>

<section id="sec-15.10.6">
<h1><span class="secnum"><a href="#sec-15.10.6"
    title="link to this section">15.10.6</a></span>
    Properties of the RegExp Prototype Object</h1>

<p>The value of the [[Prototype]] internal property of the RegExp prototype
object is the standard built-in Object prototype object
(<a href="#sec-15.2.4">15.2.4</a>). The RegExp prototype object is itself a
regular expression object; its [[Class]] is <span class="string
value">"RegExp"</span>. The initial values of the RegExp prototype
object&rsquo;s data properties (<a href="#sec-15.10.7">15.10.7</a>) are set as
if the object was created by the expression <code class="expr">new
RegExp()</code> where <code class="expr">RegExp</code> is that standard
built-in constructor with that name.</p>

<p>The RegExp prototype object does not have a
<code class="propname">valueOf</code> property of its own; however, it inherits
the <code class="propname">valueOf</code> property from the Object prototype
object.</p>

<p id="def-this-RegExp-object">In the following descriptions of functions that
are properties of the RegExp prototype object, the phrase &ldquo;this RegExp
object&rdquo; refers to the object that is the <span class="this">this</span>
value for the invocation of the function; a
<span class="errorname">TypeError</span> exception is thrown if the
<span class="this">this</span> value is not an object or an object for which
the value of the [[Class]] internal property is not <span class="string
value">"RegExp"</span>.</p>


<section id="sec-15.10.6.1">
<h1><span class="secnum"><a href="#sec-15.10.6.1"
    title="link to this section">15.10.6.1</a></span>
    RegExp.prototype.constructor</h1>

<p>The initial value of
<span class="libname">RegExp.prototype.constructor</span> is the standard
built-in <span class="libname">RegExp</span> constructor.</p>
</section>

<section id="sec-15.10.6.2">
<h1><span class="secnum"><a href="#sec-15.10.6.2"
    title="link to this section">15.10.6.2</a></span>
    RegExp.prototype.exec(string)</h1>

<p>Performs a regular expression match of <var>string</var> against the regular
expression and returns an Array object containing the results of the match, or
<span class="value">null</span> if <var>string</var> did not match.</p>

<p>The String <a href="#sec-9.8">ToString</a>(<var>string</var>) is searched
for an occurrence of the regular expression pattern as follows:</p>

<ol class="proc">
  <li>Let <var>R</var> be <a href="#def-this-RegExp-object">this RegExp
      object</a>.</li>

  <li>Let <var>S</var> be the value of
      <a href="#sec-9.8">ToString</a>(<var>string</var>).</li>

  <li>Let <var>length</var> be the length of <var>S</var>.</li>

  <li>Let <var>lastIndex</var> be the result of calling the [[Get]] internal
      method of <var>R</var> with argument <span class="string
      value">"lastIndex"</span>.</li>

  <li>Let <var>i</var> be the value of
      <a href="#sec-9.4">ToInteger</a>(<var>lastIndex</var>).</li>

  <li>Let <var>global</var> be the result of calling the [[Get]] internal
      method of <var>R</var> with argument <span class="string
      value">"global"</span>.</li>

  <li><span class="pagemark" id="page205">PDF page 205 / printed page
      195</span>If <var>global</var> is <span class="value">false</span>, then
      let <var>i</var> = 0.</li>

  <li>Let <var>matchSucceeded</var> be <span class="value">false</span>.</li>

  <li>Repeat, while <var>matchSucceeded</var> is
      <span class="value">false</span>
    <ol class="block">
      <li>If <var>i</var> &lt; 0 or <var>i</var> &gt; <var>length</var>, then
        <ol class="block">
          <li>Call the [[Put]] internal method of <var>R</var> with arguments
              <span class="string value">"lastIndex"</span>, 0, and
              <span class="value">true</span>.</li>

          <li>Return <span class="value">null</span>.</li>
        </ol>
      </li>

      <li>Call the [[Match]] internal method of <var>R</var> with arguments
          <var>S</var> and <var>i</var>.</li>

      <li>If [[Match]] returned <span class="spec value">failure</span>, then
        <ol class="block">
          <li>Let <var>i</var> = <var>i</var>+1.</li>
        </ol>
      </li>

      <li>else
        <ol class="block">
          <li>Let <var>r</var> be the State result of the call to
              [[Match]].</li>

          <li>Set <var>matchSucceeded</var> to
              <span class="value">true</span>.</li>
        </ol>
      </li>

      <li>Let <var>i</var> = <var>i</var>+1.</li>
    </ol>
  </li>

  <li>Let <var>e</var> be <var>r</var>&rsquo;s <var>endIndex</var> value.</li>

  <li>If <var>global</var> is <span class="value">true</span>,
    <ol class="block">
      <li>Call the [[Put]] internal method of <var>R</var> with arguments
          <span class="string value">"lastIndex"</span>, <var>e</var>, and
          <span class="value">true</span>.</li>
    </ol>
  </li>

  <li>Let <var>n</var> be the length of <var>r</var>&rsquo;s
      <var>captures</var> array. (This is the same value as
      <a href="#sec-15.10.2.1">15.10.2.1</a>&rsquo;s
      <a href="#def-NcapturingParens"><var>NcapturingParens</var></a>.)</li>

  <li>Let <var>A</var> be a new array created as if by the expression
      <code class="expr">new Array()</code> where
      <code class="expr">Array</code> is the standard built-in constructor with
      that name.</li>

  <li>Let <var>matchIndex</var> be the position of the matched substring within
      the complete String <var>S</var>.</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>A</var> with
      arguments <span class="string value">"index"</span>,
      <a href="#sec-8.10">Property Descriptor</a> {[[Value]]:
      <var>matchIndex</var>, [[Writable]: <span class="value">true</span>,
      [[Enumerable]]: <span class="value">true</span>, [[Configurable]]:
      <span class="value">true</span>}, and
      <span class="value">true</span>.</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>A</var> with
      arguments <span class="string value">"input"</span>,
      <a href="#sec-8.10">Property Descriptor</a> {[[Value]]: <var>S</var>,
      [[Writable]: <span class="value">true</span>, [[Enumerable]]:
      <span class="value">true</span>, [[Configurable]]:
      <span class="value">true</span>}, and
      <span class="value">true</span>.</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>A</var> with
      arguments <span class="string value">"length"</span>,
      <a href="#sec-8.10">Property Descriptor</a> {[[Value]]: <var>n</var> +
      1}, and <span class="value">true</span>.</li>

  <li>Let <var>matchedSubstr</var> be the matched substring (i.e. the portion
      of <var>S</var> between offset <var>i</var> inclusive and offset
      <var>e</var> exclusive).</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>A</var> with
      arguments <span class="string value">"0"</span>,
      <a href="#sec-8.10">Property Descriptor</a> {[[Value]]:
      <var>matchedSubstr</var>, [[Writable]: <span class="value">true</span>,
      [[Enumerable]]: <span class="value">true</span>, [[Configurable]]:
      <span class="value">true</span>}, and
      <span class="value">true</span>.</li>

  <li>For each integer <var>i</var> such that <span class="math"><var>i</var>
      &gt; 0</span> and <span class="math"><var>i</var> &le;
      <var>n</var></span>
    <ol class="block">
      <li>Let <var>captureI</var> be <var>i</var>th element of
          <var>r</var>&rsquo;s <var>captures</var> array.</li>

      <li>Call the [[DefineOwnProperty]] internal method of <var>A</var> with
          arguments <a href="#sec-9.8">ToString</a>(<var>i</var>), <a href="#sec-8.10">Property
          Descriptor</a> {[[Value]]: <var>captureI</var>, [[Writable]:
          <span class="value">true</span>, [[Enumerable]]:
          <span class="value">true</span>, [[Configurable]]:
          <span class="value">true</span>}, and
          <span class="value">true</span>.</li>
    </ol>
  </li>

  <li>Return <var>A</var>.</li>
</ol>
</section>

<section id="sec-15.10.6.3">
<h1><span class="secnum"><a href="#sec-15.10.6.3"
    title="link to this section">15.10.6.3</a></span>
    RegExp.prototype.test(string)</h1>

<p>The following steps are taken:</p>

<ol class="proc">
  <li>Let <var>match</var> be the result of evaluating the
      <span class="libname">RegExp.prototype.exec</span>
      (<a href="#sec-15.10.6.2">15.10.6.2</a>) algorithm upon
      <a href="#def-this-RegExp-object">this RegExp object</a> using
      <var>string</var> as the argument.</li>

  <li>If <var>match</var> is not null, then return
      <span class="value">true</span>; else return
      <span class="value">false</span>.</li>
</ol>
</section>

<section id="sec-15.10.6.4">
<h1><span class="secnum"><a href="#sec-15.10.6.4"
    title="link to this section">15.10.6.4</a></span>
    RegExp.prototype.toString()</h1>

<p>Return the String value formed by concatenating the Strings
<span class="string value">"/"</span>, the String value of the
<code class="propname">source</code> property of
<a href="#def-this-RegExp-object">this RegExp object</a>, and
<span class="string value">"/"</span>; plus <span class="string
value">"g"</span> if the <code class="propname">global</code> property is
<span class="value">true</span>, <span class="string value">"i"</span> if the
<code class="propname">ignoreCase</code> property is
<span class="value">true</span>, and <span class="string value">"m"</span> if
the <code class="propname">multiline</code> property is
<span class="value">true</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The returned String has the form of a
  <span class="nt">RegularExpressionLiteral</span> that evaluates to another
  RegExp object with the same behaviour as this object.</p>
</div>
</section>
</section>

<section id="sec-15.10.7">
<h1><span class="secnum"><a href="#sec-15.10.7"
    title="link to this section">15.10.7</a></span>
    Properties of RegExp Instances</h1>

<p>RegExp instances inherit properties from the RegExp prototype object and
their [[Class]] internal property value is <span class="string
value">"RegExp"</span>. RegExp instances also have a [[Match]] internal
property and a <code class="propname">length</code> property.</p>

<p><span class="pagemark" id="page206">PDF page 206 / printed page 196</span>
The value of the [[Match]] internal property is an implementation dependent
representation of the <span class="nt">Pattern</span> of the RegExp object.</p>

<p>RegExp instances also have the following properties.</p>


<section id="sec-15.10.7.1">
<h1><span class="secnum"><a href="#sec-15.10.7.1"
    title="link to this section">15.10.7.1</a></span>
    source</h1>

<p>The value of the <code class="propname">source</code> property is a String
in the form of a <span class="nt">Pattern</span> representing the current
regular expression. This property shall have the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.10.7.2">
<h1><span class="secnum"><a href="#sec-15.10.7.2"
    title="link to this section">15.10.7.2</a></span>
    global</h1>

<p>The value of the <code class="propname">global</code> property is a Boolean
value indicating whether the flags contained the character <span class="string
value">"g"</span>. This property shall have the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.10.7.3">
<h1><span class="secnum"><a href="#sec-15.10.7.3"
    title="link to this section">15.10.7.3</a></span>
    ignoreCase</h1>

<p>The value of the <code class="propname">ignoreCase</code> property is a
Boolean value indicating whether the flags contained the character
<span class="string value">"i"</span>. This property shall have the attributes
{ [[Writable]]: <span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.10.7.4">
<h1><span class="secnum"><a href="#sec-15.10.7.4"
    title="link to this section">15.10.7.4</a></span>
    multiline</h1>

<p>The value of the <code class="propname">multiline</code> property is a
Boolean value indicating whether the flags contained the character
<span class="string value">"m"</span>. This property shall have the attributes
{ [[Writable]]: <span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.10.7.5">
<h1><span class="secnum"><a href="#sec-15.10.7.5"
    title="link to this section">15.10.7.5</a></span>
    lastIndex</h1>

<p>The value of the <code class="propname">lastIndex</code> property specifies
the String position at which to start the next match. It is coerced to an
integer when used (<a href="#sec-15.10.6.2">see 15.10.6.2</a>). This property
shall have the attributes { [[Writable]]: <span class="value">true</span>,
[[Enumerable]]: <span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>

<div class="note">
  <p><span class="nh">NOTE</span> Unlike the other standard built-in properties
  of RegExp instances, <span class="libname">lastIndex</span> is writable.</p>
</div>
</section>
</section>
</section>


<section id="sec-15.11">
<h1><span class="secnum"><a href="#sec-15.11"
    title="link to this section">15.11</a></span>
    Error Objects</h1>

<p>Instances of Error objects are thrown as exceptions when runtime errors
occur. The Error objects may also serve as base objects for user-defined
exception classes.</p>


<section id="sec-15.11.1">
<h1><span class="secnum"><a href="#sec-15.11.1"
    title="link to this section">15.11.1</a></span>
    The Error Constructor Called as a Function</h1>

<p>When <span class="libname">Error</span> is called as a function rather than
as a constructor, it creates and initialises a new Error object. Thus the
function call <code class="expr">Error(<var>...</var>)</code> is equivalent to
the object creation expression <code class="expr">new
Error(<var>...</var>)</code> with the same arguments.</p>


<section id="sec-15.11.1.1">
<h1><span class="secnum"><a href="#sec-15.11.1.1"
    title="link to this section">15.11.1.1</a></span>
    Error (message)</h1>

<p>The [[Prototype]] internal property of the newly constructed object is set
to the original Error prototype object, the one that is the initial value of
<span class="libname">Error.prototype</span>
(<a href="#sec-15.11.3.1">15.11.3.1</a>).</p>

<p>The [[Class]] internal property of the newly constructed object is set to
<span class="string value">"Error"</span>.</p>

<p>The [[Extensible]] internal property of the newly constructed object is set
to <span class="value">true</span>.</p>

<p><span class="pagemark" id="page207">PDF page 207 / printed page 197</span>
If the argument <var>message</var> is not <span class="value">undefined</span>,
the <code class="propname">message</code> own property of the newly constructed
object is set to <a href="#sec-9.8">ToString</a>(<var>message</var>).</p>
</section>
</section>

<section id="sec-15.11.2">
<h1><span class="secnum"><a href="#sec-15.11.2"
    title="link to this section">15.11.2</a></span>
    The Error Constructor</h1>

<p>When <span class="libname">Error</span> is called as part of a
<code class="t">new</code> expression, it is a constructor: it initialises the
newly created object.</p>


<section id="sec-15.11.2.1">
<h1><span class="secnum"><a href="#sec-15.11.2.1"
    title="link to this section">15.11.2.1</a></span>
    new Error (message)</h1>

<p>The [[Prototype]] internal property of the newly constructed object is set
to the original Error prototype object, the one that is the initial value of
<span class="libname">Error.prototype</span>
(<a href="#sec-15.11.3.1">15.11.3.1</a>).</p>

<p>The [[Class]] internal property of the newly constructed Error object is set
to <span class="string value">"Error"</span>.</p>

<p>The [[Extensible]] internal property of the newly constructed object is set
to <span class="value">true</span>.</p>

<p>If the argument <var>message</var> is not
<span class="value">undefined</span>, the <code class="propname">message</code>
own property of the newly constructed object is set to
<a href="#sec-9.8">ToString</a>(<var>message</var>).</p>
</section>
</section>

<section id="sec-15.11.3">
<h1><span class="secnum"><a href="#sec-15.11.3"
    title="link to this section">15.11.3</a></span>
    Properties of the Error Constructor</h1>

<p>The value of the [[Prototype]] internal property of the Error constructor is
<a href="#sec-15.3.4">the Function prototype object (15.3.4)</a>.</p>

<p>Besides the internal properties and the <code class="propname">length</code>
property (whose value is <span class="value">1</span>), the Error constructor
has the following property:</p>


<section id="sec-15.11.3.1">
<h1><span class="secnum"><a href="#sec-15.11.3.1"
    title="link to this section">15.11.3.1</a></span>
    Error.prototype</h1>

<p>The initial value of <span class="libname">Error.prototype</span> is the
Error prototype object (<a href="#sec-15.11.4">15.11.4</a>).</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>
</section>

<section id="sec-15.11.4">
<h1><span class="secnum"><a href="#sec-15.11.4"
    title="link to this section">15.11.4</a></span>
    Properties of the Error Prototype Object</h1>

<p>The Error prototype object is itself an Error object (its [[Class]] is
<span class="string value">"Error"</span>).</p>

<p>The value of the [[Prototype]] internal property of the Error prototype
object is the standard built-in Object prototype object
(<a href="#sec-15.2.4">15.2.4</a>).</p>


<section id="sec-15.11.4.1">
<h1><span class="secnum"><a href="#sec-15.11.4.1"
    title="link to this section">15.11.4.1</a></span>
    Error.prototype.constructor</h1>

<p>The initial value of
<span class="libname">Error.prototype.constructor</span> is the built-in
<span class="libname">Error</span> constructor.</p>
</section>

<section id="sec-15.11.4.2">
<h1><span class="secnum"><a href="#sec-15.11.4.2"
    title="link to this section">15.11.4.2</a></span>
    Error.prototype.name</h1>

<p>The initial value of <span class="libname">Error.prototype.name</span> is
<span class="string value">"Error"</span>.</p>
</section>

<section id="sec-15.11.4.3">
<h1><span class="secnum"><a href="#sec-15.11.4.3"
    title="link to this section">15.11.4.3</a></span>
    Error.prototype.message</h1>

<p>The initial value of <span class="libname">Error.prototype.message</span> is
the empty String.</p>
</section>

<section id="sec-15.11.4.4">
<h1><span class="secnum"><a href="#sec-15.11.4.4"
    title="link to this section">15.11.4.4</a></span>
    Error.prototype.toString ( )</h1>

<p>The following steps are taken:</p>

<ol class="proc">
  <li><span class="pagemark" id="page208">PDF page 208 / printed page
      198</span>Let <var>O</var> be the <span class="this">this</span>
      value.</li>

  <li>If <a href="#def-type">Type</a>(<var>O</var>) is not Object, throw a
      <span class="errorname">TypeError</span> exception.</li>

  <li>Let <var>name</var> be the result of calling the [[Get]] internal method
      of <var>O</var> with argument <span class="string
      value">"name"</span>.</li>

  <li>If <var>name</var> is <span class="value">undefined</span>, then let
      <var>name</var> be <span class="string value">"Error"</span>; else let
      <var>name</var> be <a href="#sec-9.8">ToString</a>(<var>name</var>).</li>

  <li>Let <var>msg</var> be the result of calling the [[Get]] internal method
      of <var>O</var> with argument <span class="string
      value">"message"</span>.</li>

  <li>If <var>msg</var> is <span class="value">undefined</span>, then let
      <var>msg</var> be the empty String; else let <var>msg</var> be
      <a href="#sec-9.8">ToString</a>(<var>msg</var>).</li>

  <li>If <var>name</var> and <var>msg</var> are both the empty String, return
      <span class="string value">"Error"</span>.</li>

  <li>If <var>name</var> is the empty String, return <var>msg</var>.</li>

  <li>If <var>msg</var> is the empty String, return <var>name</var>.</li>

  <li>Return the result of concatenating <var>name</var>, <span class="string
      value">":"</span>, a single space character, and <var>msg</var>.</li>


</ol>
</section>
</section>

<section id="sec-15.11.5">
<h1><span class="secnum"><a href="#sec-15.11.5"
    title="link to this section">15.11.5</a></span>
    Properties of Error Instances</h1>

<p>Error instances inherit properties from the Error prototype object and their
[[Class]] internal property value is <span class="string value">"Error"</span>.
Error instances have no special properties.</p>
</section>

<section id="sec-15.11.6">
<h1><span class="secnum"><a href="#sec-15.11.6"
    title="link to this section">15.11.6</a></span>
    Native Error Types Used in This Standard</h1>

<p>One of the <var>NativeError</var> objects below is thrown when a runtime
error is detected. All of these objects share the same structure, as described
in <a href="#sec-15.11.7">15.11.7</a>.</p>


<section id="sec-15.11.6.1">
<h1><span class="secnum"><a href="#sec-15.11.6.1"
    title="link to this section">15.11.6.1</a></span>
    EvalError</h1>

<p>This exception is not currently used within this specification. This object
remains for compatibility with previous editions of this specification.</p>
</section>

<section id="sec-15.11.6.2">
<h1><span class="secnum"><a href="#sec-15.11.6.2"
    title="link to this section">15.11.6.2</a></span>
    RangeError</h1>

<p>Indicates a numeric value has exceeded the allowable range.
<a href="#sec-15.4.2.2">See 15.4.2.2</a>, <a href="#sec-15.4.5.1">15.4.5.1</a>,
<a href="#sec-15.7.4.2">15.7.4.2</a>, <a href="#sec-15.7.4.5">15.7.4.5</a>,
<a href="#sec-15.7.4.6">15.7.4.6</a>, and <a href="#sec-15.7.4.7">15.7.4.7</a>,
<a href="#sec-15.9.5.43">15.9.5.43</a>.</p>
</section>

<section id="sec-15.11.6.3">
<h1><span class="secnum"><a href="#sec-15.11.6.3"
    title="link to this section">15.11.6.3</a></span>
    ReferenceError</h1>

<p>Indicate that an invalid reference value has been detected.
<a href="#sec-8.7.1">See 8.7.1</a>, <a href="#sec-8.7.2">8.7.2</a>,
<a href="#sec-10.2.1">10.2.1</a>, <a href="#sec-10.2.1.1.4">10.2.1.1.4</a>,
<a href="#sec-10.2.1.2.4">10.2.1.2.4</a>, and
<a href="#sec-11.13.1">11.13.1</a>.</p>
</section>

<section id="sec-15.11.6.4">
<h1><span class="secnum"><a href="#sec-15.11.6.4"
    title="link to this section">15.11.6.4</a></span>
    SyntaxError</h1>

<p>Indicates that a parsing error has occurred. <a href="#sec-11.1.5">See
11.1.5</a>, <a href="#sec-11.3.1">11.3.1</a>, <a href="#sec-11.3.2">11.3.2</a>,
<a href="#sec-11.4.1">11.4.1</a>, <a href="#sec-11.4.4">11.4.4</a>,
<a href="#sec-11.4.5">11.4.5</a>, <a href="#sec-11.13.1">11.13.1</a>,
<a href="#sec-11.13.2">11.13.2</a>, <a href="#sec-12.2.1">12.2.1</a>,
<a href="#sec-12.10.1">12.10.1</a>, <a href="#sec-12.14.1">12.14.1</a>,
<a href="#sec-13.1">13.1</a>, <a href="#sec-15.1.2.1">15.1.2.1</a>,
<a href="#sec-15.3.2.1">15.3.2.1</a>, <a href="#sec-15.10.2.2">15.10.2.2</a>,
<a href="#sec-15.10.2.5">15.10.2.5</a>, <a href="#sec-15.10.2.9">15.10.2.9</a>,
<a href="#sec-15.10.2.15">15.10.2.15</a>,
<a href="#sec-15.10.2.19">15.10.2.19</a>,
<a href="#sec-15.10.4.1">15.10.4.1</a>, and
<a href="#sec-15.12.2">15.12.2</a>.</p>
</section>

<section id="sec-15.11.6.5">
<h1><span class="secnum"><a href="#sec-15.11.6.5"
    title="link to this section">15.11.6.5</a></span>
    TypeError</h1>

<p>Indicates the actual type of an operand is different than the expected type.
<a href="#sec-8.6.2">See 8.6.2</a>, <a href="#sec-8.7.2">8.7.2</a>,
<a href="#sec-8.10.5">8.10.5</a>, <a href="#sec-8.12.5">8.12.5</a>,
<a href="#sec-8.12.7">8.12.7</a>, <a href="#sec-8.12.8">8.12.8</a>,
<a href="#sec-8.12.9">8.12.9</a>, <a href="#sec-9.9">9.9</a>,
<a href="#sec-9.10">9.10</a>, <a href="#sec-10.2.1">10.2.1</a>,
<a href="#sec-10.2.1.1.3">10.2.1.1.3</a>, <a href="#sec-10.6">10.6</a>,
<a href="#sec-11.2.2">11.2.2</a>, <a href="#sec-11.2.3">11.2.3</a>,
<a href="#sec-11.4.1">11.4.1</a>, <a href="#sec-11.8.6">11.8.6</a>,
<a href="#sec-11.8.7">11.8.7</a>, <a href="#sec-11.3.1">11.3.1</a>,
<a href="#sec-13.2">13.2</a>, <a href="#sec-13.2.3">13.2.3</a>,
<a href="#sec-15">15</a>, <a href="#sec-15.2.3.2">15.2.3.2</a>,
<a href="#sec-15.2.3.3">15.2.3.3</a>, <a href="#sec-15.2.3.4">15.2.3.4</a>,
<a href="#sec-15.2.3.5">15.2.3.5</a>, <a href="#sec-15.2.3.6">15.2.3.6</a>,
<a href="#sec-15.2.3.7">15.2.3.7</a>, <a href="#sec-15.2.3.8">15.2.3.8</a>,
<a href="#sec-15.2.3.9">15.2.3.9</a>, <a href="#sec-15.2.3.10">15.2.3.10</a>,
<a href="#sec-15.2.3.11">15.2.3.11</a>, <a href="#sec-15.2.3.12">15.2.3.12</a>,
<a href="#sec-15.2.3.13">15.2.3.13</a>, <a href="#sec-15.2.3.14">15.2.3.14</a>,
<a href="#sec-15.2.4.3">15.2.4.3</a>, <a href="#sec-15.3.4.2">15.3.4.2</a>,
<a href="#sec-15.3.4.3">15.3.4.3</a>, <a href="#sec-15.3.4.4">15.3.4.4</a>,
<a href="#sec-15.3.4.5">15.3.4.5</a>, <a href="#sec-15.3.4.5.2">15.3.4.5.2</a>,
<a href="#sec-15.3.4.5.3">15.3.4.5.3</a>, <a href="#sec-15.3.5">15.3.5</a>,
<a href="#sec-15.3.5.3">15.3.5.3</a>, <a href="#sec-15.3.5.4">15.3.5.4</a>,
<a href="#sec-15.4.4.3">15.4.4.3</a>, <a href="#sec-15.4.4.11">15.4.4.11</a>,
<a href="#sec-15.4.4.16">15.4.4.16</a>, <a href="#sec-15.4.4.17">15.4.4.17</a>,
<a href="#sec-15.4.4.18">15.4.4.18</a>, <a href="#sec-15.4.4.19">15.4.4.19</a>,
<a href="#sec-15.4.4.20">15.4.4.20</a>, <a href="#sec-15.4.4.21">15.4.4.21</a>,
<a href="#sec-15.4.4.22">15.4.4.22</a>, <a href="#sec-15.4.5.1">15.4.5.1</a>,
<a href="#sec-15.5.4.2">15.5.4.2</a>, <a href="#sec-15.5.4.3">15.5.4.3</a>,
<a href="#sec-15.6.4.2">15.6.4.2</a>, <a href="#sec-15.6.4.3">15.6.4.3</a>,
<a href="#sec-15.7.4">15.7.4</a>, <a href="#sec-15.7.4.2">15.7.4.2</a>,
<a href="#sec-15.7.4.4">15.7.4.4</a>, <a href="#sec-15.9.5">15.9.5</a>,
<a href="#sec-15.9.5.44">15.9.5.44</a>, <a href="#sec-15.10.4.1">15.10.4.1</a>,
<a href="#sec-15.10.6">15.10.6</a>, <a href="#sec-15.11.4.4">15.11.4.4</a> and
<a href="#sec-15.12.3">15.12.3</a>.</p>
</section>

<section id="sec-15.11.6.6">
<h1><span class="secnum"><a href="#sec-15.11.6.6"
    title="link to this section">15.11.6.6</a></span>
    URIError</h1>

<p>Indicates that one of the global URI handling functions was used in a way
that is incompatible with its definition. <a href="#sec-15.1.3">See
15.1.3</a>.</p>
</section>
</section>

<section id="sec-15.11.7">
<span class="pagemark" id="page209">PDF page 209 / printed page 199</span>
<h1><span class="secnum"><a href="#sec-15.11.7"
    title="link to this section">15.11.7</a></span>
    <var>NativeError</var> Object Structure</h1>

<p>When an ECMAScript implementation detects a runtime error, it throws an
instance of one of the <var>NativeError</var> objects defined in
<a href="#sec-15.11.6">15.11.6</a>. Each of these objects has the structure
described below, differing only in the name used as the constructor name
instead of <var>NativeError</var>, in the <code class="propname">name</code>
property of the prototype object, and in the implementation-defined
<code class="propname">message</code> property of the prototype object.</p>

<p>For each error object, references to <var>NativeError</var> in the
definition should be replaced with the appropriate error object name from
<a href="#sec-15.11.6">15.11.6</a>.</p>


<section id="sec-15.11.7.1">
<h1><span class="secnum"><a href="#sec-15.11.7.1"
    title="link to this section">15.11.7.1</a></span>
    <var>NativeError</var> Constructors Called as Functions</h1>

<p>When a <var>NativeError</var> constructor is called as a function rather
than as a constructor, it creates and initialises a new object. A call of the
object as a function is equivalent to calling it as a constructor with the same
arguments.</p>
</section>

<section id="sec-15.11.7.2">
<h1><span class="secnum"><a href="#sec-15.11.7.2"
    title="link to this section">15.11.7.2</a></span>
    <var>NativeError</var> (message)</h1>

<p>The [[Prototype]] internal property of the newly constructed object is set
to the prototype object for this error constructor. The [[Class]] internal
property of the newly constructed object is set to <span class="string
value">"Error"</span>. The [[Extensible]] internal property of the newly
constructed object is set to <span class="value">true</span>.</p>

<p>If the argument <var>message</var> is not
<span class="value">undefined</span>, the <code class="propname">message</code>
own property of the newly constructed object is set to
<a href="#sec-9.8">ToString</a>(<var>message</var>).</p>
</section>

<section id="sec-15.11.7.3">
<h1><span class="secnum"><a href="#sec-15.11.7.3"
    title="link to this section">15.11.7.3</a></span>
    The <var>NativeError</var> Constructors</h1>

<p>When a <var>NativeError</var> constructor is called as part of a
<code class="t">new</code> expression, it is a constructor: it initialises the
newly created object.</p>
</section>

<section id="sec-15.11.7.4">
<h1><span class="secnum"><a href="#sec-15.11.7.4"
    title="link to this section">15.11.7.4</a></span>
    New <var>NativeError</var> (message)</h1>

<p>The [[Prototype]] internal property of the newly constructed object is set
to the prototype object for this <var>NativeError</var> constructor. The
[[Class]] internal property of the newly constructed object is set to
<span class="string value">"Error"</span>. The [[Extensible]] internal property
of the newly constructed object is set to <span class="value">true</span>.</p>

<p>If the argument <var>message</var> is not
<span class="value">undefined</span>, the <code class="propname">message</code>
property of the newly constructed object is set to
<a href="#sec-9.8">ToString</a>(<var>message</var>).</p>
</section>

<section id="sec-15.11.7.5">
<h1><span class="secnum"><a href="#sec-15.11.7.5"
    title="link to this section">15.11.7.5</a></span>
    Properties of the <var>NativeError</var> Constructors</h1>

<p>The value of the [[Prototype]] internal property of a <var>NativeError</var>
constructor is <a href="#sec-15.3.4">the Function prototype object
(15.3.4)</a>.</p>

<p>Besides the internal properties and the <code class="propname">length</code>
property (whose value is <span class="value">1</span>), each
<var>NativeError</var> constructor has the following property:</p>
</section>

<section id="sec-15.11.7.6">
<h1><span class="secnum"><a href="#sec-15.11.7.6"
    title="link to this section">15.11.7.6</a></span>
    <var>NativeError</var>.prototype</h1>

<p>The initial value of
<span class="libname"><var>NativeError</var>.prototype</span> is a
<var>NativeError</var> prototype object
(<a href="#sec-15.11.7.7">15.11.7.7</a>). Each <var>NativeError</var>
constructor has a separate prototype object.</p>

<p>This property has the attributes { [[Writable]]:
<span class="value">false</span>, [[Enumerable]]:
<span class="value">false</span>, [[Configurable]]:
<span class="value">false</span> }.</p>
</section>

<section id="sec-15.11.7.7">
<span class="pagemark" id="page210">PDF page 210 / printed page 200</span>
<h1><span class="secnum"><a href="#sec-15.11.7.7"
    title="link to this section">15.11.7.7</a></span>
    Properties of the <var>NativeError</var> Prototype Objects</h1>

<p>Each <var>NativeError</var> prototype object is an Error object (its
[[Class]] is <span class="string value">"Error"</span>).</p>

<p>The value of the [[Prototype]] internal property of each
<var>NativeError</var> prototype object is the standard built-in Error
prototype object (<a href="#sec-15.11.4">15.11.4</a>).</p>
</section>

<section id="sec-15.11.7.8">
<h1><span class="secnum"><a href="#sec-15.11.7.8"
    title="link to this section">15.11.7.8</a></span>
    <var>NativeError</var>.prototype.constructor</h1>

<p>The initial value of the <code class="propname">constructor</code> property
of the prototype for a given <var>NativeError</var> constructor is the
<var>NativeError</var> constructor function itself
(<a href="#sec-15.11.7">15.11.7</a>).</p>
</section>

<section id="sec-15.11.7.9">
<h1><span class="secnum"><a href="#sec-15.11.7.9"
    title="link to this section">15.11.7.9</a></span>
    <var>NativeError</var>.prototype.name</h1>

<p>The initial value of the <code class="propname">name</code> property of the
prototype for a given <var>NativeError</var> constructor is the name of the
constructor (the name used instead of <var>NativeError</var>).</p>
</section>

<section id="sec-15.11.7.10">
<h1><span class="secnum"><a href="#sec-15.11.7.10"
    title="link to this section">15.11.7.10</a></span>
    <var>NativeError</var>.prototype.message</h1>

<p>The initial value of the <code class="propname">message</code> property of
the prototype for a given <var>NativeError</var> constructor is the empty
String.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The prototypes for the NativeError
  constructors do not themselves provide a
  <span class="libname">toString</span> function, but instances of errors will
  inherit it from the Error prototype object.</p>
</div>
</section>

<section id="sec-15.11.7.11">
<h1><span class="secnum"><a href="#sec-15.11.7.11"
    title="link to this section">15.11.7.11</a></span>
    Properties of <var>NativeError</var> Instances</h1>

<p><var>NativeError</var> instances inherit properties from their
<var>NativeError</var> prototype object and their [[Class]] internal property
value is <span class="string value">"Error"</span>. <var>NativeError</var>
instances have no special properties.</p>
</section>
</section>
</section>


<section id="sec-15.12">
<h1><span class="secnum"><a href="#sec-15.12"
    title="link to this section">15.12</a></span>
    The JSON Object</h1>

<p>The <span class="libname">JSON</span> object is a single object that
contains two functions, <span class="libname">parse</span> and
<span class="libname">stringify</span>, that are used to parse and construct
JSON texts. The JSON Data Interchange Format is described in RFC 4627
&lt;<a href="http://www.ietf.org/rfc/rfc4627.txt">http://www.ietf.org/rfc/rfc4627.txt</a>&gt;.
The JSON interchange format used in this specification is exactly that
described by RFC 4627 with two exceptions:</p>

<ul>

  <li>The top level <span class="nt">JSONText</span> production of the
      ECMAScript JSON grammar may consist of any
      <span class="nt">JSONValue</span> rather than being restricted to being a
      <span class="nt">JSONObject</span> or a <span class="nt">JSONArray</span>
      as specified by RFC 4627.</li>

  <li>Conforming implementations of <span class="libname">JSON.parse</span> and
      <span class="libname">JSON.stringify</span> must support the exact
      interchange format described in this specification without any deletions
      or extensions to the format. This differs from RFC 4627 which permits a
      JSON parser to accept non-JSON forms and extensions.</li>

</ul>

<p>The value of the [[Prototype]] internal property of the JSON object is the
standard built-in Object prototype object (<a href="#sec-15.2.4">15.2.4</a>).
The value of the [[Class]] internal property of the JSON object is
<span class="string value">"JSON"</span>. The value of the [[Extensible]]
internal property of the JSON object is set to
<span class="value">true</span>.</p>

<p>The JSON object does not have a [[Construct]] internal property; it is not
possible to use the JSON object as a constructor with the
<code class="t">new</code> operator.</p>

<p>The JSON object does not have a [[Call]] internal property; it is not
possible to invoke the JSON object as a function.</p>


<span class="pagemark" id="page211">PDF page 211 / printed page 201</span>

<section id="sec-15.12.1">
<h1><span class="secnum"><a href="#sec-15.12.1"
    title="link to this section">15.12.1</a></span>
    The JSON Grammar</h1>

<p>JSON.stringify produces a String that conforms to the following JSON
grammar. JSON.parse accepts a String that conforms to the JSON grammar.</p>

<section id="sec-15.12.1.1">
<h1><span class="secnum"><a href="#sec-15.12.1.1"
    title="link to this section">15.12.1.1</a></span>
    The JSON Lexical Grammar</h1>

<p>JSON is similar to ECMAScript source text in that it consists of a sequence
of characters conforming to the rules of
<span class="nt">SourceCharacter</span>. The JSON Lexical Grammar defines the
tokens that make up a JSON text similar to the manner that the ECMAScript
lexical grammar defines the tokens of an ECMAScript source test. The JSON
Lexical grammar only recognizes the white space character specified by the
production <span class="nt">JSONWhiteSpace</span>. The JSON lexical grammar
shares some productions with the ECMAScript lexical grammar. All nonterminal
symbols of the grammar that do not begin with the characters &ldquo;JSON&rdquo;
are defined by productions of the ECMAScript lexical grammar.</p>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-JSONWhiteSpace">
    <div class="lhs">
      <span class="nt">JSONWhiteSpace</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      &lt;TAB&gt;
    </div>
    <div class="rhs">
      &lt;CR&gt;
    </div>
    <div class="rhs">
      &lt;LF&gt;
    </div>
    <div class="rhs">
      &lt;SP&gt;
    </div>
  </div>

  <div class="gp" id="def-JSONString">
    <div class="lhs">
      <span class="nt">JSONString</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">"</code> <span class="nt">JSONStringCharacters</span><sub>opt</sub> <code class="t">"</code>
    </div>
  </div>

  <div class="gp" id="def-JSONStringCharacters">
    <div class="lhs">
      <span class="nt">JSONStringCharacters</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONStringCharacter</span> <span class="nt">JSONStringCharacters</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-JSONStringCharacter">
    <div class="lhs">
      <span class="nt">JSONStringCharacter</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not</span> <span class="chgloss">double-quote</span> <code class="t">&quot;</code> <span class="grhsmod">or</span> <span class="chgloss">backslash</span> <code class="t">\</code> <span class="grhsmod">or</span> <span class="chgloss">U+0000 thru U+001F</span>
    </div>
    <div class="rhs">
      <code class="t">\</code> <span class="nt">JSONEscapeSequence</span>
    </div>
  </div>

  <div class="gp" id="def-JSONEscapeSequence">
    <div class="lhs">
      <span class="nt">JSONEscapeSequence</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONEscapeCharacter</span>
    </div>
    <div class="rhs">
      <span class="nt">UnicodeEscapeSequence</span>
    </div>
  </div>

  <div class="gp" id="def-JSONEscapeCharacter">
    <div class="lhs">
      <span class="nt">JSONEscapeCharacter</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div>
      <code class="t">&quot;</code>
      <code class="t">/</code>
      <code class="t">\</code>
      <code class="t">b</code>
      <code class="t">f</code>
      <code class="t">n</code>
      <code class="t">r</code>
      <code class="t">t</code>
    </div>
  </div>

  <div class="gp" id="def-JSONNumber">
    <div class="lhs">
      <span class="nt">JSONNumber</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">-</code><sub>opt</sub>  <span class="nt">DecimalIntegerLiteral</span> <span class="nt">JSONFraction</span><sub>opt</sub>  <span class="nt">ExponentPart</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp" id="def-JSONFraction">
    <div class="lhs">
      <span class="nt">JSONFraction</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">.</code> <span class="nt">DecimalDigits</span>
    </div>
  </div>

  <div class="gp" id="def-JSONNullLiteral">
    <div class="lhs">
      <span class="nt">JSONNullLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">NullLiteral</span>
    </div>
  </div>

  <div class="gp" id="def-JSONBooleanLiteral">
    <div class="lhs">
      <span class="nt">JSONBooleanLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">BooleanLiteral</span>
    </div>
  </div>
</div>

</section>

<section id="sec-15.12.1.2">
<h1><span class="secnum"><a href="#sec-15.12.1.2"
    title="link to this section">15.12.1.2</a></span>
     The JSON Syntactic Grammar</h1>

<p>The JSON Syntactic Grammar defines a valid JSON text in terms of tokens
defined by the JSON lexical grammar. The goal symbol of the grammar is
<span class="nt">JSONText</span>.</p>


<span class="pagemark" id="page212">PDF page 212 / printed page 202</span>

<div class="syntax">
  <h2>Syntax</h2>

  <div class="gp" id="def-JSONText">
    <div class="lhs">
      <span class="nt">JSONText</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONValue</span>
    </div>
  </div>

  <div class="gp" id="def-JSONValue">
    <div class="lhs">
      <span class="nt">JSONValue</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONNullLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONBooleanLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONObject</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONArray</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONString</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONNumber</span>
    </div>
  </div>

  <div class="gp" id="def-JSONObject">
    <div class="lhs">
      <span class="nt">JSONObject</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">{</code> <code class="t">}</code>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">JSONMemberList</span> <code class="t">}</code>
    </div>
  </div>

  <div class="gp" id="def-JSONMember">
    <div class="lhs">
      <span class="nt">JSONMember</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONString</span> <code class="t">:</code> <span class="nt">JSONValue</span>
    </div>
  </div>

  <div class="gp" id="def-JSONMemberList">
    <div class="lhs">
      <span class="nt">JSONMemberList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONMember</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONMemberList</span> <code class="t">,</code> <span class="nt">JSONMember</span>
    </div>
  </div>

  <div class="gp" id="def-JSONArray">
    <div class="lhs">
      <span class="nt">JSONArray</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">[</code> <code class="t">]</code>
    </div>
    <div class="rhs">
      <code class="t">[</code> <span class="nt">JSONElementList</span> <code class="t">]</code>
    </div>
  </div>

  <div class="gp" id="def-JSONElementList">
    <div class="lhs">
      <span class="nt">JSONElementList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONValue</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONElementList</span> <code class="t">,</code> <span class="nt">JSONValue</span>
    </div>
  </div>
</div>

</section>
</section>

<section id="sec-15.12.2">
<h1><span class="secnum"><a href="#sec-15.12.2"
    title="link to this section">15.12.2</a></span>
    parse ( text [ , reviver ] )</h1>

<p>The <span class="libname">parse</span> function parses a JSON text (a
JSON-formatted String) and produces an ECMAScript value. The JSON format is a
restricted form of ECMAScript literal. JSON objects are realized as ECMAScript
objects. JSON arrays are realized as ECMAScript arrays. JSON strings, numbers,
booleans, and null are realized as ECMAScript Strings, Numbers, Booleans, and
<span class="value">null</span>. JSON uses a more limited set of white space
characters than <span class="nt">WhiteSpace</span> and allows Unicode code
points U+2028 and U+2029 to directly appear in
<span class="nt">JSONString</span> literals without using an escape sequence.
The process of parsing is similar to <a href="#sec-11.1.4">11.1.4</a> and
<a href="#sec-11.1.5">11.1.5</a> as constrained by the JSON grammar.</p>

<p>The optional <var>reviver</var> parameter is a function that takes two
parameters, (<var>key</var> and <var>value</var>). It can filter and transform
the results. It is called with each of the <var>key</var>/<var>value</var>
pairs produced by the parse, and its return value is used instead of the
original value. If it returns what it received, the structure is not modified.
If it returns <span class="value">undefined</span> then the property is deleted
from the result.</p>

<ol class="proc">
  <li>Let <var>JText</var> be
      <a href="#sec-9.8">ToString</a>(<var>text</var>).</li>

  <li>Parse <var>JText</var> using the grammars in
      <a href="#sec-15.12.1">15.12.1</a>. Throw a
      <span class="errorname">SyntaxError</span> exception if <var>JText</var>
      did not conform to the JSON grammar for the goal symbol
      <span class="nt">JSONText</span>.</li>

  <li>Let <var>unfiltered</var> be the result of parsing and evaluating
      <var>JText</var> as if it was the source text of an ECMAScript
      <span class="nt">Program</span> but using
      <span class="nt">JSONString</span> in place of
      <span class="nt">StringLiteral</span>. Note that since <var>JText</var>
      conforms to the JSON grammar this result will be either a primitive value
      or an object that is defined by either an
      <span class="nt">ArrayLiteral</span> or an
      <span class="nt">ObjectLiteral</span>.</li>

  <li>If <a href="#sec-9.11">IsCallable</a>(<var>reviver</var>) is
      <span class="value">true</span>, then
    <ol class="block">
      <li>Let <var>root</var> be a new object created as if by the expression
          <code class="expr">new Object()</code>, where
          <code class="expr">Object</code> is the standard built-in constructor
          with that name.</li>

      <li>Call the [[DefineOwnProperty]] internal method of <var>root</var>
          with the empty String, the <a href="#sec-8.10">PropertyDescriptor</a>
          {[[Value]]: <var>unfiltered</var>, [[Writable]]:
          <span class="value">true</span>, [[Enumerable]]:
          <span class="value">true</span>, [[Configurable]]:
          <span class="value">true</span>}, and
          <span class="value">false</span> as arguments.</li>

      <li><span class="pagemark" id="page213">PDF page 213 / printed page
          203</span>Return the result of calling the abstract operation Walk,
          passing <var>root</var> and the empty String. The abstract operation
          Walk is described below.</li>
    </ol>
  </li>

  <li>Else
    <ol class="block">
      <li>Return <var>unfiltered</var>.</li>
    </ol>
  </li>
</ol>

<p>The abstract operation Walk is a recursive abstract operation that takes two
parameters: a <var>holder</var> object and the String <var>name</var> of a
property in that object. Walk uses the value of <var>reviver</var> that was
originally passed to the above parse function.</p>

<ol class="proc">
  <li>Let <var>val</var> be the result of calling the [[Get]] internal method
      of <var>holder</var> with argument <var>name</var>.</li>

  <li>If <var>val</var> is an object, then
    <ol class="block">
      <li>If the [[Class]] internal property of <var>val</var>
          is <span class="string value">"Array"</span>
        <ol class="block">
          <li>Set <var>I</var> to 0.</li>

          <li>Let <var>len</var> be the result of calling the [[Get]] internal
              method of <var>val</var> with argument
              <span class="string value">"length"</span>.</li>

          <li>Repeat while <var>I</var> &lt; <var>len</var>,
            <ol class="block">
              <li>Let <var>newElement</var> be the result of calling the
                  abstract operation Walk, passing <var>val</var>
                  and <a href="#sec-9.8">ToString</a>(<var>I</var>).</li>

              <li>If <var>newElement</var> is <span class="value">undefined</span>, then
                <ol class="block">
                  <li>Call the [[Delete]] internal method of <var>val</var>
                      with <a href="#sec-9.8">ToString</a>(<var>I</var>) and
                      <span class="value">false</span> as arguments.</li>
                </ol>
              </li>

              <li>Else
                <ol class="block">
                  <li>Call the [[DefineOwnProperty]] internal method of
                      <var>val</var> with
                      arguments <a href="#sec-9.8">ToString</a>(<var>I</var>),
                      the <a href="#sec-8.10">Property Descriptor</a> {[[Value]]:
                      <var>newElement</var>, [[Writable]]: true,
                      [[Enumerable]]: true, [[Configurable]]: true}, and
                      <span class="value">false</span>.</li>
                </ol>
              </li>

              <li>Add 1 to <var>I</var>.</li>
            </ol>
          </li>
        </ol>
      </li>

      <li>Else
        <ol class="block">
          <li>Let <var>keys</var> be an internal <a href="#sec-8.8">List</a> of String values
              consisting of the names of all the own properties of
              <var>val</var> whose [[Enumerable]] attribute is
              <span class="value">true</span>. The ordering of the Strings
              should be the same as that used by the <span class="libname">Object.keys</span>
              standard built-in function.</li>

          <li>For each String <var>P</var> in <var>keys</var> do,
            <ol class="block">
              <li>Let <var>newElement</var> be the result of calling the
                  abstract operation Walk, passing <var>val</var> and
                  <var>P</var>.</li>

              <li>If <var>newElement</var> is <span class="value">undefined</span>, then
                <ol class="block">
                  <li>Call the [[Delete]] internal method of <var>val</var>
                      with <var>P</var> and <span class="value">false</span> as
                      arguments.</li>
                </ol>
              </li>

              <li>Else
                <ol class="block">
                  <li>Call the [[DefineOwnProperty]] internal method of
                      <var>val</var> with arguments <var>P</var>, the <a href="#sec-8.10">Property
                      Descriptor</a> {[[Value]]: <var>newElement</var>,
                      [[Writable]]: <span class="value">true</span>,
                      [[Enumerable]]: <span class="value">true</span>,
                      [[Configurable]]: <span class="value">true</span>}, and
                      <span class="value">false</span>.</li>
                </ol>
              </li>
            </ol>
          </li>
        </ol>
      </li>
    </ol>
  </li>

  <li>Return the result of calling the [[Call]] internal method of
      <var>reviver</var> passing <var>holder</var> as the
      <span class="this">this</span> value and with an argument list consisting
      of <var>name</var> and <var>val</var>.</li>
</ol>

<p>It is not permitted for a conforming implementation of
<span class="libname">JSON.parse</span> to extend the JSON grammars. If an
implementation wishes to support a modified or extended JSON interchange format
it must do so by defining a different parse function.</p>

<div class="note">
  <p><span class="nh">NOTE</span> In the case where there are duplicate name
  Strings within an object, lexically preceding values for the same key shall
  be overwritten.</p>
</div>
</section>

<section id="sec-15.12.3">
<h1><span class="secnum"><a href="#sec-15.12.3"
    title="link to this section">15.12.3</a></span>
    stringify ( value [ , replacer [ , space ] ] )</h1>

<p>The <span class="libname">stringify</span> function returns a String in JSON
format representing an ECMAScript value. It can take three parameters. The
first parameter is required. The <var>value</var> parameter is an ECMAScript
value, which is usually an object or array, although it can also be a String,
Boolean, Number or <span class="value">null</span>. The optional
<var>replacer</var> parameter is either a function that alters the way objects
and arrays are stringified, or an array of Strings and Numbers that acts as a
white list for selecting the object properties that will be stringified. The
optional <var>space</var> parameter is a String or Number that allows the
result to have white space injected into it to improve human readability.</p>

<p><span class="pagemark" id="page214">PDF page 214 / printed page 204</span>
These are the steps in stringifying an object:</p>

<ol class="proc">
  <li>Let <var>stack</var> be an empty <a href="#sec-8.8">List</a>.</li>

  <li>Let <var>indent</var> be the empty String.</li>

  <li>Let <var>PropertyList</var> and <var>ReplacerFunction</var> be
      <span class="value">undefined</span>.</li>

  <li>If <a href="#def-type">Type</a>(<var>replacer</var>) is Object, then
    <ol class="block">
      <li>If <a href="#sec-9.11">IsCallable</a>(<var>replacer</var>) is <span class="value">true</span>,
          then
        <ol class="block">
          <li>Let <var>ReplacerFunction</var> be <var>replacer</var>.</li>
        </ol>
      </li>

      <li>Else if the [[Class]] internal property of <var>replacer</var>
          is <span class="string value">"Array"</span>, then
        <ol class="block">
          <li>Let <var>PropertyList</var> be an empty internal
              <a href="#sec-8.8">List</a>.</li>

          <li>For each value <var>v</var> of a property of <var>replacer</var>
              that has an array index property name. The properties are
              enumerated in the ascending array index order of their names.
            <ol class="block">
              <li>Let <var>item</var> be
                  <span class="value">undefined</span>.</li>

              <li>If <a href="#def-type">Type</a>(<var>v</var>) is String then
                  let <var>item</var> be <var>v</var>.</li>

              <li>Else if <a href="#def-type">Type</a>(<var>v</var>) is Number
                  then let <var>item</var>
                  be <a href="#sec-9.8">ToString</a>(<var>v</var>).</li>

              <li>Else if <a href="#def-type">Type</a>(<var>v</var>) is Object
                  then,
                <ol class="block">
                  <li>If the [[Class]] internal property of <var>v</var> is
                      <span class="string value">"String"</span> or <span class="string value">"Number"</span>
                      then let <var>item</var>
                      be <a href="#sec-9.8">ToString</a>(<var>v</var>).</li>
                </ol>
              </li>

              <li>If <var>item</var> is not undefined and <var>item</var> is not
                  currently an element of <var>PropertyList</var> then,
                <ol class="block">
                  <li>Append <var>item</var> to the end of
                      <var>PropertyList</var>.</li>
                </ol>
              </li>
            </ol>
          </li>
        </ol>
      </li>
    </ol>
  </li>

  <li>If <a href="#def-type">Type</a>(<var>space</var>) is Object then,
    <ol class="block">
      <li>If the [[Class]] internal property of <var>space</var>
          is <span class="string value">"Number"</span> then,
        <ol class="block">
          <li>Let <var>space</var>
              be <a href="#sec-9.3">ToNumber</a>(<var>space</var>).</li>
        </ol>
      </li>

      <li>Else if the [[Class]] internal property of <var>space</var>
          is <span class="string value">"String"</span> then,
        <ol class="block">
          <li>Let <var>space</var>
              be <a href="#sec-9.8">ToString</a>(<var>space</var>).</li>
        </ol>
      </li>
    </ol>
  </li>

  <li>If <a href="#def-type">Type</a>(<var>space</var>) is Number
    <ol class="block">
      <li>Let <var>space</var> be
          min(10, <a href="#sec-9.4">ToInteger</a>(<var>space</var>)).</li>

      <li>Set <var>gap</var> to a String containing <var>space</var> space
          characters. This will be the empty String if <var>space</var> is less
          than 1.</li>
    </ol>
  </li>

  <li>Else if <a href="#def-type">Type</a>(<var>space</var>) is String
    <ol class="block">
      <li>If the number of characters in <var>space</var> is 10 or less, set
          <var>gap</var> to <var>space</var> otherwise set <var>gap</var> to a
          String consisting of the first 10 characters of
          <var>space</var>.</li>
    </ol>
  </li>

  <li>Else
    <ol class="block">
      <li>Set <var>gap</var> to the empty String.</li>
    </ol>
  </li>

  <li>Let <var>wrapper</var> be a new object created as if by the expression
      <code class="expr">new Object()</code>, where
      <code class="expr">Object</code> is the standard built-in constructor
      with that name.</li>

  <li>Call the [[DefineOwnProperty]] internal method of <var>wrapper</var> with
      arguments the empty String, the <a href="#sec-8.10">Property
      Descriptor</a> {[[Value]]: <var>value</var>, [[Writable]]:
      <span class="value">true</span>, [[Enumerable]]:
      <span class="value">true</span>, [[Configurable]]:
      <span class="value">true</span>}, and
      <span class="value">false</span>.</li>

  <li>Return the result of calling the abstract operation
      <span class="abstractopname">Str</span> with the empty String and
      <var>wrapper</var>.</li>
</ol>

<p>The abstract operation
<span class="abstractopname">Str</span>(<var>key</var>, <var>holder</var>) has
access to <var>ReplacerFunction</var> from the invocation of the
<span class="libname">stringify</span> method. Its algorithm is as follows:</p>

<ol class="proc">
  <li>Let <var>value</var> be the result of calling the [[Get]] internal method
      of <var>holder</var> with argument <var>key</var>.</li>

  <li>If <a href="#def-type">Type</a>(<var>value</var>) is Object, then
    <ol class="block">
      <li>Let <var>toJSON</var> be the result of calling the [[Get]] internal
          method of <var>value</var> with argument
          <span class="string value">"toJSON"</span>.</li>

      <li>If <a href="#sec-9.11">IsCallable</a>(<var>toJSON</var>) is <span class="value">true</span>
        <ol class="block">
          <li>Let <var>value</var> be the result of calling the [[Call]]
              internal method of <var>toJSON</var> passing <var>value</var> as
              the <span class="this">this</span> value and with an argument list consisting of
              <var>key</var>.</li>
        </ol>
      </li>
    </ol>
  </li>

  <li>If <var>ReplacerFunction</var> is not
      <span class="value">undefined</span>, then
    <ol class="block">
      <li>Let <var>value</var> be the result of calling the [[Call]] internal
          method of <var>ReplacerFunction</var> passing <var>holder</var> as
          the <span class="this">this</span> value and with an argument list consisting of
          <var>key</var> and <var>value</var>.</li>
    </ol>
  </li>

  <li>If <a href="#def-type">Type</a>(<var>value</var>) is Object then,
    <ol class="block">
      <li>If the [[Class]] internal property of <var>value</var>
          is <span class="string value">"Number"</span> then,
        <ol class="block">
          <li>Let <var>value</var>
              be <a href="#sec-9.3">ToNumber</a>(<var>value</var>).</li>
        </ol>
      </li>

      <li>Else if the [[Class]] internal property of <var>value</var>
          is <span class="string value">"String"</span> then,
        <ol class="block">
          <li>Let <var>value</var>
              be <a href="#sec-9.8">ToString</a>(<var>value</var>).</li>
        </ol>
      </li>

      <li>Else if the [[Class]] internal property of <var>value</var>
          is <span class="string value">"Boolean"</span> then,
        <ol class="block">
          <li>Let <var>value</var> be the value of the [[PrimitiveValue]]
              internal property of <var>value</var>.</li>
        </ol>
      </li>
    </ol>
  </li>

  <li><span class="pagemark" id="page215">PDF page 215 / printed page
      205</span>If <var>value</var> is <span class="value">null</span> then
      return <span class="string value">"null"</span>.</li>

  <li>If <var>value</var> is <span class="value">true</span> then return
      <span class="string value">"true"</span>.</li>

  <li>If <var>value</var> is <span class="value">false</span> then return
      <span class="string value">"false"</span>.</li>

  <li>If <a href="#def-type">Type</a>(<var>value</var>) is String, then return
      the result of calling the abstract operation
      <span class="abstractopname">Quote</span> with argument
      <var>value</var>.</li>

  <li>If <a href="#def-type">Type</a>(<var>value</var>) is Number
    <ol class="block">
      <li>If <var>value</var> is finite then
          return <a href="#sec-9.8">ToString</a>(<var>value</var>).</li>

      <li>Else, return <span class="string value">"null"</span>.</li>
    </ol>
  </li>

  <li>If <a href="#def-type">Type</a>(<var>value</var>) is Object, and
      <a href="#sec-9.11">IsCallable</a>(<var>value</var>) is
      <span class="value">false</span>
    <ol class="block">
      <li>If the [[Class]] internal property of <var>value</var>
          is <span class="string value">"Array"</span> then
        <ol class="block">
          <li>Return the result of calling the abstract operation
              <span class="abstractopname">JA</span> with argument
              <var>value</var>.</li>
        </ol>
      </li>

      <li>Else, return the result of calling the abstract operation
          <span class="abstractopname">JO</span> with argument
          <var>value</var>.</li>
    </ol>
  </li>

  <li>Return <span class="value">undefined</span>.</li>
</ol>

<p>The abstract operation
<span class="abstractopname">Quote</span>(<var>value</var>) wraps a String
value in double quotes and escapes characters within it.</p>

<ol class="proc">
  <li>Let <var>product</var> be the double quote character.</li>

  <li>For each character <var>C</var> in <var>value</var>
    <ol class="block">
      <li>If <var>C</var> is the double quote character or the backslash character
        <ol class="block">
          <li>Let <var>product</var> be the concatenation of <var>product</var>
              and the backslash character.</li>

          <li>Let <var>product</var> be the concatenation of <var>product</var>
              and <var>C</var>.</li>
        </ol>
      </li>

      <li>Else if <var>C</var> is backspace, formfeed, newline, carriage return, or
          tab
        <ol class="block">
          <li>Let <var>product</var> be the concatenation of <var>product</var>
              and the backslash character.</li>

          <li>Let <var>abbrev</var> be the character corresponding to the value
              of <var>C</var> as follows:
            <table class="lightweight-table">
              <tbody>
                <tr> <td>backspace</td> <td><span class="string value">"b"</span></td> </tr>
                <tr> <td>formfeed</td> <td><span class="string value">"f"</span></td> </tr>
                <tr> <td>newline</td> <td><span class="string value">"n"</span></td> </tr>
                <tr> <td>carriage return</td> <td><span class="string value">"r"</span></td> </tr>
                <tr> <td>tab</td> <td><span class="string value">"t"</span></td> </tr>
              </tbody>
            </table>
          </li>

          <li>Let <var>product</var> be the concatenation of <var>product</var>
              and <var>abbrev</var>.</li>
        </ol>
      </li>

      <li>Else if <var>C</var> is a control character having a code unit value less
          than the space character
        <ol class="block">
          <li>Let <var>product</var> be the concatenation of <var>product</var>
              and the backslash character.</li>

          <li>Let <var>product</var> be the concatenation of <var>product</var>
              and <span class="string value">"u"</span>.</li>

          <li>Let <var>hex</var> be the result of converting the numeric code
              unit value of <var>C</var> to a String of four hexadecimal
              digits.</li>

          <li>Let <var>product</var> be the concatenation of <var>product</var>
              and <var>hex</var>.</li>
        </ol>
      </li>

      <li>Else
        <ol class="block">
          <li>Let <var>product</var> be the concatenation of <var>product</var>
              and <var>C</var>.</li>
        </ol>
      </li>
    </ol>
  </li>

  <li>Let <var>product</var> be the concatenation of <var>product</var> and the
      double quote character.</li>

  <li>Return <var>product</var>.</li>
</ol>

<p>The abstract operation
<span class="abstractopname">JO</span>(<var>value</var>) serializes an object.
It has access to the <var>stack</var>, <var>indent</var>, <var>gap</var>,
<var>PropertyList</var>, <var>ReplacerFunction</var>, and <var>space</var> of
the invocation of the stringify method.</p>

<ol class="proc">
  <li>If <var>stack</var> contains <var>value</var> then throw a
      <span class="errorname">TypeError</span> exception because the structure
      is cyclical.</li>

  <li>Append <var>value</var> to <var>stack</var>.</li>

  <li>Let <var>stepback</var> be <var>indent</var>.</li>

  <li>Let <var>indent</var> be the concatenation of <var>indent</var> and
      <var>gap</var>.</li>

  <li>If <var>PropertyList</var> is not <span class="value">undefined</span>,
      then
    <ol class="block">
      <li>Let <var>K</var> be <var>PropertyList</var>.</li>
    </ol>
  </li>

  <li>Else
    <ol class="block">
      <li>Let <var>K</var> be an internal <a href="#sec-8.8">List</a> of Strings consisting of the
          names of all the own properties of <var>value</var> whose
          [[Enumerable]] attribute is <span class="value">true</span>. The
          ordering of the Strings should be the same as that used by the
          <span class="libname">Object.keys</span> standard built-in function.</li>
    </ol>
  </li>

  <li>Let <var>partial</var> be an empty <a href="#sec-8.8">List</a>.</li>

  <li>For each element <var>P</var> of <var>K</var>.
    <ol class="block">
      <li>Let <var>strP</var> be the result of calling the abstract operation
          <span class="abstractopname">Str</span> with arguments <var>P</var>
          and <var>value</var>.</li>

      <li>If <var>strP</var> is not <span class="value">undefined</span>
        <ol class="block">
          <li>Let <var>member</var> be the result of calling the abstract
              operation <span class="abstractopname">Quote</span> with argument
              <var>P</var>.</li>

          <li>Let <var>member</var> be the concatenation of <var>member</var>
              and the colon character.</li>

          <li>If <var>gap</var> is not the empty String
            <ol class="block">
              <li><span class="pagemark" id="page216">PDF page 216 / printed
                  page 206</span>Let <var>member</var> be the concatenation of
                  <var>member</var> and the <var>space</var> character.</li>
            </ol>
          </li>

          <li>Let <var>member</var> be the concatenation of <var>member</var>
              and <var>strP</var>.</li>

          <li>Append <var>member</var> to <var>partial</var>.</li>
        </ol>
      </li>
    </ol>
  </li>

  <li>If <var>partial</var> is <span class="spec value">empty</span>, then
    <ol class="block">
      <li>Let <var>final</var> be <span class="string value">"{}"</span>.</li>
    </ol>
  </li>

  <li>Else
    <ol class="block">
      <li>If <var>gap</var> is the empty String
        <ol class="block">
          <li>Let <var>properties</var> be a String formed by concatenating all
              the element Strings of <var>partial</var> with each adjacent pair
              of Strings separated with the comma character. A comma is not
              inserted either before the first String or after the last
              String.</li>

          <li>Let <var>final</var> be the result of concatenating
              <span class="string value">"{"</span>, <var>properties</var>, and
              <span class="string value">"}"</span>.</li>
        </ol>
      </li>

      <li>Else <var>gap</var> is not the empty String
        <ol class="block">
          <li>Let <var>separator</var> be the result of concatenating the comma
              character, the line feed character, and <var>indent</var>.</li>

          <li>Let <var>properties</var> be a String formed by concatenating all
              the element Strings of <var>partial</var> with each adjacent pair
              of Strings separated with <var>separator</var>. The
              <var>separator</var> String is not inserted either before the
              first String or after the last String.</li>

          <li>Let <var>final</var> be the result of concatenating
              <span class="string value">"{"</span>, the line feed character, <var>indent</var>,
              <var>properties</var>, the line feed character,
              <var>stepback</var>, and <span class="string value">"}"</span>.</li>
        </ol>
      </li>
    </ol>
  </li>

  <li>Remove the last element of <var>stack</var>.</li>

  <li>Let <var>indent</var> be <var>stepback</var>.</li>

  <li>Return <var>final</var>.</li>
</ol>

<p>The abstract operation
<span class="abstractopname">JA</span>(<var>value</var>) serializes an array.
It has access to the <var>stack</var>, <var>indent</var>, <var>gap</var>, and
<var>space</var> of the invocation of the stringify method. The representation
of arrays includes only the elements between zero and
<code class="expr"><var>array</var>.length - 1</code> inclusive. Named
properties are excluded from the stringification. An array is stringified as an
open left bracket, elements separated by comma, and a closing right
bracket.</p>

<ol class="proc">
  <li>If <var>stack</var> contains <var>value</var> then throw a
      <span class="errorname">TypeError</span> exception because the structure
      is cyclical.</li>

  <li>Append <var>value</var> to <var>stack</var>.</li>

  <li>Let <var>stepback</var> be <var>indent</var>.</li>

  <li>Let <var>indent</var> be the concatenation of <var>indent</var> and
      <var>gap</var>.</li>

  <li>Let <var>partial</var> be an empty <a href="#sec-8.8">List</a>.</li>

  <li>Let <var>len</var> be the result of calling the [[Get]] internal method
      of value with argument <span class="string value">"length"</span>.</li>

  <li>Let <var>index</var> be 0.</li>

  <li>Repeat while <var>index</var> &lt; <var>len</var>
    <ol class="block">
      <li>Let <var>strP</var> be the result of calling the abstract operation
          <span class="abstractopname">Str</span> with
          arguments <a href="#sec-9.8">ToString</a>(<var>index</var>) and
          <var>value</var>.</li>

      <li>If <var>strP</var> is <span class="value">undefined</span>
        <ol class="block">
          <li>Append <span class="string value">"null"</span> to <var>partial</var>.</li>
        </ol>
      </li>

      <li>Else
        <ol class="block">
          <li>Append <var>strP</var> to <var>partial</var>.</li>
        </ol>
      </li>

      <li>Increment <var>index</var> by 1.</li>
    </ol>
  </li>

  <li>If <var>partial</var> is empty ,then
    <ol class="block">
      <li>Let <var>final</var> be <span class="string value">"[]"</span>.</li>
    </ol>
  </li>

  <li>Else
    <ol class="block">
      <li>If <var>gap</var> is the empty String
        <ol class="block">
          <li>Let <var>properties</var> be a String formed by concatenating all
              the element Strings of <var>partial</var> with each adjacent pair
              of Strings separated with the comma character. A comma is not
              inserted either before the first String or after the last
              String.</li>

          <li>Let <var>final</var> be the result of concatenating
              <span class="string value">"["</span>, <var>properties</var>, and
              <span class="string value">"]"</span>.</li>
        </ol>
      </li>

      <li>Else
        <ol class="block">
          <li>Let <var>separator</var> be the result of concatenating the comma
              character, the line feed character, and <var>indent</var>.</li>

          <li>Let <var>properties</var> be a String formed by concatenating all
              the element Strings of <var>partial</var> with each adjacent pair
              of Strings separated with <var>separator</var>. The
              <var>separator</var> String is not inserted either before the
              first String or after the last String.</li>

          <li>Let <var>final</var> be the result of concatenating
              <span class="string value">"["</span>, the line feed character,
              <var>indent</var>, <var>properties</var>, the line feed
              character, <var>stepback</var>, and <span class="string
              value">"["</span>.</li>
        </ol>
      </li>
    </ol>
  </li>

  <li>Remove the last element of <var>stack</var>.</li>

  <li><span class="pagemark" id="page217">PDF page 217 / printed page
      207</span>Let <var>indent</var> be <var>stepback</var>.</li>

  <li>Return <var>final</var>.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE 1</span> JSON structures are allowed to be nested to
  any depth, but they must be acyclic. If <var>value</var> is or contains a
  cyclic structure, then the stringify function must throw a
  <span class="errorname">TypeError</span> exception. This is an example of a
  value that cannot be stringified:</p>

<pre>a = [];
a[0] = a;
my_text = JSON.stringify(a); // This must throw an TypeError.
</pre>
</div>

<div class="note">
  <p><span class="nh">NOTE 2</span> Symbolic primitive values are rendered as
  follows:</p>

  <ul>
    <li>The <span class="value">null</span> value is rendered in JSON text as
        the String null.</li>

    <li>The <span class="value">undefined</span> value is not rendered.</li>

    <li>The <span class="value">true</span> value is rendered in JSON text as
        the String true.</li>

    <li>The <span class="value">false</span> value is rendered in JSON text as
        the String false.</li>
  </ul>
</div>

<div class="note">
  <p><span class="nh">NOTE 3</span> String values are wrapped in double quotes.
  The characters <code class="ch">&quot;</code> and <code class="ch">\</code>
  are escaped with <code class="ch">\</code> prefixes. Control characters are
  replaced with escape sequences <code class="ch">\u<var>HHHH</var></code>, or
  with the shorter forms, <code class="ch">\b</code> (backspace),
  <code class="ch">\f</code> (formfeed), <code class="ch">\n</code> (newline),
  <code class="ch">\r</code> (carriage return), <code class="ch">\t</code>
  (tab).</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 4</span> Finite numbers are stringified as if by
  calling <a href="#sec-9.8">ToString</a>(<var>number</var>).
  <span class="value">NaN</span> and Infinity regardless of sign are
  represented as the String <span class="value">null</span>.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 5</span> Values that do not have a JSON
  representation (such as <span class="value">undefined</span> and functions)
  do not produce a String. Instead they produce the undefined value. In arrays
  these values are represented as the String <span class="value">null</span>.
  In objects an unrepresentable value causes the property to be excluded from
  stringification.</p>
</div>

<div class="note">
  <p><span class="nh">NOTE 6</span> An object is rendered as an opening left
  brace followed by zero or more properties, separated with commas, closed with
  a right brace. A property is a quoted String representing the key or property
  name, a colon, and then the stringified property value. An array is rendered
  as an opening left bracket followed by zero or more values, separated with
  commas, closed with a right bracket.</p>
</div>
</section>
</section>
</section>



<section id="sec-16">
<h1><span class="secnum"><a href="#sec-16"
    title="link to this section">16</a></span>
    Errors</h1>

<p>An implementation must report most errors at the time the relevant
ECMAScript language construct is evaluated. An <dfn>early error</dfn> is an
error that can be detected and reported prior to the evaluation of any
construct in the <span class="nt">Program</span> containing the error. An
implementation must report early errors in a <span class="nt">Program</span>
prior to the first evaluation of that <span class="nt">Program</span>. Early
errors in <a href="#def-eval-code">eval</a> code are reported at the time
<span class="libname">eval</span> is called but prior to evaluation of any
construct within the eval code. All errors that are not early errors are
runtime errors.</p>

<p>An implementation must treat any instance of the following kinds of errors
as an early error:</p>

<ul>

  <li>Any syntax error.</li>

  <li>Attempts to define an <span class="nt">ObjectLiteral</span> that has
      multiple <code class="t">get</code> property assignments with the same
      name or multiple <code class="t">set</code> property assignments with the
      same name.</li>

  <li>Attempts to define an <span class="nt">ObjectLiteral</span> that has both
      a data property assignment and a <code class="t">get</code> or
      <code class="t">set</code> property assignment with the same name.</li>

  <li>Errors in regular expression literals that are not implementation-defined
      syntax extensions.</li>

  <li>Attempts in <a href="#sec-10.1.1">strict mode code</a> to define an
      <span class="nt">ObjectLiteral</span> that has multiple data property
      assignments with the same name.</li>

  <li>The occurrence of a <span class="nt">WithStatement</span> in
      <a href="#sec-10.1.1">strict mode code</a>.</li>

  <li>The occurrence of an <span class="nt">Identifier</span> value appearing
      more than once within a <span class="nt">FormalParameterList</span> of an
      individual strict mode <span class="nt">FunctionDeclaration</span> or
      <span class="nt">FunctionExpression</span>.</li>

  <li>Improper uses of <code class="t">return</code>,
      <code class="t">break</code>, and <code class="t">continue</code>.</li>

  <li>Attempts to call <a href="#sec-8.7.2">PutValue</a> on any value for which
      an early determination can be made that the value is not a
      <a href="#sec-8.7">Reference</a> (for example, executing the assignment
      statement <code class="expr">3=4</code>).</li>

</ul>

<p><span class="pagemark" id="page218">PDF page 218 / printed page 208</span>
An implementation shall not treat other kinds of errors as early errors even if
the compiler can prove that a construct cannot execute without error under any
circumstances. An implementation may issue an early warning in such a case, but
it should not report the error until the relevant construct is actually
executed.</p>

<p>An implementation shall report all errors as specified, except for the
following:</p>

<ul>
  <li><p>An implementation may extend program syntax and regular expression
      pattern or flag syntax. To permit this, all operations (such as calling
      <span class="libname">eval</span>, using a regular expression literal, or
      using the <span class="libname">Function</span> or
      <span class="libname">RegExp</span> constructor) that are allowed to
      throw <span class="errorname">SyntaxError</span> are permitted to exhibit
      implementation-defined behaviour instead of throwing
      <span class="errorname">SyntaxError</span> when they encounter an
      implementation-defined extension to the program syntax or regular
      expression pattern or flag syntax.</p></li>

  <li><p>An implementation may provide additional types, values, objects,
      properties, and functions beyond those described in this specification.
      This may cause constructs (such as looking up a variable in the global
      scope) to have implementation-defined behaviour instead of throwing an
      error (such as <span class="errorname">ReferenceError</span>).</p></li>

  <li><p>An implementation may define behaviour other than throwing
      <span class="errorname">RangeError</span> for
      <span class="libname">toFixed</span>,
      <span class="libname">toExponential</span>, and
      <span class="libname">toPrecision</span> when the
      <var>fractionDigits</var> or <var>precision</var> argument is outside the
      specified range.</p></li>
</ul>
</section>



<section id="sec-A">
<span class="pagemark" id="page219">PDF page 219 / printed page 209</span>
<h1>Annex A
  <span class="section-status">(informative)</span>
  <span style="display: block">Grammar Summary</span></h1>

<section id="sec-A.1">
<h1><span class="secnum"><a href="#sec-A.1"
    title="link to this section">A.1</a></span>
    Lexical Grammar</h1>

<div class="syntax">
  <div class="gp">
    <div class="gsumxref"><a href="#sec-6">See clause 6</a></div>
    <div class="lhs">
      <span class="nt">SourceCharacter</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="gprose">any Unicode code unit</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7">See clause 7</a></div>
    <div class="lhs">
      <span class="nt">InputElementDiv</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">WhiteSpace</span>
    </div>
    <div class="rhs">
      <span class="nt">LineTerminator</span>
    </div>
    <div class="rhs">
      <span class="nt">Comment</span>
    </div>
    <div class="rhs">
      <span class="nt">Token</span>
    </div>
    <div class="rhs">
      <span class="nt">DivPunctuator</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7">See clause 7</a></div>
    <div class="lhs">
      <span class="nt">InputElementRegExp</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">WhiteSpace</span>
    </div>
    <div class="rhs">
      <span class="nt">LineTerminator</span>
    </div>
    <div class="rhs">
      <span class="nt">Comment</span>
    </div>
    <div class="rhs">
      <span class="nt">Token</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionLiteral</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.2">See 7.2</a></div>
    <div class="lhs">
      <span class="nt">WhiteSpace</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      &lt;TAB&gt;
    </div>
    <div class="rhs">
      &lt;VT&gt;
    </div>
    <div class="rhs">
      &lt;FF&gt;
    </div>
    <div class="rhs">
      &lt;SP&gt;
    </div>
    <div class="rhs">
      &lt;NBSP&gt;
    </div>
    <div class="rhs">
      &lt;BOM&gt;
    </div>
    <div class="rhs">
      &lt;USP&gt;
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.3">See 7.3</a></div>
    <div class="lhs">
      <span class="nt">LineTerminator</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      &lt;LF&gt;
    </div>
    <div class="rhs">
      &lt;CR&gt;
    </div>
    <div class="rhs">
      &lt;LS&gt;
    </div>
    <div class="rhs">
      &lt;PS&gt;
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.3">See 7.3</a></div>
    <div class="lhs">
      <span class="nt">LineTerminatorSequence</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      &lt;LF&gt;
    </div>
    <div class="rhs">
      &lt;CR&gt; <span class="grhsannot">[<a href="#def-lookahead-notin">lookahead &notin;</a> &lt;LF&gt;]</span>
    </div>
    <div class="rhs">
      &lt;LS&gt;
    </div>
    <div class="rhs">
      &lt;PS&gt;
    </div>
    <div class="rhs">
      &lt;CR&gt; &lt;LF&gt;
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.4">See 7.4</a></div>
    <div class="lhs">
      <span class="nt">Comment</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">MultiLineComment</span>
    </div>
    <div class="rhs">
      <span class="nt">SingleLineComment</span>
    </div>
    <span class="pagemark" id="page220">PDF page 220 / printed page 210</span>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.4">See 7.4</a></div>
    <div class="lhs">
      <span class="nt">MultiLineComment</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">/*</code> <span class="nt">MultiLineCommentChars</span><sub>opt</sub> <code class="t">*/</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.4">See 7.4</a></div>
    <div class="lhs">
      <span class="nt">MultiLineCommentChars</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">MultiLineNotAsteriskChar</span> <span class="nt">MultiLineCommentChars</span><sub>opt</sub>
    </div>
    <div class="rhs">
      <code class="t">*</code> <span class="nt">PostAsteriskCommentChars</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.4">See 7.4</a></div>
    <div class="lhs">
      <span class="nt">PostAsteriskCommentChars</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">MultiLineNotForwardSlashOrAsteriskChar</span> <span class="nt">MultiLineCommentChars</span><sub>opt</sub>
    </div>
    <div class="rhs">
      <code class="t">*</code> <span class="nt">PostAsteriskCommentChars</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.4">See 7.4</a></div>
    <div class="lhs">
      <span class="nt">MultiLineNotAsteriskChar</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not</span> <span class="chgloss">asterisk</span> <code class="t">*</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.4">See 7.4</a></div>
    <div class="lhs">
      <span class="nt">MultiLineNotForwardSlashOrAsteriskChar</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not</span> <span class="chgloss">forward-slash</span> <code class="t">/</code> <span class="grhsmod">or</span> <span class="chgloss">asterisk</span> <code class="t">*</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.4">See 7.4</a></div>
    <div class="lhs">
      <span class="nt">SingleLineComment</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">//</code> <span class="nt">SingleLineCommentChars</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.4">See 7.4</a></div>
    <div class="lhs">
      <span class="nt">SingleLineCommentChars</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SingleLineCommentChar</span> <span class="nt">SingleLineCommentChars</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.4">See 7.4</a></div>
    <div class="lhs">
      <span class="nt">SingleLineCommentChar</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not</span> <span class="nt">LineTerminator</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.5">See 7.5</a></div>
    <div class="lhs">
      <span class="nt">Token</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">IdentifierName</span>
    </div>
    <div class="rhs">
      <span class="nt">Punctuator</span>
    </div>
    <div class="rhs">
      <span class="nt">NumericLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">StringLiteral</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.6">See 7.6</a></div>
    <div class="lhs">
      <span class="nt">Identifier</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">IdentifierName</span> <span class="grhsmod">but not</span> <span class="nt">ReservedWord</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.6">See 7.6</a></div>
    <div class="lhs">
      <span class="nt">IdentifierName</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">IdentifierStart</span>
    </div>
    <div class="rhs">
      <span class="nt">IdentifierName</span> <span class="nt">IdentifierPart</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.6">See 7.6</a></div>
    <div class="lhs">
      <span class="nt">IdentifierStart</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">UnicodeLetter</span>
    </div>
    <div class="rhs">
      <code class="t">$</code>
    </div>
    <div class="rhs">
      <code class="t">_</code>
    </div>
    <div class="rhs">
      <code class="t">\</code> <span class="nt">UnicodeEscapeSequence</span>
    </div>
  </div>

  <div class="gp">
    <span class="pagemark" id="page221">PDF page 221 / printed page 211</span>
    <div class="gsumxref"><a href="#sec-7.6">See 7.6</a></div>
    <div class="lhs">
      <span class="nt">IdentifierPart</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">IdentifierStart</span>
    </div>
    <div class="rhs">
      <span class="nt">UnicodeCombiningMark</span>
    </div>
    <div class="rhs">
      <span class="nt">UnicodeDigit</span>
    </div>
    <div class="rhs">
      <span class="nt">UnicodeConnectorPunctuation</span>
    </div>
    <div class="rhs">
      &lt;ZWNJ&gt;
    </div>
    <div class="rhs">
      &lt;ZWJ&gt;
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.6">See 7.6</a></div>
    <div class="lhs">
      <span class="nt">UnicodeLetter</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="gprose">any character in the Unicode categories
      &ldquo;Uppercase letter (Lu)&rdquo;, &ldquo;Lowercase letter (Ll)&rdquo;,
      &ldquo;Titlecase letter (Lt)&rdquo;, &ldquo;Modifier letter (Lm)&rdquo;,
      &ldquo;Other letter (Lo)&rdquo;, or &ldquo;Letter number
      (Nl)&rdquo;.</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.6">See 7.6</a></div>
    <div class="lhs">
      <span class="nt">UnicodeCombiningMark</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="gprose">any character in the Unicode categories
      &ldquo;Non-spacing mark (Mn)&rdquo; or &ldquo;Combining spacing mark
      (Mc)&rdquo;</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.6">See 7.6</a></div>
    <div class="lhs">
      <span class="nt">UnicodeDigit</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="gprose">any character in the Unicode category
      &ldquo;Decimal number (Nd)&rdquo;</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.6">See 7.6</a></div>
    <div class="lhs">
      <span class="nt">UnicodeConnectorPunctuation</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="gprose">any character in the Unicode category
      &ldquo;Connector punctuation (Pc)&rdquo;</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.6.1">See 7.6.1</a></div>
    <div class="lhs">
      <span class="nt">ReservedWord</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">Keyword</span>
    </div>
    <div class="rhs">
      <span class="nt">FutureReservedWord</span>
    </div>
    <div class="rhs">
      <span class="nt">NullLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">BooleanLiteral</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.6.1.1">See 7.6.1.1</a></div>
    <div class="lhs">
      <span class="nt">Keyword</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="keyword pile">
    <code class="t">break</code> <code class="t">do</code> <code class="t">instanceof</code> <code class="t">typeof</code>
    <code class="t">case</code> <code class="t">else</code> <code class="t">new</code> <code class="t">var</code>
    <code class="t">catch</code> <code class="t">finally</code> <code class="t">return</code> <code class="t">void</code>
    <code class="t">continue</code> <code class="t">for</code> <code class="t">switch</code> <code class="t">while</code>
    <code class="t">debugger</code> <code class="t">function</code> <code class="t">this</code> <code class="t">with</code>
    <code class="t">default</code> <code class="t">if</code> <code class="t">throw</code> <code class="t">&nbsp;</code>
    <code class="t">delete</code> <code class="t">in</code> <code class="t">try</code>
    </div>
    <div class="end-pile"></div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.6.1.2">See 7.6.1.2</a></div>
    <div class="lhs">
      <span class="nt">FutureReservedWord</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="keyword pile">
      <code class="t">class</code>
      <code class="t">enum</code>
      <code class="t">extends</code>
      <code class="t">super</code>
      <code class="t">const</code>
      <code class="t">export</code>
      <code class="t">import</code>
    </div>
    <div class="end-pile"></div>
    <div class="rhs">
      <span class="gprose">or in strict mode code</span> <span class="grhsmod">one of</span>
    </div>
    <div class="keyword5 pile">
      <code class="t">implements</code>
      <code class="t">let</code>
      <code class="t">private</code>
      <code class="t">public</code>
      <code class="t">interface</code>
      <code class="t">package</code>
      <code class="t">protected</code>
      <code class="t">static</code>
      <code class="t">yield</code>
    </div>
    <div class="end-pile"></div>
  </div>

  <div class="gp">
    <span class="pagemark" id="page222">PDF page 222 / printed page 212</span>
    <div class="gsumxref"><a href="#sec-7.7">See 7.7</a></div>
    <div class="lhs">
      <span class="nt">Punctuator</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="operator pile">
      <code class="t">{</code>
      <code class="t">}</code>
      <code class="t">(</code>
      <code class="t">)</code>
      <code class="t">[</code>
      <code class="t">]</code>

      <code class="t">.</code>
      <code class="t">;</code>
      <code class="t">,</code>
      <code class="t">&lt;</code>
      <code class="t">&gt;</code>
      <code class="t">&lt;=</code>

      <code class="t">&gt;=</code>
      <code class="t">==</code>
      <code class="t">!=</code>
      <code class="t">===</code>
      <code class="t">!==</code>

      <code class="t" style="clear: both">+</code>
      <code class="t">-</code>
      <code class="t">*</code>
      <code class="t">%</code>
      <code class="t">++</code>
      <code class="t">--</code>

      <code class="t">&lt;&lt;</code>
      <code class="t">&gt;&gt;</code>
      <code class="t">&gt;&gt;&gt;</code>
      <code class="t">&amp;</code>
      <code class="t">|</code>
      <code class="t">^</code>

      <code class="t">!</code>
      <code class="t">~</code>
      <code class="t">&amp;&amp;</code>
      <code class="t">||</code>
      <code class="t">?</code>
      <code class="t">:</code>

      <code class="t">=</code>
      <code class="t">+=</code>
      <code class="t">-=</code>
      <code class="t">*=</code>
      <code class="t">%=</code>
      <code class="t">&lt;&lt;=</code>

      <code class="t">&gt;&gt;=</code>
      <code class="t">&gt;&gt;&gt;=</code>
      <code class="t">&amp;=</code>
      <code class="t">|=</code>
      <code class="t">^=</code>
    </div>
    <div class="end-pile"></div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.7">See 7.7</a></div>
    <div class="lhs">
      <span class="nt">DivPunctuator</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="operator pile">
      <code class="t">/</code> <code class="t">/=</code>
    </div>
    <div class="end-pile"></div>

  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8">See 7.8</a></div>
    <div class="lhs">
      <span class="nt">Literal</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">NullLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">BooleanLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">NumericLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">StringLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionLiteral</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.1">See 7.8.1</a></div>
    <div class="lhs">
      <span class="nt">NullLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">null</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.2">See 7.8.2</a></div>
    <div class="lhs">
      <span class="nt">BooleanLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">true</code>
    </div>
    <div class="rhs">
      <code class="t">false</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.3">See 7.8.3</a></div>
    <div class="lhs">
      <span class="nt">NumericLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">HexIntegerLiteral</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.3">See 7.8.3</a></div>
    <div class="lhs">
      <span class="nt">DecimalLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalIntegerLiteral</span> <code class="t">.</code> <span class="nt">DecimalDigits</span><sub>opt</sub> <span class="nt">ExponentPart</span><sub>opt</sub>
    </div>
    <div class="rhs">
      <code class="t">.</code> <span class="nt">DecimalDigits</span> <span class="nt">ExponentPart</span><sub>opt</sub>
    </div>
    <div class="rhs">
      <span class="nt">DecimalIntegerLiteral</span> <span class="nt">ExponentPart</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.3">See 7.8.3</a></div>
    <div class="lhs">
      <span class="nt">DecimalIntegerLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">0</code>
    </div>
    <div class="rhs">
      <span class="nt">NonZeroDigit</span> <span class="nt">DecimalDigits</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.3">See 7.8.3</a></div>
    <div class="lhs">
      <span class="nt">DecimalDigits</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigit</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigits</span> <span class="nt">DecimalDigit</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.3">See 7.8.3</a></div>
    <div class="lhs">
      <span class="nt">DecimalDigit</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">0  1  2  3  4  5  6  7  8  9</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.3">See 7.8.3</a></div>
    <div class="lhs">
      <span class="nt">NonZeroDigit</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">1  2  3  4  5  6  7  8  9</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.3">See 7.8.3</a></div>
    <div class="lhs">
      <span class="nt">ExponentPart</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">ExponentIndicator</span> <span class="nt">SignedInteger</span>
    </div>
  </div>

  <div class="gp">
    <span class="pagemark" id="page223">PDF page 223 / printed page 213</span>
    <div class="gsumxref"><a href="#sec-7.8.3">See 7.8.3</a></div>
    <div class="lhs">
      <span class="nt">ExponentIndicator</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">e  E</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.3">See 7.8.3</a></div>
    <div class="lhs">
      <span class="nt">SignedInteger</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigits</span>
    </div>
    <div class="rhs">
      <code class="t">+</code> <span class="nt">DecimalDigits</span>
    </div>
    <div class="rhs">
      <code class="t">-</code> <span class="nt">DecimalDigits</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.3">See 7.8.3</a></div>
    <div class="lhs">
      <span class="nt">HexIntegerLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">0x</code> <span class="nt">HexDigit</span>
    </div>
    <div class="rhs">
      <code class="t">0X</code> <span class="nt">HexDigit</span>
    </div>
    <div class="rhs">
      <span class="nt">HexIntegerLiteral</span> <span class="nt">HexDigit</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.3">See 7.8.3</a></div>
    <div class="lhs">
      <span class="nt">HexDigit</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">0 1 2 3 4 5 6 7 8 9 a b c d e f A B C D E F</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.4">See 7.8.4</a></div>
    <div class="lhs">
      <span class="nt">StringLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">"</code> <span class="nt">DoubleStringCharacters</span><sub>opt</sub> <code class="t">"</code>
    </div>
    <div class="rhs">
      <code class="t">'</code> <span class="nt">SingleStringCharacters</span><sub>opt</sub> <code class="t">'</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.4">See 7.8.4</a></div>
    <div class="lhs">
      <span class="nt">DoubleStringCharacters</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">DoubleStringCharacter</span> <span class="nt">DoubleStringCharacters</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.4">See 7.8.4</a></div>
    <div class="lhs">
      <span class="nt">SingleStringCharacters</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SingleStringCharacter</span> <span class="nt">SingleStringCharacters</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.4">See 7.8.4</a></div>
    <div class="lhs">
      <span class="nt">DoubleStringCharacter</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not</span> <span class="chgloss">double-quote</span> <code class="t">&quot;</code> <span class="grhsmod">or</span> <span class="chgloss">backslash</span> <code class="t">\</code> <span class="grhsmod">or</span> <span class="nt">LineTerminator</span>
    </div>
    <div class="rhs">
      <code class="t">\</code> <span class="nt">EscapeSequence</span>
    </div>
    <div class="rhs">
      <span class="nt">LineContinuation</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.4">See 7.8.4</a></div>
    <div class="lhs">
      <span class="nt">SingleStringCharacter</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not</span> <span class="chgloss">single-quote</span> <code class="t">&apos;</code> <span class="grhsmod">or</span> <span class="chgloss">backslash</span> <code class="t">\</code> <span class="grhsmod">or</span> <span class="nt">LineTerminator</span>
    </div>
    <div class="rhs">
      <code class="t">\</code> <span class="nt">EscapeSequence</span>
    </div>
    <div class="rhs">
      <span class="nt">LineContinuation</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.4">See 7.8.4</a></div>
    <div class="lhs">
      <span class="nt">LineContinuation</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">\</code> <span class="nt">LineTerminatorSequence</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.4">See 7.8.4</a></div>
    <div class="lhs">
      <span class="nt">EscapeSequence</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">CharacterEscapeSequence</span>
    </div>
    <div class="rhs">
      <code class="t">0</code> <span class="grhsannot">[<a href="#def-lookahead-notin">lookahead &notin;</a> <span class="nt">DecimalDigit</span>]</span>
    </div>
    <div class="rhs">
      <span class="nt">HexEscapeSequence</span>
    </div>
    <div class="rhs">
      <span class="nt">UnicodeEscapeSequence</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.4">See 7.8.4</a></div>
    <div class="lhs">
      <span class="nt">CharacterEscapeSequence</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SingleEscapeCharacter</span>
    </div>
    <div class="rhs">
      <span class="nt">NonEscapeCharacter</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.4">See 7.8.4</a></div>
    <div class="lhs">
      <span class="nt">SingleEscapeCharacter</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">&apos;  &quot;  \  b  f  n  r  t  v</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.4">See 7.8.4</a></div>
    <div class="lhs">
      <span class="nt">NonEscapeCharacter</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not</span> <span class="nt">EscapeCharacter</span> <span class="grhsmod">or</span> <span class="nt">LineTerminator</span>
    </div>
  </div>

  <div class="gp">
    <span class="pagemark" id="page224">PDF page 224 / printed page 214</span>
    <div class="gsumxref"><a href="#sec-7.8.4">See 7.8.4</a></div>
    <div class="lhs">
      <span class="nt">EscapeCharacter</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SingleEscapeCharacter</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigit</span>
    </div>
    <div class="rhs">
      <code class="t">x</code>
    </div>
    <div class="rhs">
      <code class="t">u</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.4">See 7.8.4</a></div>
    <div class="lhs">
      <span class="nt">HexEscapeSequence</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">x</code> <span class="nt">HexDigit</span> <span class="nt">HexDigit</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.4">See 7.8.4</a></div>
    <div class="lhs">
      <span class="nt">UnicodeEscapeSequence</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">u</code> <span class="nt">HexDigit</span> <span class="nt">HexDigit</span> <span class="nt">HexDigit</span> <span class="nt">HexDigit</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.5">See 7.8.5</a></div>
    <div class="lhs">
      <span class="nt">RegularExpressionLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">/</code> <span class="nt">RegularExpressionBody</span> <code class="t">/</code> <span class="nt">RegularExpressionFlags</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.5">See 7.8.5</a></div>
    <div class="lhs">
      <span class="nt">RegularExpressionBody</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionFirstChar</span> <span class="nt">RegularExpressionChars</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.5">See 7.8.5</a></div>
    <div class="lhs">
      <span class="nt">RegularExpressionChars</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="grhsannot">[empty]</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionChars</span> <span class="nt">RegularExpressionChar</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.5">See 7.8.5</a></div>
    <div class="lhs">
      <span class="nt">RegularExpressionFirstChar</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionNonTerminator</span> <span class="grhsmod">but not</span> <code class="t">*</code> <span class="grhsmod">or</span> <code class="t">\</code> <span class="grhsmod">or</span> <code class="t">/</code> <span class="grhsmod">or</span> <code class="t">[</code>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionBackslashSequence</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionClass</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.5">See 7.8.5</a></div>
    <div class="lhs">
      <span class="nt">RegularExpressionChar</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionNonTerminator</span>
      <span class="grhsmod">but not</span>
      <code class="t">\</code>
      <span class="grhsmod">or</span>
      <code class="t">/</code>
      <span class="grhsmod">or</span>
      <code class="t">[</code>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionBackslashSequence</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionClass</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.5">See 7.8.5</a></div>
    <div class="lhs">
      <span class="nt">RegularExpressionBackslashSequence</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">\</code> <span class="nt">RegularExpressionNonTerminator</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.5">See 7.8.5</a></div>
    <div class="lhs">
      <span class="nt">RegularExpressionNonTerminator</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not</span> <span class="nt">LineTerminator</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.5">See 7.8.5</a></div>
    <div class="lhs">
      <span class="nt">RegularExpressionClass</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">[</code> <span class="nt">RegularExpressionClassChars</span> <code class="t">]</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.5">See 7.8.5</a></div>
    <div class="lhs">
      <span class="nt">RegularExpressionClassChars</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="grhsannot">[empty]</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionClassChars</span> <span class="nt">RegularExpressionClassChar</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-7.8.5">See 7.8.5</a></div>
    <div class="lhs">
      <span class="nt">RegularExpressionClassChar</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionNonTerminator</span> <span class="grhsmod">but not</span> <code class="t">]</code> <span class="grhsmod">or</span> <code class="t">\</code>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionBackslashSequence</span>
    </div>
  </div>

  <div class="gp">
    <span class="pagemark" id="page225">PDF page 225 / printed page 215</span>
    <div class="gsumxref"><a href="#sec-7.8.5">See 7.8.5</a></div>
    <div class="lhs">
      <span class="nt">RegularExpressionFlags</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="grhsannot">[empty]</span>
    </div>
    <div class="rhs">
      <span class="nt">RegularExpressionFlags</span> <span class="nt">IdentifierPart</span>
    </div>
  </div>
</div>
</section>


<section id="sec-A.2">
<h1><span class="secnum"><a href="#sec-A.2"
    title="link to this section">A.2</a></span>
    Number Conversions</h1>

<div class="syntax">
  <div class="gp">
    <div class="gsumxref"><a href="#sec-9.3.1">See 9.3.1</a></div>
    <div class="lhs">
      <span class="nt">StringNumericLiteral</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">StrWhiteSpace</span><sub>opt</sub>
    </div>
    <div class="rhs">
      <span class="nt">StrWhiteSpace</span><sub>opt</sub> <span class="nt">StrNumericLiteral</span> <span class="nt">StrWhiteSpace</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-9.3.1">See 9.3.1</a></div>
    <div class="lhs">
      <span class="nt">StrWhiteSpace</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">StrWhiteSpaceChar</span> <span class="nt">StrWhiteSpace</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-9.3.1">See 9.3.1</a></div>
    <div class="lhs">
      <span class="nt">StrWhiteSpaceChar</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">WhiteSpace</span>
    </div>
    <div class="rhs">
      <span class="nt">LineTerminator</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-9.3.1">See 9.3.1</a></div>
    <div class="lhs">
      <span class="nt">StrNumericLiteral</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">StrDecimalLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">HexIntegerLiteral</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-9.3.1">See 9.3.1</a></div>
    <div class="lhs">
      <span class="nt">StrDecimalLiteral</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">StrUnsignedDecimalLiteral</span>
    </div>
    <div class="rhs">
      <code class="t">+</code> <span class="nt">StrUnsignedDecimalLiteral</span>
    </div>
    <div class="rhs">
      <code class="t">-</code> <span class="nt">StrUnsignedDecimalLiteral</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-9.3.1">See 9.3.1</a></div>
    <div class="lhs">
      <span class="nt">StrUnsignedDecimalLiteral</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <code class="t">Infinity</code>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigits</span> <code class="t">.</code> <span class="nt">DecimalDigits</span><sub>opt</sub> <span class="nt">ExponentPart</span><sub>opt</sub>
    </div>
    <div class="rhs">
      <code class="t">.</code> <span class="nt">DecimalDigits</span> <span class="nt">ExponentPart</span><sub>opt</sub>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigits</span> <span class="nt">ExponentPart</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-9.3.1">See 9.3.1</a></div>
    <div class="lhs">
      <span class="nt">DecimalDigits</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigit</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigits</span> <span class="nt">DecimalDigit</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-9.3.1">See 9.3.1</a></div>
    <div class="lhs">
      <span class="nt">DecimalDigit</span> <span class="geq">:::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">0  1  2  3  4  5  6  7  8  9</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-9.3.1">See 9.3.1</a></div>
    <div class="lhs">
      <span class="nt">ExponentPart</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">ExponentIndicator</span> <span class="nt">SignedInteger</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-9.3.1">See 9.3.1</a></div>
    <div class="lhs">
      <span class="nt">ExponentIndicator</span> <span class="geq">:::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">e  E</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-9.3.1">See 9.3.1</a></div>
    <div class="lhs">
      <span class="nt">SignedInteger</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigits</span>
    </div>
    <div class="rhs">
      <code class="t">+</code> <span class="nt">DecimalDigits</span>
    </div>
    <div class="rhs">
      <code class="t">-</code> <span class="nt">DecimalDigits</span>
    </div>
  </div>

  <div class="gp">
    <span class="pagemark" id="page226">PDF page 226 / printed page 216</span>
    <div class="gsumxref"><a href="#sec-9.3.1">See 9.3.1</a></div>
    <div class="lhs">
      <span class="nt">HexIntegerLiteral</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <code class="t">0x</code> <span class="nt">HexDigit</span>
    </div>
    <div class="rhs">
      <code class="t">0X</code> <span class="nt">HexDigit</span>
    </div>
    <div class="rhs">
      <span class="nt">HexIntegerLiteral</span> <span class="nt">HexDigit</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-9.3.1">See 9.3.1</a></div>
    <div class="lhs">
      <span class="nt">HexDigit</span> <span class="geq">:::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">0 1 2 3 4 5 6 7 8 9 a b c d e f A B C D E F</code>
    </div>
  </div>
</div>

</section>


<section id="sec-A.3">
<h1><span class="secnum"><a href="#sec-A.3"
    title="link to this section">A.3</a></span>
    Expressions</h1>

<div class="syntax">
  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.1">See 11.1</a></div>
    <div class="lhs">
      <span class="nt">PrimaryExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">this</code>
    </div>
    <div class="rhs">
      <span class="nt">Identifier</span>
    </div>
    <div class="rhs">
      <span class="nt">Literal</span>
    </div>
    <div class="rhs">
      <span class="nt">ArrayLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">ObjectLiteral</span>
    </div>
    <div class="rhs">
      <code class="t">(</code> <span class="nt">Expression</span> <code class="t">)</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.1.4">See 11.1.4</a></div>
    <div class="lhs">
      <span class="nt">ArrayLiteral</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">[</code> <span class="nt">Elision</span><sub>opt</sub> <code class="t">]</code>
    </div>
    <div class="rhs">
      <code class="t">[</code> <span class="nt">ElementList</span> <code class="t">]</code>
    </div>
    <div class="rhs">
      <code class="t">[</code> <span class="nt">ElementList</span> <code class="t">,</code> <span class="nt">Elision</span><sub>opt</sub> <code class="t">]</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.1.4">See 11.1.4</a></div>
    <div class="lhs">
      <span class="nt">ElementList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Elision</span><sub>opt</sub> <span class="nt">AssignmentExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">ElementList</span> <code class="t">,</code> <span class="nt">Elision</span><sub>opt</sub> <span class="nt">AssignmentExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.1.4">See 11.1.4</a></div>
    <div class="lhs">
      <span class="nt">Elision</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">,</code>
    </div>
    <div class="rhs">
      <span class="nt">Elision</span> <code class="t">,</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.1.5">See 11.1.5</a></div>
    <div class="lhs">
      <span class="nt">ObjectLiteral</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">{</code> <code class="t">}</code>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">PropertyNameAndValueList</span> <code class="t">}</code>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">PropertyNameAndValueList</span>
      <code class="t">,</code> <code class="t">}</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.1.5">See 11.1.5</a></div>
    <div class="lhs">
      <span class="nt">PropertyNameAndValueList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">PropertyAssignment</span>
    </div>
    <div class="rhs">
      <span class="nt">PropertyNameAndValueList</span> <code class="t">,</code>
      <span class="nt">PropertyAssignment</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.1.5">See 11.1.5</a></div>
    <div class="lhs">
      <span class="nt">PropertyAssignment</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">PropertyName</span> <code class="t">:</code> <span class="nt">AssignmentExpression</span>
    </div>
    <div class="rhs">
      <code class="t">get</code> <span class="nt">PropertyName</span> <code class="t">(</code> <code class="t">)</code> <code class="t">{</code> <span class="nt">FunctionBody</span> <code class="t">}</code>
    </div>
    <div class="rhs">
      <code class="t">set</code> <span class="nt">PropertyName</span> <code class="t">(</code> <span class="nt">PropertySetParameterList</span> <code class="t">)</code> <code class="t">{</code> <span class="nt">FunctionBody</span> <code class="t">}</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.1.5">See 11.1.5</a></div>
    <div class="lhs">
      <span class="nt">PropertyName</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">IdentifierName</span>
    </div>
    <div class="rhs">
      <span class="nt">StringLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">NumericLiteral</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.1.5">See 11.1.5</a></div>
    <div class="lhs">
      <span class="nt">PropertySetParameterList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Identifier</span>
    </div>
  </div>

  <div class="gp">
    <span class="pagemark" id="page227">PDF page 227 / printed page 217</span>
    <div class="gsumxref"><a href="#sec-11.2">See 11.2</a></div>
    <div class="lhs">
      <span class="nt">MemberExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">PrimaryExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">FunctionExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">MemberExpression</span> <code class="t">[</code> <span class="nt">Expression</span> <code class="t">]</code>
    </div>
    <div class="rhs">
      <span class="nt">MemberExpression</span> <code class="t">.</code> <span class="nt">IdentifierName</span>
    </div>
    <div class="rhs">
      <code class="t">new</code> <span class="nt">MemberExpression</span>
      <span class="nt">Arguments</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.2">See 11.2</a></div>
    <div class="lhs">
      <span class="nt">NewExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">MemberExpression</span>
    </div>
    <div class="rhs">
      <code class="t">new</code> <span class="nt">NewExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.2">See 11.2</a></div>
    <div class="lhs">
      <span class="nt">CallExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">MemberExpression</span> <span class="nt">Arguments</span>
    </div>
    <div class="rhs">
      <span class="nt">CallExpression</span> <span class="nt">Arguments</span>
    </div>
    <div class="rhs">
      <span class="nt">CallExpression</span> <code class="t">[</code> <span class="nt">Expression</span> <code class="t">]</code>
    </div>
    <div class="rhs">
      <span class="nt">CallExpression</span> <code class="t">.</code> <span class="nt">IdentifierName</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.2">See 11.2</a></div>
    <div class="lhs">
      <span class="nt">Arguments</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">(</code> <code class="t">)</code>
    </div>
    <div class="rhs">
      <code class="t">(</code> <span class="nt">ArgumentList</span> <code class="t">)</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.2">See 11.2</a></div>
    <div class="lhs">
      <span class="nt">ArgumentList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">AssignmentExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">ArgumentList</span> <code class="t">,</code> <span class="nt">AssignmentExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.2">See 11.2</a></div>
    <div class="lhs">
      <span class="nt">LeftHandSideExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">NewExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">CallExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.3">See 11.3</a></div>
    <div class="lhs">
      <span class="nt">PostfixExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">LeftHandSideExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">LeftHandSideExpression</span> <span class="grhsannot"><a href="#def-restricted-production">[no <span class="nt">LineTerminator</span> here]</a></span> <code class="t">++</code>
    </div>
    <div class="rhs">
      <span class="nt">LeftHandSideExpression</span> <span class="grhsannot"><a href="#def-restricted-production">[no <span class="nt">LineTerminator</span> here]</a></span> <code class="t">--</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.4">See 11.4</a></div>
    <div class="lhs">
      <span class="nt">UnaryExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">PostfixExpression</span>
    </div>
    <div class="rhs">
      <code class="t">delete</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <code class="t">void</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <code class="t">typeof</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <code class="t">++</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <code class="t">--</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <code class="t">+</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <code class="t">-</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <code class="t">~</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <code class="t">!</code> <span class="nt">UnaryExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.5">See 11.5</a></div>
    <div class="lhs">
      <span class="nt">MultiplicativeExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">MultiplicativeExpression</span> <code class="t">*</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">MultiplicativeExpression</span> <code class="t">/</code> <span class="nt">UnaryExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">MultiplicativeExpression</span> <code class="t">%</code> <span class="nt">UnaryExpression</span>
    </div>
  </div>

  <div class="gp">
    <span class="pagemark" id="page228">PDF page 228 / printed page 218</span>
    <div class="gsumxref"><a href="#sec-11.6">See 11.6</a></div>
    <div class="lhs">
      <span class="nt">AdditiveExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">MultiplicativeExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">AdditiveExpression</span> <code class="t">+</code> <span class="nt">MultiplicativeExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">AdditiveExpression</span> <code class="t">-</code> <span class="nt">MultiplicativeExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.7">See 11.7</a></div>
    <div class="lhs">
      <span class="nt">ShiftExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">AdditiveExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">ShiftExpression</span> <code class="t">&lt;&lt;</code> <span class="nt">AdditiveExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">ShiftExpression</span> <code class="t">&gt;&gt;</code> <span class="nt">AdditiveExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">ShiftExpression</span> <code class="t">&gt;&gt;&gt;</code> <span class="nt">AdditiveExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.8">See 11.8</a></div>
    <div class="lhs">
      <span class="nt">RelationalExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpression</span> <code class="t">&lt;</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpression</span> <code class="t">&gt;</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpression</span> <code class="t">&lt;=</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpression</span> <code class="t">&gt;=</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpression</span> <code class="t">instanceof</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpression</span> <code class="t">in</code> <span class="nt">ShiftExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.8">See 11.8</a></div>
    <div class="lhs">
      <span class="nt">RelationalExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpressionNoIn</span> <code class="t">&lt;</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpressionNoIn</span> <code class="t">&gt;</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpressionNoIn</span> <code class="t">&lt;=</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpressionNoIn</span> <code class="t">&gt;=</code> <span class="nt">ShiftExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpressionNoIn</span> <code class="t">instanceof</code> <span class="nt">ShiftExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.9">See 11.9</a></div>
    <div class="lhs">
      <span class="nt">EqualityExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpression</span> <code class="t">==</code> <span class="nt">RelationalExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpression</span> <code class="t">!=</code> <span class="nt">RelationalExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpression</span> <code class="t">===</code> <span class="nt">RelationalExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpression</span> <code class="t">!==</code> <span class="nt">RelationalExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.9">See 11.9</a></div>
    <div class="lhs">
      <span class="nt">EqualityExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">RelationalExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpressionNoIn</span> <code class="t">==</code> <span class="nt">RelationalExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpressionNoIn</span> <code class="t">!=</code> <span class="nt">RelationalExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpressionNoIn</span> <code class="t">===</code> <span class="nt">RelationalExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpressionNoIn</span> <code class="t">!==</code> <span class="nt">RelationalExpressionNoIn</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.10">See 11.10</a></div>
    <div class="lhs">
      <span class="nt">BitwiseANDExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseANDExpression</span> <code class="t">&amp;</code> <span class="nt">EqualityExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.10">See 11.10</a></div>
    <div class="lhs">
      <span class="nt">BitwiseANDExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">EqualityExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseANDExpressionNoIn</span> <code class="t">&amp;</code> <span class="nt">EqualityExpressionNoIn</span>
    </div>
  </div>

  <div class="gp">
    <span class="pagemark" id="page229">PDF page 229 / printed page 219</span>
    <div class="gsumxref"><a href="#sec-11.10">See 11.10</a></div>
    <div class="lhs">
      <span class="nt">BitwiseXORExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseANDExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseXORExpression</span> <code class="t">^</code> <span class="nt">BitwiseANDExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.10">See 11.10</a></div>
    <div class="lhs">
      <span class="nt">BitwiseXORExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseANDExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseXORExpressionNoIn</span> <code class="t">^</code> <span class="nt">BitwiseANDExpressionNoIn</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.10">See 11.10</a></div>
    <div class="lhs">
      <span class="nt">BitwiseORExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseXORExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseORExpression</span> <code class="t">|</code> <span class="nt">BitwiseXORExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.10">See 11.10</a></div>
    <div class="lhs">
      <span class="nt">BitwiseORExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseXORExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseORExpressionNoIn</span> <code class="t">|</code> <span class="nt">BitwiseXORExpressionNoIn</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.11">See 11.11</a></div>
    <div class="lhs">
      <span class="nt">LogicalANDExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseORExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalANDExpression</span> <code class="t">&amp;&amp;</code> <span class="nt">BitwiseORExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.11">See 11.11</a></div>
    <div class="lhs">
      <span class="nt">LogicalANDExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">BitwiseORExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalANDExpressionNoIn</span> <code class="t">&amp;&amp;</code> <span class="nt">BitwiseORExpressionNoIn</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.11">See 11.11</a></div>
    <div class="lhs">
      <span class="nt">LogicalORExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalANDExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalORExpression</span> <code class="t">||</code> <span class="nt">LogicalANDExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.11">See 11.11</a></div>
    <div class="lhs">
      <span class="nt">LogicalORExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalANDExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalORExpressionNoIn</span> <code class="t">||</code> <span class="nt">LogicalANDExpressionNoIn</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.12">See 11.12</a></div>
    <div class="lhs">
      <span class="nt">ConditionalExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalORExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalORExpression</span> <code class="t">?</code> <span class="nt">AssignmentExpression</span> <code class="t">:</code> <span class="nt">AssignmentExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.12">See 11.12</a></div>
    <div class="lhs">
      <span class="nt">ConditionalExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalORExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">LogicalORExpressionNoIn</span> <code class="t">?</code> <span class="nt">AssignmentExpressionNoIn</span> <code class="t">:</code> <span class="nt">AssignmentExpressionNoIn</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.13">See 11.13</a></div>
    <div class="lhs">
      <span class="nt">AssignmentExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">ConditionalExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">LeftHandSideExpression</span> <span class="nt">AssignmentOperator</span> <span class="nt">AssignmentExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.13">See 11.13</a></div>
    <div class="lhs">
      <span class="nt">AssignmentExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">ConditionalExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">LeftHandSideExpression</span> <span class="nt">AssignmentOperator</span> <span class="nt">AssignmentExpressionNoIn</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.13">See 11.13</a></div>
    <div class="lhs">
      <span class="nt">AssignmentOperator</span> <span class="geq">:</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">=    *=   /=   %=   +=   -=   &lt;&lt;=  &gt;&gt;=  &gt;&gt;&gt;= &amp;=   ^=    |=</code>
    </div>
  </div>

  <div class="gp">
    <span class="pagemark" id="page230">PDF page 230 / printed page 220</span>
    <div class="gsumxref"><a href="#sec-11.14">See 11.14</a></div>
    <div class="lhs">
      <span class="nt">Expression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">AssignmentExpression</span>
    </div>
    <div class="rhs">
      <span class="nt">Expression</span> <code class="t">,</code> <span class="nt">AssignmentExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-11.14">See 11.14</a></div>
    <div class="lhs">
      <span class="nt">ExpressionNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">AssignmentExpressionNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">ExpressionNoIn</span> <code class="t">,</code> <span class="nt">AssignmentExpressionNoIn</span>
    </div>
  </div>

</div>

</section>


<section id="sec-A.4">
<h1><span class="secnum"><a href="#sec-A.4"
    title="link to this section">A.4</a></span>
    Statements</h1>

<div class="syntax">
  <div class="gp">
    <div class="gsumxref"><a href="#sec-12">See clause 12</a></div>
    <div class="lhs">
      <span class="nt">Statement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Block</span>
    </div>
    <div class="rhs">
      <span class="nt">VariableStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">EmptyStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">ExpressionStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">IfStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">IterationStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">ContinueStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">BreakStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">ReturnStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">WithStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">LabelledStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">SwitchStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">ThrowStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">TryStatement</span>
    </div>
    <div class="rhs">
      <span class="nt">DebuggerStatement</span>
    </div>
    <div class="gsumxref"><a href="#sec-12.1">See 12.1</a></div>
    <div class="lhs">
      <span class="nt">Block</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">StatementList</span><sub>opt</sub> <code class="t">}</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.1">See 12.1</a></div>
    <div class="lhs">
      <span class="nt">StatementList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Statement</span>
    </div>
    <div class="rhs">
      <span class="nt">StatementList</span> <span class="nt">Statement</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.2">See 12.2</a></div>
    <div class="lhs">
      <span class="nt">VariableStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">var</code> <span class="nt">VariableDeclarationList</span> <code class="t">;</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.2">See 12.2</a></div>
    <div class="lhs">
      <span class="nt">VariableDeclarationList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">VariableDeclaration</span>
    </div>
    <div class="rhs">
      <span class="nt">VariableDeclarationList</span> <code class="t">,</code> <span class="nt">VariableDeclaration</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.2">See 12.2</a></div>
    <div class="lhs">
      <span class="nt">VariableDeclarationListNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">VariableDeclarationNoIn</span>
    </div>
    <div class="rhs">
      <span class="nt">VariableDeclarationListNoIn</span> <code class="t">,</code> <span class="nt">VariableDeclarationNoIn</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.2">See 12.2</a></div>
    <div class="lhs">
      <span class="nt">VariableDeclaration</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Identifier</span> <span class="nt">Initialiser</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.2">See 12.2</a></div>
    <div class="lhs">
      <span class="nt">VariableDeclarationNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Identifier</span> <span class="nt">InitialiserNoIn</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <span class="pagemark" id="page231">PDF page 231 / printed page 221</span>
    <div class="gsumxref"><a href="#sec-12.2">See 12.2</a></div>
    <div class="lhs">
      <span class="nt">Initialiser</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">=</code> <span class="nt">AssignmentExpression</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.2">See 12.2</a></div>
    <div class="lhs">
      <span class="nt">InitialiserNoIn</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">=</code> <span class="nt">AssignmentExpressionNoIn</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.3">See 12.3</a></div>
    <div class="lhs">
      <span class="nt">EmptyStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">;</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.4">See 12.4</a></div>
    <div class="lhs">
      <span class="nt">ExpressionStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="grhsannot">[<a href="#def-lookahead-notin">lookahead &notin;</a> {<code class="t">{</code>, <code class="t">function</code>}]</span> <span class="nt">Expression</span> <code class="t">;</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.5">See 12.5</a></div>
    <div class="lhs">
      <span class="nt">IfStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">if</code> <code class="t">(</code> <span class="nt">Expression</span> <code class="t">)</code> <span class="nt">Statement</span> <code class="t">else</code> <span class="nt">Statement</span>
    </div>
    <div class="rhs">
      <code class="t">if</code> <code class="t">(</code> <span class="nt">Expression</span> <code class="t">)</code> <span class="nt">Statement</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.6">See 12.6</a></div>
    <div class="lhs">
      <span class="nt">IterationStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">do</code> <span class="nt">Statement</span> <code class="t">while</code> <code class="t">(</code> <span class="nt">Expression</span> <code class="t">);</code>
    </div>
    <div class="rhs">
      <code class="t">while</code> <code class="t">(</code> <span class="nt">Expression</span> <code class="t">)</code> <span class="nt">Statement</span>
    </div>
    <div class="rhs">
      <code class="t">for</code> <code class="t">(</code> <span class="nt">ExpressionNoIn</span><sub>opt</sub> <code class="t">;</code> <span class="nt">Expression</span><sub>opt</sub> <code class="t">;</code> <span class="nt">Expression</span><sub>opt</sub> <code class="t">)</code> <span class="nt">Statement</span>
    </div>
    <div class="rhs">
      <code class="t">for</code> <code class="t">(</code> <code class="t">var</code> <span class="nt">VariableDeclarationListNoIn</span> <code class="t">;</code> <span class="nt">Expression</span><sub>opt</sub> <code class="t">;</code> <span class="nt">Expression</span><sub>opt</sub> <code class="t">)</code> <span class="nt">Statement</span>
    </div>
    <div class="rhs">
      <code class="t">for</code> <code class="t">(</code> <span class="nt">LeftHandSideExpression</span> <code class="t">in</code> <span class="nt">Expression</span> <code class="t">)</code> <span class="nt">Statement</span>
    </div>
    <div class="rhs">
      <code class="t">for</code> <code class="t">(</code> <code class="t">var</code> <span class="nt">VariableDeclarationNoIn</span> <code class="t">in</code> <span class="nt">Expression</span> <code class="t">)</code> <span class="nt">Statement</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.7">See 12.7</a></div>
    <div class="lhs">
      <span class="nt">ContinueStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">continue</code> <span class="grhsannot"><a href="#def-restricted-production">[no <span class="nt">LineTerminator</span> here]</a></span> <span class="nt">Identifier</span><sub>opt</sub> <code class="t">;</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.8">See 12.8</a></div>
    <div class="lhs">
      <span class="nt">BreakStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">break</code> <span class="grhsannot"><a href="#def-restricted-production">[no <span class="nt">LineTerminator</span> here]</a></span> <span class="nt">Identifier</span><sub>opt</sub> <code class="t">;</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.9">See 12.9</a></div>
    <div class="lhs">
      <span class="nt">ReturnStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">return</code> <span class="grhsannot"><a href="#def-restricted-production">[no <span class="nt">LineTerminator</span> here]</a></span> <span class="nt">Expression</span><sub>opt</sub> <code class="t">;</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.10">See 12.10</a></div>
    <div class="lhs">
      <span class="nt">WithStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">with</code> <code class="t">(</code> <span class="nt">Expression</span> <code class="t">)</code> <span class="nt">Statement</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.11">See 12.11</a></div>
    <div class="lhs">
      <span class="nt">SwitchStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">switch</code> <code class="t">(</code> <span class="nt">Expression</span> <code class="t">)</code> <span class="nt">CaseBlock</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.11">See 12.11</a></div>
    <div class="lhs">
      <span class="nt">CaseBlock</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">CaseClauses</span><sub>opt</sub> <code class="t">}</code>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">CaseClauses</span><sub>opt</sub> <span class="nt">DefaultClause</span> <span class="nt">CaseClauses</span><sub>opt</sub> <code class="t">}</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.11">See 12.11</a></div>
    <div class="lhs">
      <span class="nt">CaseClauses</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">CaseClause</span>
    </div>
    <div class="rhs">
      <span class="nt">CaseClauses</span> <span class="nt">CaseClause</span>
    </div>
  </div>

  <div class="gp">
    <span class="pagemark" id="page232">PDF page 232 / printed page 222</span>
    <div class="gsumxref"><a href="#sec-12.11">See 12.11</a></div>
    <div class="lhs">
      <span class="nt">CaseClause</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">case</code> <span class="nt">Expression</span> <code class="t">:</code> <span class="nt">StatementList</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.11">See 12.11</a></div>
    <div class="lhs">
      <span class="nt">DefaultClause</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">default</code> <code class="t">:</code> <span class="nt">StatementList</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.12">See 12.12</a></div>
    <div class="lhs">
      <span class="nt">LabelledStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Identifier</span> <code class="t">:</code> <span class="nt">Statement</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.13">See 12.13</a></div>
    <div class="lhs">
      <span class="nt">ThrowStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">throw</code> <span class="grhsannot"><a href="#def-restricted-production">[no <span class="nt">LineTerminator</span> here]</a></span> <span class="nt">Expression</span> <code class="t">;</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.14">See 12.14</a></div>
    <div class="lhs">
      <span class="nt">TryStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">try</code> <span class="nt">Block</span> <span class="nt">Catch</span>
    </div>
    <div class="rhs">
      <code class="t">try</code> <span class="nt">Block</span> <span class="nt">Finally</span>
    </div>
    <div class="rhs">
      <code class="t">try</code> <span class="nt">Block</span> <span class="nt">Catch</span> <span class="nt">Finally</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.14">See 12.14</a></div>
    <div class="lhs">
      <span class="nt">Catch</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">catch</code> <code class="t">(</code> <span class="nt">Identifier</span> <code class="t">)</code> <span class="nt">Block</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.14">See 12.14</a></div>
    <div class="lhs">
      <span class="nt">Finally</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">finally</code> <span class="nt">Block</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-12.15">See 12.15</a></div>
    <div class="lhs">
      <span class="nt">DebuggerStatement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">debugger</code> <code class="t">;</code>
    </div>
  </div>
</div>

</section>


<section id="sec-A.5">
<h1><span class="secnum"><a href="#sec-A.5"
    title="link to this section">A.5</a></span>
     Functions and Programs</h1>

<div class="syntax">
  <div class="gp">
    <div class="gsumxref"><a href="#sec-13">See clause 13</a></div>
    <div class="lhs">
      <span class="nt">FunctionDeclaration</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">function</code> <span class="nt">Identifier</span> <code class="t">(</code> <span class="nt">FormalParameterList</span><sub>opt</sub> <code class="t">)</code> <code class="t">{</code> <span class="nt">FunctionBody</span> <code class="t">}</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-13">See clause 13</a></div>
    <div class="lhs">
      <span class="nt">FunctionExpression</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">function</code> <span class="nt">Identifier</span><sub>opt</sub> <code class="t">(</code> <span class="nt">FormalParameterList</span><sub>opt</sub> <code class="t">)</code> <code class="t">{</code> <span class="nt">FunctionBody</span> <code class="t">}</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-13">See clause 13</a></div>
    <div class="lhs">
      <span class="nt">FormalParameterList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Identifier</span>
    </div>
    <div class="rhs">
      <span class="nt">FormalParameterList</span> <code class="t">,</code> <span class="nt">Identifier</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-13">See clause 13</a></div>
    <div class="lhs">
      <span class="nt">FunctionBody</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceElements</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-14">See clause 14</a></div>
    <div class="lhs">
      <span class="nt">Program</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceElements</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-14">See clause 14</a></div>
    <div class="lhs">
      <span class="nt">SourceElements</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceElement</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceElements</span> <span class="nt">SourceElement</span>
    </div>
  </div>

  <div class="gp">
    <span class="pagemark" id="page233">PDF page 233 / printed page 223</span>
    <div class="gsumxref"><a href="#sec-14">See clause 14</a></div>
    <div class="lhs">
      <span class="nt">SourceElement</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">Statement</span>
    </div>
    <div class="rhs">
      <span class="nt">FunctionDeclaration</span>
    </div>
  </div>
</div>

</section>


<section id="sec-A.6">
<h1><span class="secnum"><a href="#sec-A.6"
    title="link to this section">A.6</a></span>
     Universal Resource Identifier Character Classes</h1>

<div class="syntax">
  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.1.3">See 15.1.3</a></div>
    <div class="lhs">
      <span class="nt">uri</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">uriCharacters</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.1.3">See 15.1.3</a></div>
    <div class="lhs">
      <span class="nt">uriCharacters</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">uriCharacter</span> <span class="nt">uriCharacters</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.1.3">See 15.1.3</a></div>
    <div class="lhs">
      <span class="nt">uriCharacter</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">uriReserved</span>
    </div>
    <div class="rhs">
      <span class="nt">uriUnescaped</span>
    </div>
    <div class="rhs">
      <span class="nt">uriEscaped</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.1.3">See 15.1.3</a></div>
    <div class="lhs">
      <span class="nt">uriReserved</span> <span class="geq">:::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">;  /  ?  :  @  &amp;  =  +  $  ,</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.1.3">See 15.1.3</a></div>
    <div class="lhs">
      <span class="nt">uriUnescaped</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <span class="nt">uriAlpha</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalDigit</span>
    </div>
    <div class="rhs">
      <span class="nt">uriMark</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.1.3">See 15.1.3</a></div>
    <div class="lhs">
      <span class="nt">uriEscaped</span> <span class="geq">:::</span>
    </div>
    <div class="rhs">
      <code class="t">%</code> <span class="nt">HexDigit</span> <span class="nt">HexDigit</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.1.3">See 15.1.3</a></div>
    <div class="lhs">
      <span class="nt">uriAlpha</span> <span class="geq">:::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">a  b  c  d  e  f  g  h  i  j  k  l  m  n  o  p  q  r  s  t  u  v  w  x  y  z</code>
    </div>
    <div class="rhs">
      <code class="one-of-t">A  B  C  D  E  F  G  H  I  J  K  L  M  N  O  P  Q  R  S  T  U  V  W  X  Y  Z</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.1.3">See 15.1.3</a></div>
    <div class="lhs">
      <span class="nt">uriMark</span> <span class="geq">:::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">-  _  .  !  ~  *  `  (  )</code>
    </div>
  </div>
</div>

</section>


<section id="sec-A.7">
<h1><span class="secnum"><a href="#sec-A.7"
    title="link to this section">A.7</a></span>
    Regular Expressions</h1>

<div class="syntax">
  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">Pattern</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">Disjunction</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">Disjunction</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">Alternative</span>
    </div>
     <div class="rhs">
       <span class="nt">Alternative</span> <code class="t">|</code> <span class="nt">Disjunction</span>
     </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">Alternative</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="grhsannot">[empty]</span>
    </div>
    <div class="rhs">
      <span class="nt">Alternative</span> <span class="nt">Term</span>
    </div>
  </div>

  <div class="gp">
    <span class="pagemark" id="page234">PDF page 234 / printed page 224</span>
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">Term</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">Assertion</span>
    </div>
    <div class="rhs">
      <span class="nt">Atom</span>
    </div>
    <div class="rhs">
      <span class="nt">Atom</span> <span class="nt">Quantifier</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">Assertion</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">^</code>
    </div>
    <div class="rhs">
      <code class="t">$</code>
    </div>
    <div class="rhs">
      <code class="t">\</code> <code class="t">b</code>
    </div>
    <div class="rhs">
      <code class="t">\</code> <code class="t">B</code>
    </div>
    <div class="rhs">
      <code class="t">(</code> <code class="t">?</code> <code class="t">=</code> <span class="nt">Disjunction</span> <code class="t">)</code>
    </div>
    <div class="rhs">
      <code class="t">(</code> <code class="t">?</code> <code class="t">!</code> <span class="nt">Disjunction</span> <code class="t">)</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">Quantifier</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">QuantifierPrefix</span>
    </div>
    <div class="rhs">
      <span class="nt">QuantifierPrefix</span> <code class="t">?</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">QuantifierPrefix</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">*</code>
    </div>
    <div class="rhs">
      <code class="t">+</code>
    </div>
    <div class="rhs">
      <code class="t">?</code>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">DecimalDigits</span> <code class="t">}</code>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">DecimalDigits</span> <code class="t">,</code> <code class="t">}</code>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">DecimalDigits</span> <code class="t">,</code> <span class="nt">DecimalDigits</span> <code class="t">}</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">Atom</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">PatternCharacter</span>
    </div>
    <div class="rhs">
      <code class="t">.</code>
    </div>
    <div class="rhs">
      <code class="t">\</code> <span class="nt">AtomEscape</span>
    </div>
    <div class="rhs">
      <span class="nt">CharacterClass</span>
    </div>
    <div class="rhs">
      <code class="t">(</code> <span class="nt">Disjunction</span> <code class="t">)</code>
    </div>
    <div class="rhs">
      <code class="t">(</code> <code class="t">?</code> <code class="t">:</code> <span class="nt">Disjunction</span> <code class="t">)</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">PatternCharacter</span>
      <span class="geq">::</span>
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not any of:</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">^  $  \  .  *  +  ?  (  )  [  ]  {  }  |</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">AtomEscape</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalEscape</span>
    </div>
    <div class="rhs">
      <span class="nt">CharacterEscape</span>
    </div>
    <div class="rhs">
      <span class="nt">CharacterClassEscape</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">CharacterEscape</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">ControlEscape</span>
    </div>
    <div class="rhs">
      <code class="t">c</code> <span class="nt">ControlLetter</span>
    </div>
    <div class="rhs">
      <span class="nt">HexEscapeSequence</span>
    </div>
    <div class="rhs">
      <span class="nt">UnicodeEscapeSequence</span>
    </div>
    <div class="rhs">
      <span class="nt">IdentityEscape</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">ControlEscape</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">f  n  r  t  v</code>
    </div>
  </div>

  <div class="gp">
    <span class="pagemark" id="page235">PDF page 235 / printed page 225</span>
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">ControlLetter</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">a  b  c  d  e  f  g  h  i  j  k  l  m  n  o  p  q  r  s  t  u  v  w  x  y  z</code>
    </div>
    <div class="rhs">
      <code class="one-of-t">A  B  C  D  E  F  G  H  I  J  K  L  M  N  O  P  Q  R  S  T  U  V  W  X  Y  Z</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">IdentityEscape</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not</span> <span class="nt">IdentifierPart</span>
    </div>
    <div class="rhs">
      &lt;ZWJ&gt;
    </div>
    <div class="rhs">
      &lt;ZWNJ&gt;
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">DecimalEscape</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalIntegerLiteral</span> <span class="grhsannot">[<a href="#def-lookahead-notin">lookahead &notin;</a> <span class="nt">DecimalDigit</span>]</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">CharacterClassEscape</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">d  D  s  S  w  W</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">CharacterClass</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">[</code> <span class="grhsannot">[<a href="#def-lookahead-notin">lookahead &notin;</a> {<code class="t">^</code>}]</span> <span class="nt">ClassRanges</span> <code class="t">]</code>
    </div>
    <div class="rhs">
      <code class="t">[</code> <code class="t">^</code> <span class="nt">ClassRanges</span> <code class="t">]</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">ClassRanges</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="grhsannot">[empty]</span>
    </div>
    <div class="rhs">
      <span class="nt">NonemptyClassRanges</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">NonemptyClassRanges</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">ClassAtom</span>
    </div>
    <div class="rhs">
      <span class="nt">ClassAtom</span> <span class="nt">NonemptyClassRangesNoDash</span>
    </div>
    <div class="rhs">
      <span class="nt">ClassAtom</span> <code class="t">-</code> <span class="nt">ClassAtom</span> <span class="nt">ClassRanges</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">NonemptyClassRangesNoDash</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">ClassAtom</span>
    </div>
    <div class="rhs">
      <span class="nt">ClassAtomNoDash</span> <span class="nt">NonemptyClassRangesNoDash</span>
    </div>
    <div class="rhs">
      <span class="nt">ClassAtomNoDash</span> <code class="t">-</code> <span class="nt">ClassAtom</span> <span class="nt">ClassRanges</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">ClassAtom</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">-</code>
    </div>
    <div class="rhs">
      <span class="nt">ClassAtomNoDash</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">ClassAtomNoDash</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not one of</span> <code class="t">\</code> <span class="grhsmod">or</span> <code class="t">]</code> <span class="grhsmod">or</span> <code class="t">-</code>
    </div>
    <div class="rhs">
      <code class="t">\</code> <span class="nt">ClassEscape</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.10.1">See 15.10.1</a></div>
    <div class="lhs">
      <span class="nt">ClassEscape</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalEscape</span>
    </div>
    <div class="rhs">
      <code class="t">b</code>
    </div>
    <div class="rhs">
      <span class="nt">CharacterEscape</span>
    </div>
    <div class="rhs">
      <span class="nt">CharacterClassEscape</span>
    </div>
  </div>
</div>
</section>


<section id="sec-A.8">
<span class="pagemark" id="page236">PDF page 236 / printed page 226</span>
<h1><span class="secnum"><a href="#sec-A.8"
    title="link to this section">A.8</a></span>
    JSON</h1>

<section id="sec-A.8.1">
<h1><span class="secnum"><a href="#sec-A.8.1"
    title="link to this section">A.8.1</a></span>
     JSON Lexical Grammar</h1>

<div class="syntax">
  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.12.1.1">See 15.12.1.1</a></div>
    <div class="lhs">
      <span class="nt">JSONWhiteSpace</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      &lt;TAB&gt;
    </div>
    <div class="rhs">
      &lt;CR&gt;
    </div>
    <div class="rhs">
      &lt;LF&gt;
    </div>
    <div class="rhs">
      &lt;SP&gt;
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.12.1.1">See 15.12.1.1</a></div>
    <div class="lhs">
      <span class="nt">JSONString</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">&quot;</code> <span class="nt">JSONStringCharacters</span><sub>opt</sub> <code class="t">&quot;</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.12.1.1">See 15.12.1.1</a></div>
    <div class="lhs">
      <span class="nt">JSONStringCharacters</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONStringCharacter</span> <span class="nt">JSONStringCharacters</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.12.1.1">See 15.12.1.1</a></div>
    <div class="lhs">
      <span class="nt">JSONStringCharacter</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">SourceCharacter</span> <span class="grhsmod">but not</span> <span class="chgloss">double-quote</span> <code class="t">&quot;</code> <span class="grhsmod">or</span> <span class="chgloss">backslash</span> <code class="t">\</code> <span class="grhsmod">or</span> <span class="chgloss">U+0000 thru U+001F</span>
    </div>
    <div class="rhs">
      <code class="t">\</code> <span class="nt">JSONEscapeSequence</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.12.1.1">See 15.12.1.1</a></div>
    <div class="lhs">
      <span class="nt">JSONEscapeSequence</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONEscapeCharacter</span>
    </div>
    <div class="rhs">
      <span class="nt">UnicodeEscapeSequence</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.12.1.1">See 15.12.1.1</a></div>
    <div class="lhs">
      <span class="nt">JSONEscapeCharacter</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
     <div class="rhs">
       <code class="one-of-t">&quot; / \ b f n r t</code>
     </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.12.1.1">See 15.12.1.1</a></div>
    <div class="lhs">
      <span class="nt">JSONNumber</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">-</code><sub>opt</sub>  <span class="nt">DecimalIntegerLiteral</span> <span class="nt">JSONFraction</span><sub>opt</sub>  <span class="nt">ExponentPart</span><sub>opt</sub>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.12.1.1">See 15.12.1.1</a></div>
    <div class="lhs">
      <span class="nt">JSONFraction</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">.</code> <span class="nt">DecimalDigits</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.12.1.1">See 15.12.1.1</a></div>
    <div class="lhs">
      <span class="nt">JSONNullLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">NullLiteral</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.12.1.1">See 15.12.1.1</a></div>
    <div class="lhs">
      <span class="nt">JSONBooleanLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">BooleanLiteral</span>
    </div>
  </div>
</div>

</section>

<section id="sec-A.8.2">
<h1><span class="secnum"><a href="#sec-A.8.2"
    title="link to this section">A.8.2</a></span>
     JSON Syntactic Grammar</h1>

<div class="syntax">
  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.12.1.2">See 15.12.1.2</a></div>
    <div class="lhs">
      <span class="nt">JSONText</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONValue</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.12.1.2">See 15.12.1.2</a></div>
    <div class="lhs">
      <span class="nt">JSONValue</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONNullLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONBooleanLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONObject</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONArray</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONString</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONNumber</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.12.1.2">See 15.12.1.2</a></div>
    <div class="lhs">
      <span class="nt">JSONObject</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">{</code> <code class="t">}</code>
    </div>
    <div class="rhs">
      <code class="t">{</code> <span class="nt">JSONMemberList</span> <code class="t">}</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.12.1.2">See 15.12.1.2</a></div>
    <div class="lhs">
      <span class="nt">JSONMember</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONString</span> <code class="t">:</code> <span class="nt">JSONValue</span>
    </div>
  </div>

  <div class="gp">
    <span class="pagemark" id="page237">PDF page 237 / printed page 227</span>
    <div class="gsumxref"><a href="#sec-15.12.1.2">See 15.12.1.2</a></div>
    <div class="lhs">
      <span class="nt">JSONMemberList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONMember</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONMemberList</span> <code class="t">,</code> <span class="nt">JSONMember</span>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.12.1.2">See 15.12.1.2</a></div>
    <div class="lhs">
      <span class="nt">JSONArray</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <code class="t">[</code> <code class="t">]</code>
    </div>
    <div class="rhs">
      <code class="t">[</code> <span class="nt">JSONElementList</span> <code class="t">]</code>
    </div>
  </div>

  <div class="gp">
    <div class="gsumxref"><a href="#sec-15.12.1.2">See 15.12.1.2</a></div>
    <div class="lhs">
      <span class="nt">JSONElementList</span> <span class="geq">:</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONValue</span>
    </div>
    <div class="rhs">
      <span class="nt">JSONElementList</span> <code class="t">,</code> <span class="nt">JSONValue</span>
    </div>
  </div>
</div>

</section>
</section>

<div class="blank-page">
  <span class="pagemark" id="page238">PDF page 238 / printed page 228</span>
</div>
</section>



<section id="sec-B">
<span class="pagemark" id="page239">PDF page 239 / printed page 229</span>
<h1>Annex B
  <span class="section-status">(informative)</span>
  <span style="display: block">Compatibility</span></h1>

<section id="sec-B.1">
<h1><span class="secnum"><a href="#sec-B.1"
    title="link to this section">B.1</a></span>
    Additional Syntax</h1>

<p>Past editions of ECMAScript have included additional syntax and semantics
for specifying octal literals and octal escape sequences. These have been
removed from this edition of ECMAScript. This non-normative annex presents
uniform syntax and semantics for octal literals and octal escape sequences for
compatibility with some older ECMAScript programs.</p>


<section id="sec-B.1.1">
<h1><span class="secnum"><a href="#sec-B.1.1"
    title="link to this section">B.1.1</a></span>
    Numeric Literals</h1>

<p>The syntax and semantics of <a href="#sec-7.8.3">7.8.3</a> can be extended
as follows except that this extension is not allowed for
<a href="#sec-10.1.1">strict mode code</a>:</p>


<div class="syntax">
  <h2>Syntax</h2>
  <div class="gp" id="def-NumericLiteral-extended">
    <div class="lhs">
      <span class="nt">NumericLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">DecimalLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">HexIntegerLiteral</span>
    </div>
    <div class="rhs">
      <span class="nt">OctalIntegerLiteral</span>
    </div>
  </div>

  <div class="gp" id="def-OctalIntegerLiteral">
    <div class="lhs">
      <span class="nt">OctalIntegerLiteral</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <code class="t">0</code> <span class="nt">OctalDigit</span>
    </div>
    <div class="rhs">
      <span class="nt">OctalIntegerLiteral</span> <span class="nt">OctalDigit</span>
    </div>
  </div>

  <div class="gp" id="def-OctalDigit">
    <div class="lhs">
      <span class="nt">OctalDigit</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div class="rhs">
      <code class="one-of-t">0  1  2  3  4  5  6  7</code>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<ul>
  <li>The MV of <span class="prod"><span class="nt"
      data-nt="NumericLiteral-extended">NumericLiteral</span>
      <span class="geq">::</span>
      <span class="nt">OctalIntegerLiteral</span></span> is the MV of
      <span class="nt">OctalIntegerLiteral</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">OctalDigit</span>
      <span class="geq">::</span> <code class="t">0</code></span> is 0.</li>

  <li>The MV of <span class="prod"><span class="nt">OctalDigit</span>
      <span class="geq">::</span> <code class="t">1</code></span> is 1.</li>

  <li>The MV of <span class="prod"><span class="nt">OctalDigit</span>
      <span class="geq">::</span> <code class="t">2</code></span> is 2.</li>

  <li>The MV of <span class="prod"><span class="nt">OctalDigit</span>
      <span class="geq">::</span> <code class="t">3</code></span> is 3.</li>

  <li>The MV of <span class="prod"><span class="nt">OctalDigit</span>
      <span class="geq">::</span> <code class="t">4</code></span> is 4.</li>

  <li>The MV of <span class="prod"><span class="nt">OctalDigit</span>
      <span class="geq">::</span> <code class="t">5</code></span> is 5.</li>

  <li>The MV of <span class="prod"><span class="nt">OctalDigit</span>
      <span class="geq">::</span> <code class="t">6</code></span> is 6.</li>

  <li>The MV of <span class="prod"><span class="nt">OctalDigit</span>
      <span class="geq">::</span> <code class="t">7</code></span> is 7.</li>

  <li>The MV of <span class="prod"><span class="nt">OctalIntegerLiteral</span>
      <span class="geq">::</span> <code class="t">0</code>
      <span class="nt">OctalDigit</span></span> is the MV of
      <span class="nt">OctalDigit</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">OctalIntegerLiteral</span>
      <span class="geq">::</span> <span class="nt">OctalIntegerLiteral</span>
      <span class="nt">OctalDigit</span></span> is (the MV of
      <span class="nt">OctalIntegerLiteral</span> times 8) plus the MV of
      <span class="nt">OctalDigit</span>.</li>
</ul>

</section>

<section id="sec-B.1.2">
<h1><span class="secnum"><a href="#sec-B.1.2"
    title="link to this section">B.1.2</a></span>
    String Literals</h1>

<p>The syntax and semantics of <a href="#sec-7.8.4">7.8.4</a> can be extended
as follows except that this extension is not allowed for
<a href="#sec-10.1.1">strict mode code</a>:</p>

<div class="syntax">
  <span class="pagemark" id="page240">PDF page 240 / printed page 230</span>
  <h2>Syntax</h2>

  <div class="gp" id="def-EscapeSequence-extended">
    <div class="lhs">
      <span class="nt">EscapeSequence</span>
      <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">CharacterEscapeSequence</span>
    </div>
    <div class="rhs">
      <span class="nt">OctalEscapeSequence</span>
    </div>
    <div class="rhs">
      <span class="nt">HexEscapeSequence</span>
    </div>
    <div class="rhs">
      <span class="nt">UnicodeEscapeSequence</span>
    </div>
  </div>

  <div class="gp" id="def-OctalEscapeSequence">
    <div class="lhs">
      <span class="nt">OctalEscapeSequence</span> <span class="geq">::</span>
    </div>
    <div class="rhs">
      <span class="nt">OctalDigit</span> <span class="grhsannot">[<a href="#def-lookahead-notin">lookahead &notin;</a> <span class="nt">DecimalDigit</span>]</span>
    </div>
    <div class="rhs">
      <span class="nt">ZeroToThree</span> <span class="nt">OctalDigit</span> <span class="grhsannot">[<a href="#def-lookahead-notin">lookahead &notin;</a> <span class="nt">DecimalDigit</span>]</span>
    </div>
    <div class="rhs">
      <span class="nt">FourToSeven</span> <span class="nt">OctalDigit</span>
    </div>
    <div class="rhs">
      <span class="nt">ZeroToThree</span> <span class="nt">OctalDigit</span> <span class="nt">OctalDigit</span>
    </div>
  </div>

  <div class="gp" id="def-ZeroToThree">
    <div class="lhs">
      <span class="nt">ZeroToThree</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div>
      <code class="t">0</code>
      <code class="t">1</code>
      <code class="t">2</code>
      <code class="t">3</code>
    </div>
  </div>

  <div class="gp" id="def-FourToSeven">
    <div class="lhs">
      <span class="nt">FourToSeven</span> <span class="geq">::</span> <span class="grhsmod">one of</span>
    </div>
    <div>
      <code class="t">4</code>
      <code class="t">5</code>
      <code class="t">6</code>
      <code class="t">7</code>
    </div>
  </div>
</div>

<h2>Semantics</h2>

<ul>
  <li>The CV of <span class="prod"><span class="nt"
      data-nt="EscapeSequence-extended">EscapeSequence</span>
      <span class="geq">::</span>
      <span class="nt">OctalEscapeSequence</span></span> is the CV of the
      <span class="nt">OctalEscapeSequence</span>.</li>

  <li>The CV of <span class="prod"><span class="nt">OctalEscapeSequence</span>
      <span class="geq">::</span> <span class="nt">OctalDigit</span>
      <span class="grhsannot">[<a href="#def-lookahead-notin">lookahead
      &notin;</a> <span class="nt">DecimalDigit</span>]</span></span> is the
      character whose code unit value is the MV of the
      <span class="nt">OctalDigit</span>.</li>

  <li>The CV of <span class="prod"><span class="nt">OctalEscapeSequence</span>
      <span class="geq">::</span> <span class="nt">ZeroToThree</span>
      <span class="nt">OctalDigit</span>
      <span class="grhsannot">[<a href="#def-lookahead-notin">lookahead
      &notin;</a> <span class="nt">DecimalDigit</span>]</span></span> is the
      character whose code unit value is (8 times the MV of the
      <span class="nt">ZeroToThree</span>) plus the MV of the
      <span class="nt">OctalDigit</span>.</li>

  <li>The CV of <span class="prod"><span class="nt">OctalEscapeSequence</span>
      <span class="geq">::</span> <span class="nt">FourToSeven</span>
      <span class="nt">OctalDigit</span></span> is the character whose code
      unit value is (8 times the MV of the <span class="nt">FourToSeven</span>)
      plus the MV of the <span class="nt">OctalDigit</span>.</li>

  <li>The CV of <span class="prod"><span class="nt">OctalEscapeSequence</span>
      <span class="geq">::</span> <span class="nt">ZeroToThree</span>
      <span class="nt">OctalDigit</span>
      <span class="nt">OctalDigit</span></span> is the character whose code
      unit value is (64 (that is, 82) times the MV of the
      <span class="nt">ZeroToThree</span>) plus (8 times the MV of the first
      <span class="nt">OctalDigit</span>) plus the MV of the second
      <span class="nt">OctalDigit</span>.</li>

  <li>The MV of <span class="prod"><span class="nt">ZeroToThree</span>
      <span class="geq">::</span> <code class="t">0</code></span> is 0.</li>

  <li>The MV of <span class="prod"><span class="nt">ZeroToThree</span>
      <span class="geq">::</span> <code class="t">1</code></span> is 1.</li>

  <li>The MV of <span class="prod"><span class="nt">ZeroToThree</span>
      <span class="geq">::</span> <code class="t">2</code></span> is 2.</li>

  <li>The MV of <span class="prod"><span class="nt">ZeroToThree</span>
      <span class="geq">::</span> <code class="t">3</code></span> is 3.</li>

  <li>The MV of <span class="prod"><span class="nt">FourToSeven</span>
      <span class="geq">::</span> <code class="t">4</code></span> is 4.</li>

  <li>The MV of <span class="prod"><span class="nt">FourToSeven</span>
      <span class="geq">::</span> <code class="t">5</code></span> is 5.</li>

  <li>The MV of <span class="prod"><span class="nt">FourToSeven</span>
      <span class="geq">::</span> <code class="t">6</code></span> is 6.</li>

  <li>The MV of <span class="prod"><span class="nt">FourToSeven</span>
      <span class="geq">::</span> <code class="t">7</code></span> is 7.</li>
</ul>
</section>
</section>


<section id="sec-B.2">
<h1><span class="secnum"><a href="#sec-B.2"
    title="link to this section">B.2</a></span>
    Additional Properties</h1>

<p>Some implementations of ECMAScript have included additional properties for
some of the standard native objects. This non-normative annex suggests uniform
semantics for such properties without making the properties or their semantics
part of this standard.</p>


<section id="sec-B.2.1">
<h1><span class="secnum"><a href="#sec-B.2.1"
    title="link to this section">B.2.1</a></span>
    escape (string)</h1>

<p>The <span class="libname">escape</span> function is a property of the global
object. It computes a new version of a String value in which certain characters
have been replaced by a hexadecimal escape sequence.</p>

<p>For those characters being replaced whose code unit value is
<code>0xFF</code> or less, a two-digit escape sequence of the form
<code>%<var>xx</var></code> is used. For those characters being replaced whose
code unit value is greater than <code>0xFF</code>, a four-digit escape sequence
of the form <code>%u<var>xxxx</var></code> is used.</p>

<p><span class="pagemark" id="page241">PDF page 241 / printed page 231</span>
When the <span class="libname">escape</span> function is called with one
argument <var>string</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Call <a href="#sec-9.8">ToString</a>(<var>string</var>).</li>

  <li>Compute the number of characters in
      <a href="#def-Result">Result</a>(1).</li>

  <li>Let <var>R</var> be the empty string.</li>

  <li>Let <var>k</var> be 0.</li>

  <li>If <var>k</var> equals <a href="#def-Result">Result</a>(2), return
      <var>R</var>.</li>

  <li>Get the character (represented as a 16-bit unsigned integer) at position
      <var>k</var> within <a href="#def-Result">Result</a>(1).</li>

  <li>If <a href="#def-Result">Result</a>(6) is one of the 69 nonblank
      characters
      &ldquo;<code class="ch">ABCDEFGHIJKLMNOPQRSTUVWXYZ<wbr />abcdefghijklmnopqrstuvwxyz<wbr />0123456789@*_+-./</code>&rdquo;
      then go to step 13.</li>

  <li>If <a href="#def-Result">Result</a>(6), is less than 256, go to step
      11.</li>

  <li>Let <var>S</var> be a String containing six characters
      <span class="string value">"%u<var>wxyz</var>"</span> where
      <span class="bogus string value"><var>wxyz</var></span> are four
      hexadecimal digits encoding the value of
      <a href="#def-Result">Result</a>(6).</li>

  <li>Go to step 14.</li>

  <li>Let <var>S</var> be a String containing three characters
      <span class="string value">"%<var>xy</var>"</span> where
      <span class="bogus string value"><var>xy</var></span> are two hexadecimal
      digits encoding the value of <a href="#def-Result">Result</a>(6).</li>

  <li>Go to step 14.</li>

  <li>Let <var>S</var> be a String containing the single character
      <a href="#def-Result">Result</a>(6).</li>

  <li>Let <var>R</var> be a new String value computed by concatenating the
      previous value of <var>R</var> and <var>S</var>.</li>

  <li>Increase <var>k</var> by 1.</li>

  <li>Go to step 5.</li>
</ol>

<div class="note">
  <p><span class="nh">NOTE</span> The encoding is partly based on the encoding
  described in RFC 1738, but the entire encoding specified in this standard is
  described above without regard to the contents of RFC 1738.</p>
</div>
</section>

<section id="sec-B.2.2">
<h1><span class="secnum"><a href="#sec-B.2.2"
    title="link to this section">B.2.2</a></span>
    unescape (string)</h1>

<p>The <span class="libname">unescape</span> function is a property of the
global object. It computes a new version of a String value in which each escape
sequence of the sort that might be introduced by the
<a href="#sec-B.2.1"><span class="libname">escape</span></a> function is
replaced with the character that it represents.</p>

<p>When the <span class="libname">unescape</span> function is called with one
argument <var>string</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Call <a href="#sec-9.8">ToString</a>(<var>string</var>).</li>

  <li>Compute the number of characters in
      <a href="#def-Result">Result</a>(1).</li>

  <li>Let <var>R</var> be the empty String.</li>

  <li>Let <var>k</var> be 0.</li>

  <li>If <var>k</var> equals <a href="#def-Result">Result</a>(2), return
      <var>R</var>.</li>

  <li>Let <var>c</var> be the character at position <var>k</var> within
      <a href="#def-Result">Result</a>(1).</li>

  <li>If <var>c</var> is not <code class="ch">%</code>, go to step 18.</li>

  <li>If <var>k</var> is greater than
      <a href="#def-Result">Result</a>(2)&minus;6, go to step 14.</li>

  <li>If the character at position <var>k</var>+1 within
      <a href="#def-Result">Result</a>(1) is not <code class="ch">u</code>, go
      to step 14.</li>

  <li>If the four characters at positions <var>k</var>+2, <var>k</var>+3,
      <var>k</var>+4, and <var>k</var>+5 within
      <a href="#def-Result">Result</a>(1) are not all hexadecimal digits, go to
      step 14.</li>

  <li>Let <var>c</var> be the character whose code unit value is the integer
      represented by the four hexadecimal digits at positions <var>k</var>+2,
      <var>k</var>+3, <var>k</var>+4, and <var>k</var>+5 within
      <a href="#def-Result">Result</a>(1).</li>

  <li>Increase k by 5.</li>

  <li>Go to step 18.</li>

  <li>If <var>k</var> is greater than
      <a href="#def-Result">Result</a>(2)&minus;3, go to step 18.</li>

  <li>If the two characters at positions <var>k</var>+1 and <var>k</var>+2
      within <a href="#def-Result">Result</a>(1) are not both hexadecimal
      digits, go to step 18.</li>

  <li>Let <var>c</var> be the character whose code unit value is the integer
      represented by two zeroes plus the two hexadecimal digits at positions
      <var>k</var>+1 and <var>k</var>+2 within
      <a href="#def-Result">Result</a>(1).</li>

  <li>Increase <var>k</var> by 2.</li>

  <li>Let <var>R</var> be a new String value computed by concatenating the
      previous value of <var>R</var> and <var>c</var>.</li>

  <li>Increase <var>k</var> by 1.</li>

  <li>Go to step 5.</li>
</ol>
</section>

<section id="sec-B.2.3">
<span class="pagemark" id="page242">PDF page 242 / printed page 232</span>
<h1><span class="secnum"><a href="#sec-B.2.3"
    title="link to this section">B.2.3</a></span>
     String.prototype.substr (start, length)</h1>

<p>The <span class="libname">substr</span> method takes two arguments,
<var>start</var> and <var>length</var>, and returns a substring of the result
of converting the this object to a String, starting from character position
<var>start</var> and running for <var>length</var> characters (or through the
end of the String if <var>length</var> is
<span class="value">undefined</span>). If <var>start</var> is negative, it is
treated as (<var>sourceLength</var>+<var>start</var>) where
<var>sourceLength</var> is the length of the String. The result is a String
value, not a String object. The following steps are taken:</p>

<ol class="proc">
  <li>Call <a href="#sec-9.8">ToString</a>, giving it the
      <span class="this">this</span> value as its argument.</li>

  <li>Call <a href="#sec-9.4">ToInteger</a>(<var>start</var>).</li>

  <li>If <var>length</var> is <span class="value">undefined</span>, use
      <span class="value">+&infin;</span>; otherwise call
      <a href="#sec-9.4">ToInteger</a>(<var>length</var>).</li>

  <li>Compute the number of characters in
      <a href="#def-Result">Result</a>(1).</li>

  <li>If <a href="#def-Result">Result</a>(2) is positive or zero, use
      <a href="#def-Result">Result</a>(2); else use
      max(<a href="#def-Result">Result</a>(4)+<a href="#def-Result">Result</a>(2),0).</li>

  <li>Compute min(max(<a href="#def-Result">Result</a>(3),0),
      <a href="#def-Result">Result</a>(4)&minus;<a href="#def-Result">Result</a>(5)).</li>

  <li>If <a href="#def-Result">Result</a>(6) &le; 0, return the empty String
      <span class="string value">""</span>.</li>

  <li>Return a String containing <a href="#def-Result">Result</a>(6)
      consecutive characters from <a href="#def-Result">Result</a>(1) beginning
      with the character at position <a href="#def-Result">Result</a>(5).</li>
</ol>

<p>The <code class="propname">length</code> property of the
<span class="libname">substr</span> method is <span class="value">2</span>.</p>

<div class="note">
  <p><span class="nh">NOTE</span> The <span class="libname">substr</span>
  function is intentionally generic; it does not require that its
  <span class="this">this</span> value be a String object. Therefore it can be
  transferred to other kinds of objects for use as a method.</p>
</div>
</section>

<section id="sec-B.2.4">
<h1><span class="secnum"><a href="#sec-B.2.4"
    title="link to this section">B.2.4</a></span>
     Date.prototype.getYear ( )</h1>

<div class="note">
  <p><span class="nh">NOTE</span> The
  <a href="#sec-15.9.5.10"><span class="libname">getFullYear</span></a> method
  is preferred for nearly all purposes, because it avoids the &ldquo;year 2000
  problem.&rdquo;</p>
</div>

<p>When the <span class="libname">getYear</span> method is called with no
arguments, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>t</var> be <a href="#def-this-time-value">this time
      value</a>.</li>

  <li>If <var>t</var> is <span class="value">NaN</span>, return
      <span class="value">NaN</span>.</li>

  <li>Return
      <a href="#sec-15.9.1.3">YearFromTime</a>(<a href="#sec-15.9.1.9">LocalTime</a>(<var>t</var>))
      &minus; 1900.</li>
</ol>
</section>

<section id="sec-B.2.5">
<h1><span class="secnum"><a href="#sec-B.2.5"
    title="link to this section">B.2.5</a></span>
    Date.prototype.setYear (year)</h1>

<div class="note">
  <p><span class="nh">NOTE</span> The
  <a href="#sec-15.9.5.40"><span class="libname">setFullYear</span></a> method
  is preferred for nearly all purposes, because it avoids the &ldquo;year 2000
  problem.&rdquo;</p>
</div>

<p>When the <span class="libname">setYear</span> method is called with one
argument <var>year</var>, the following steps are taken:</p>

<ol class="proc">
  <li>Let <var>t</var> be the result of
      <a href="#sec-15.9.1.9">LocalTime</a>(<a href="#def-this-time-value">this
      time value</a>); but if <a href="#def-this-time-value">this time
      value</a> is <span class="value">NaN</span>, let <var>t</var> be
      <span class="value">+0</span>.</li>

  <li>Call <a href="#sec-9.3">ToNumber</a>(<var>year</var>).</li>

  <li>If <a href="#def-Result">Result</a>(2) is <span class="value">NaN</span>,
      set the [[PrimitiveValue]] internal property of the
      <span class="this">this</span> value to <span class="value">NaN</span>
      and return <span class="value">NaN</span>.</li>

  <li>If <a href="#def-Result">Result</a>(2) is not
      <span class="value">NaN</span> and 0 &le;
      <a href="#sec-9.4">ToInteger</a>(<a href="#def-Result">Result</a>(2))
      &le; 99 then <a href="#def-Result">Result</a>(4) is
      <a href="#sec-9.4">ToInteger</a>(<a href="#def-Result">Result</a>(2)) +
      1900. Otherwise, <a href="#def-Result">Result</a>(4) is
      <a href="#def-Result">Result</a>(2).</li>

  <li>Compute
      <a href="#sec-15.9.1.12">MakeDay</a>(<a href="#def-Result">Result</a>(4),
      <a href="#sec-15.9.1.4">MonthFromTime</a>(<var>t</var>),
      <a href="#sec-15.9.1.5">DateFromTime</a>(<var>t</var>)).</li>

  <li>Compute
      <a href="#sec-15.9.1.9">UTC</a>(<a href="#sec-15.9.1.13">MakeDate</a>(<a href="#def-Result">Result</a>(5),
      <a href="#sec-15.9.1.2">TimeWithinDay</a>(<var>t</var>))).</li>

  <li>Set the [[PrimitiveValue]] internal property of the
      <span class="this">this</span> value to
      <a href="#sec-15.9.1.14">TimeClip</a>(<a href="#def-Result">Result</a>(6)).</li>

  <li>Return the value of the [[PrimitiveValue]] internal property of the
      <span class="this">this</span> value.</li>
</ol>
</section>

<section id="sec-B.2.6">
<h1><span class="secnum"><a href="#sec-B.2.6"
    title="link to this section">B.2.6</a></span>
     Date.prototype.toGMTString ( )</h1>

<div class="note">
  <p><span class="nh">NOTE</span> The property
  <code class="propname">toUTCString</code> is preferred. The
  <code class="propname">toGMTString</code> property is provided principally
  for compatibility with old code. It is recommended that the
  <code class="propname">toUTCString</code> property be used in new ECMAScript
  code.</p>
</div>

<p>The Function object that is the initial value of
<span class="libname">Date.prototype.toGMTString</span> is the same Function
object that is the initial value of
<a href="#sec-15.9.5.42"><span class="libname">Date.prototype.toUTCString</span></a>.</p>

</section>
</section>
</section>



<section id="sec-C">
<span class="pagemark" id="page243">PDF page 243 / printed page 233</span>
<h1>Annex C
  <span class="section-status">(informative)</span>
  <span style="display: block">The Strict Mode of ECMAScript</span></h1>

<h2>The strict mode restriction and exceptions</h2>

<ul>
  <li><p>The identifiers <span class="string value">"implements"</span>,
      <span class="string value">"interface"</span>, <span class="string
      value">"let"</span>, <span class="string value">"package"</span>,
      <span class="string value">"private"</span>, <span class="string
      value">"protected"</span>, <span class="string value">"public"</span>,
      <span class="string value">"static"</span>, and <span class="string
      value">"yield"</span> are classified as
      <span class="nt">FutureReservedWord</span> tokens within strict mode
      code. (7.6.12).</p></li>

  <li><p>A conforming implementation, when processing
      <a href="#sec-10.1.1">strict mode code</a>, may not extend the syntax of
      <span class="nt">NumericLiteral</span> (<a href="#sec-7.8.3">7.8.3</a>)
      to include <span class="nt">OctalIntegerLiteral</span> as described in
      <a href="#sec-B.1.1">B.1.1</a>.</p></li>

  <li><p>A conforming implementation, when processing
      <a href="#sec-10.1.1">strict mode code (see 10.1.1)</a>, may not extend
      the syntax of <span class="nt">EscapeSequence</span> to include
      <span class="nt">OctalEscapeSequence</span> as described in
      <a href="#sec-B.1.2">B.1.2</a>.</p></li>

  <li><p>Assignment to an undeclared identifier or otherwise unresolvable
      reference does not create a property in the global object. When a simple
      assignment occurs within <a href="#sec-10.1.1">strict mode code</a>, its
      <span class="nt" data-nt="LeftHandSideExpression">LeftHandSide</span>
      must not evaluate to an
      <a href="#def-IsUnresolvableReference">unresolvable Reference</a>. If it
      does a <span class="errorname">ReferenceError</span> exception is thrown
      (<a href="#sec-8.7.2">8.7.2</a>). The <span class="nt"
      data-nt="LeftHandSideExpression">LeftHandSide</span> also may not be a
      reference to a data property with the attribute value
      {[[Writable]]:<span class="value">false</span>}, to an accessor property
      with the attribute value {[[Set]]:<span class="value">undefined</span>},
      nor to a non-existent property of an object whose [[Extensible]] internal
      property has the value <span class="value">false</span>. In these cases a
      <span class="errorname">TypeError</span> exception is thrown
      (<a href="#sec-11.13.1">11.13.1</a>).</p></li>

  <li><p>The identifier <code class="t">eval</code> or
      <code class="t">arguments</code> may not appear as the
      <span class="nt">LeftHandSideExpression</span> of an Assignment operator
      (<a href="#sec-11.13">11.13</a>) or of a
      <span class="nt">PostfixExpression</span> (<a href="#sec-11.3">11.3</a>)
      or as the <span class="nt">UnaryExpression</span> operated upon by a
      Prefix Increment (<a href="#sec-11.4.4">11.4.4</a>) or a Prefix Decrement
      (<a href="#sec-11.4.5">11.4.5</a>) operator.</p></li>

  <li><p>Arguments objects for strict mode functions define non-configurable
      accessor properties named
      &ldquo;<code class="propname">caller</code>&rdquo; and
      &ldquo;<code class="propname">callee</code>&rdquo; which throw a
      <span class="errorname">TypeError</span> exception on access
      (<a href="#sec-10.6">10.6</a>).</p></li>

  <li><p>Arguments objects for strict mode functions do not dynamically share
      their array indexed property values with the corresponding formal
      parameter bindings of their functions.
      (<a href="#sec-10.6">10.6</a>).</p></li>

  <li><p>For strict mode functions, if an arguments object is created the
      binding of the local identifier <code class="t">arguments</code> to the
      arguments object is immutable and hence may not be the target of an
      assignment expression. (<a href="#sec-10.5">10.5</a>).</p></li>

  <li><p>It is a <span class="errorname">SyntaxError</span> if
      <a href="#sec-10.1.1">strict mode code</a> contains an
      <span class="nt">ObjectLiteral</span> with more than one definition of
      any data property (<a href="#sec-11.1.5">11.1.5</a>).</p></li>

  <li><p>It is a <span class="errorname">SyntaxError</span> if the
      <span class="nt">Identifier</span>
      &ldquo;<code class="t">eval</code>&rdquo; or the
      <span class="nt">Identifier</span>
      &ldquo;<code class="t">arguments</code>&rdquo; occurs as the
      <span class="nt">Identifier</span> in a
      <span class="nt">PropertySetParameterList</span> of a
      <span class="nt">PropertyAssignment</span> that is contained in
      <a href="#sec-10.1.1">strict code</a> or if its
      <span class="nt">FunctionBody</span> is <a href="#sec-10.1.1">strict
      code</a> (<a href="#sec-11.1.5">11.1.5</a>).</p></li>

  <li><p>Strict mode eval code cannot instantiate variables or functions in the
      variable environment of the caller to eval. Instead, a new variable
      environment is created and that environment is used for declaration
      binding instantiation for the <a href="#def-eval-code">eval code</a>
      (<a href="#sec-10.4.2">10.4.2</a>).</p></li>

  <li><p>If <code class="t">this</code> is evaluated within
      <a href="#sec-10.1.1">strict mode code</a>, then the
      <span class="this">this</span> value is not coerced to an object. A
      <span class="this">this</span> value of <span class="value">null</span>
      or <span class="value">undefined</span> is not converted to the global
      object and primitive values are not converted to wrapper objects. The
      <span class="this">this</span> value passed via a function call
      (including calls made using
      <span class="libname">Function.prototype.apply</span> and
      <span class="libname">Function.prototype.call</span>) do not coerce the
      passed this value to an object (<a href="#sec-10.4.3">10.4.3</a>,
      <a href="#sec-11.1.1">11.1.1</a>, <a href="#sec-15.3.4.3">15.3.4.3</a>,
      <a href="#sec-15.3.4.4">15.3.4.4</a>).</p></li>

  <li><p>When a <code class="t">delete</code> operator occurs within
      <a href="#sec-10.1.1">strict mode code</a>, a
      <span class="errorname">SyntaxError</span> is thrown if its
      <span class="nt">UnaryExpression</span> is a direct reference to a
      variable, function argument, or function name
      (<a href="#sec-11.4.1">11.4.1</a>).</p></li>

  <li><p>When a <code class="t">delete</code> operator occurs within
      <a href="#sec-10.1.1">strict mode code</a>, a
      <span class="errorname">TypeError</span> is thrown if the property to be
      deleted has the attribute {
      [[Configurable]]:<span class="value">false</span> }
      (<a href="#sec-11.4.1">11.4.1</a>).</p></li>

  <li><p>It is a <span class="errorname">SyntaxError</span> if a
      <span class="nt">VariableDeclaration</span> or
      <span class="nt">VariableDeclarationNoIn</span> occurs within
      <a href="#sec-10.1.1">strict code</a> and its
      <span class="nt">Identifier</span> is <code class="t">eval</code> or
      <code class="t">arguments</code>
      (<a href="#sec-12.2.1">12.2.1</a>).</p></li>

  <li><p><span class="pagemark" id="page244">PDF page 244 / printed page
      234</span> <a href="#sec-10.1.1">Strict mode code</a> may not include a
      <span class="nt">WithStatement</span>. The occurrence of a
      <span class="nt">WithStatement</span> in such a context is an
      <span class="errorname">SyntaxError</span>
      (<a href="#sec-12.10">12.10</a>).</p></li>

  <li><p>It is a <span class="errorname">SyntaxError</span> if a
      <span class="nt">TryStatement</span> with a <span class="nt">Catch</span>
      occurs within <a href="#sec-10.1.1">strict code</a> and the
      <span class="nt">Identifier</span> of the <span class="nt">Catch</span>
      production is <code class="t">eval</code> or
      <code class="t">arguments</code>
      (<a href="#sec-12.14.1">12.14.1</a>)</p></li>

  <li><p>It is a <span class="errorname">SyntaxError</span> if the identifier
      <code class="t">eval</code> or <code class="t">arguments</code> appears
      within a <span class="nt">FormalParameterList</span> of a strict mode
      <span class="nt">FunctionDeclaration</span> or
      <span class="nt">FunctionExpression</span>
      (<a href="#sec-13.1">13.1</a>).</p></li>

  <li><p>A strict mode function may not have two or more formal parameters that
      have the same name. An attempt to create such a function using a
      <span class="nt">FunctionDeclaration</span>,
      <span class="nt">FunctionExpression</span>, or
      <span class="libname">Function</span> constructor is a
      <span class="errorname">SyntaxError</span> (<a href="#sec-13.1">13.1</a>,
      <a href="#sec-15.3.2">15.3.2</a>).</p></li>

  <li><p>An implementation may not extend, beyond that defined in this
      specification, the meanings within strict mode functions of properties
      named <code class="propname">caller</code> or
      <code class="propname">arguments</code> of function instances. ECMAScript
      code may not create or modify properties with these names on function
      objects that correspond to strict mode functions
      (<a href="#sec-10.6">10.6</a>, <a href="#sec-13.2">13.2</a>,
      <a href="#sec-15.3.4.5.3">15.3.4.5.3</a>).</p></li>

  <li><p>It is a <span class="errorname">SyntaxError</span> to use within
      <a href="#sec-10.1.1">strict mode code</a> the identifiers
      <code class="t">eval</code> or <code class="t">arguments</code> as the
      <span class="nt">Identifier</span> of a
      <span class="nt">FunctionDeclaration</span> or
      <span class="nt">FunctionExpression</span> or as a formal parameter name
      (<a href="#sec-13.1">13.1</a>). Attempting to dynamically define such a
      strict mode function using the <span class="libname">Function</span>
      constructor (<a href="#sec-15.3.2">15.3.2</a>) will throw a
      <span class="errorname">SyntaxError</span> exception.</p></li>
</ul>
</section>



<section id="sec-D">
<span class="pagemark" id="page245">PDF page 245 / printed page 235</span>
<h1>Annex D
  <span class="section-status">(informative)</span>
  <span style="display: block">Corrections and Clarifications in the 5th
      Edition with Possible 3rd Edition Compatibility Impact</span></h1>

<p>Throughout: In the Edition 3 specification the meaning of phrases such as
&ldquo;as if by the expression <code class="expr">new Array()</code>&rdquo; are
subject to misinterpretation. In the Edition 5 specification text for all
internal references and invocations of standard built-in objects and methods
has been clarified by making it explicit that the intent is that the actual
built-in object is to be used rather than the current dynamic value of the
correspondingly named property.</p>

<p><a href="#sec-11.8.2">11.8.2</a>, <a href="#sec-11.8.3">11.8.3</a>,
<a href="#sec-11.8.5">11.8.5</a>: ECMAScript generally uses a left to right
evaluation order, however the Edition 3 specification language for the
<code class="t">&gt;</code> and <code class="t">&lt;=</code> operators resulted
in a partial right to left order. The specification has been corrected for
these operators such that it now specifies a full left to right evaluation
order. However, this change of order is potentially observable if side-effects
occur during the evaluation process.</p>

<p><a href="#sec-11.1.4">11.1.4</a>: Edition 5 clarifies the fact that a
trailing comma at the end of an <span class="nt">ArrayInitialiser</span> does
not add to the length of the array. This is not a semantic change from Edition
3 but some implementations may have previously misinterpreted this.</p>

<p><a href="#sec-11.2.3">11.2.3</a>: Edition 5 reverses the order of steps 2
and 3 of the algorithm. The original order as specified in Editions 1 through 3
was incorrectly specified such that side-effects of evaluating
<span class="nt">Arguments</span> could affect the result of evaluating
<span class="nt">MemberExpression</span>.</p>

<p><a href="#sec-12.4">12.4</a>: In Edition 3, an object is created, as if by
<code class="expr">new Object()</code> to serve as the scope for resolving the
name of the exception parameter passed to a <code class="t">catch</code> clause
of a <code class="t">try</code> statement. If the actual exception object is a
function and it is called from within the <code class="t">catch</code> clause,
the scope object will be passed as the <code class="t">this</code> value of the
call. The body of the function can then define new properties on its
<code class="t">this</code> value and those property names become visible
identifiers bindings within the scope of the <code class="t">catch</code>
clause after the function returns. In Edition 5, when an exception parameter is
called as a function, <span class="value">undefined</span> is passed as the
<span class="this">this</span> value.</p>

<p><a href="#sec-13">13</a>: In Edition 3, the algorithm for the production
<span class="nt">FunctionExpression</span> with an
<span class="nt">Identifier</span> adds an object created as if by
<code class="expr">new Object()</code> to the scope chain to serve as a scope
for looking up the name of the function. The identifier resolution rules
(10.1.4 in Edition 3) when applied to such an object will, if necessary, follow
the object&rsquo;s prototype chain when attempting to resolve an identifier.
This means all the properties of Object.prototype are visible as identifiers
within that scope. In practice most implementations of Edition 3 have not
implemented this semantics. Edition 5 changes the specified semantics by using
a <a href="#sec-10.2.1.1">Declarative Environment Record</a> to bind the name
of the function.</p>

<p><a href="#sec-14">14</a>: In Edition 3, the algorithm for the production
<span class="prod"><span class="nt">SourceElements</span>
<span class="geq">:</span> <span class="nt">SourceElements</span>
<span class="nt">SourceElement</span></span> did not correctly propagate
statement result values in the same manner as <span class="nt">Block</span>.
This could result in the <span class="libname">eval</span> function producing
an incorrect result when evaluating a <span class="nt">Program</span> text. In
practice most implementations of Edition 3 have implemented the correct
propagation rather than what was specified in Edition 3.</p>

<p><a href="#sec-15.10.6">15.10.6</a>: RegExp.prototype is now a RegExp object
rather than an instance of Object. The value of its [[Class]] internal property
which is observable using Object.prototype.toString is now "RegExp" rather than
"Object".</p>

<div class="blank-page">
  <span class="pagemark" id="page246">PDF page 246 / printed page 236</span>
</div>
</section>



<section id="sec-E">
<span class="pagemark" id="page247">PDF page 247 / printed page 237</span>
<h1>Annex E
  <span class="section-status">(informative)</span>
  <span style="display: block">Additions and Changes in the 5th Edition that
    Introduce Incompatibilities with the 3rd Edition</span></h1>

<p><a href="#sec-7.1">7.1</a>: Unicode format control characters are no longer
stripped from ECMAScript source text before processing. In Edition 5, if such a
character appears in a <span class="nt">StringLiteral</span> or
<span class="nt">RegularExpressionLiteral</span> the character will be
incorporated into the literal where in Edition 3 the character would not be
incorporated into the literal.</p>

<p><a href="#sec-7.2">7.2</a>: Unicode character &lt;BOM&gt; is now treated as
whitespace and its presence in the middle of what appears to be an identifier
could result in a syntax error which would not have occurred in Edition 3</p>

<p><a href="#sec-7.3">7.3</a>: Line terminator characters that are preceded by
an escape sequence are now allowed within a string literal token. In Edition 3
a syntax error would have been produced.</p>

<p><a href="#sec-7.8.5">7.8.5</a>: Regular expression literals now return a
unique object each time the literal is evaluated. This change is detectable by
any programs that test the object identity of such literal values or that are
sensitive to the shared side effects.</p>

<p><a href="#sec-7.8.5">7.8.5</a>: Edition 5 requires early reporting of any
possible RegExp constructor errors that would be produced when converting a
<span class="nt">RegularExpressionLiteral</span> to a RegExp object. Prior to
Edition 5 implementations were permitted to defer the reporting of such errors
until the actual execution time creation of the object.</p>

<p><a href="#sec-7.8.5">7.8.5</a>: In Edition 5 unescaped
&ldquo;<code class="t">/</code>&rdquo; characters may appear as a
<span class="nt">CharacterClass</span> in a regular expression literal. In
Edition 3 such a character would have been interpreted as the final character
of the literal.</p>

<p><a href="#sec-10.4.2">10.4.2</a>: In Edition 5,
<a href="#sec-15.1.2.1.1">indirect calls</a> to <a href="#sec-15.1.2.1">the
<span class="libname">eval</span> function</a> use the global environment as
both the variable environment and <a href="#sec-10.2">lexical environment</a>
for the <a href="#def-eval-code">eval code</a>. In Edition 3, the variable and
lexical environments of the caller of an indirect
<span class="libname">eval</span> was used as the environments for the
<a href="#def-eval-code">eval code</a>.</p>

<p><a href="#sec-15.4.4">15.4.4</a>: In Edition 5 all methods of
<a href="#sec-15.4.4"><span class="libname">Array.prototype</span></a> are
intentionally generic. In Edition 3 <span class="libname">toString</span> and
<span class="libname">toLocaleString</span> were not generic and would throw a
<span class="errorname">TypeError</span> exception if applied to objects that
were not instances of Array.</p>

<p><a href="#sec-10.6">10.6</a>: In Edition 5 the array indexed properties of
argument objects that correspond to actual formal parameters are enumerable. In
Edition 3, such properties were not enumerable.</p>

<p><a href="#sec-10.6">10.6</a>: In Edition 5 the value of the [[Class]]
internal property of an arguments object is <span class="string
value">"Arguments"</span>. In Edition 3, it was <span class="string
value">"Object"</span>. This is observable if
<span class="libname">toString</span> is called as a method of an arguments
object.</p>

<p><a href="#sec-12.6.4">12.6.4</a>: for-in statements no longer throw a
<span class="errorname">TypeError</span> if the <code class="t">in</code>
expression evaluates to <span class="value">null</span> or
<span class="value">undefined</span>. Instead, the statement behaves as if the
value of the expression was an object with no enumerable properties.</p>

<p><a href="#sec-15">15</a>: In Edition 5, the following new properties are
defined on built-in objects that exist in Edition 3:
<a href="#sec-15.2.3.2"><span class="libname">Object.getPrototypeOf</span></a>,
<a href="#sec-15.2.3.3"><span class="libname">Object.getOwnPropertyDescriptor</span></a>,
<a href="#sec-15.2.3.4"><span class="libname">Object.getOwnPropertyNames</span></a>,
<a href="#sec-15.2.3.5"><span class="libname">Object.create</span></a>,
<a href="#sec-15.2.3.6"><span class="libname">Object.defineProperty</span></a>,
<a href="#sec-15.2.3.7"><span class="libname">Object.defineProperties</span></a>,
<a href="#sec-15.2.3.8"><span class="libname">Object.seal</span></a>,
<a href="#sec-15.2.3.9"><span class="libname">Object.freeze</span></a>,
<a href="#sec-15.2.3.10"><span class="libname">Object.preventExtensions</span></a>,
<a href="#sec-15.2.3.11"><span class="libname">Object.isSealed</span></a>,
<a href="#sec-15.2.3.12"><span class="libname">Object.isFrozen</span></a>,
<a href="#sec-15.2.3.13"><span class="libname">Object.isExtensible</span></a>,
<a href="#sec-15.2.3.14"><span class="libname">Object.keys</span></a>,
<a href="#sec-15.3.4.5"><span class="libname">Function.prototype.bind</span></a>,
<a href="#sec-15.4.4.14"><span class="libname">Array.prototype.indexOf</span></a>,
<a href="#sec-15.4.4.15"><span class="libname">Array.prototype.lastIndexOf</span></a>,
<a href="#sec-15.4.4.16"><span class="libname">Array.prototype.every</span></a>,
<a href="#sec-15.4.4.17"><span class="libname">Array.prototype.some</span></a>,
<a href="#sec-15.4.4.18"><span class="libname">Array.prototype.forEach</span></a>,
<a href="#sec-15.4.4.19"><span class="libname">Array.prototype.map</span></a>,
<a href="#sec-15.4.4.20"><span class="libname">Array.prototype.filter</span></a>,
<a href="#sec-15.4.4.21"><span class="libname">Array.prototype.reduce</span></a>,
<a href="#sec-15.4.4.22"><span class="libname">Array.prototype.reduceRight</span></a>,
<a href="#sec-15.5.4.20"><span class="libname">String.prototype.trim</span></a>,
<a href="#sec-15.9.4.4"><span class="libname">Date.now</span></a>,
<a href="#sec-15.9.5.43"><span class="libname">Date.prototype.toISOString</span></a>,
<a href="#sec-15.9.5.44"><span class="libname">Date.prototype.toJSON</span></a>.</p>

<p><span class="pagemark" id="page248">PDF page 248 / printed page 238</span>
<a href="#sec-15">15</a>: Implementations are now required to ignore extra
arguments to standard built-in methods unless otherwise explicitly specified.
In Edition 3 the handling of extra arguments was unspecified and
implementations were explicitly allowed to throw a
<span class="errorname">TypeError</span> exception.</p>

<p><a href="#sec-15.1.1">15.1.1</a>: The value properties
<span class="libname">NaN</span>, <span class="libname">Infinity</span>, and
<span class="libname">undefined</span> of the Global Object have been changed
to be read-only properties.</p>

<p><a href="#sec-15.1.2.1">15.1.2.1</a>: Implementations are no longer
permitted to restrict the use of eval in ways that are not a
<a href="#sec-15.1.2.1.1">direct call</a>. In addition, any invocation of eval
that is not a direct call uses <a href="#sec-10.2.3">the global environment</a>
as its variable environment rather than the caller&rsquo;s variable
environment.</p>

<p><a href="#sec-15.1.2.2">15.1.2.2</a>: The specification of the function
<span class="libname">parseInt</span> no longer allows implementations to treat
Strings beginning with a <code class="ch">0</code> character as octal
values.</p>

<p><a href="#sec-15.3.4.3">15.3.4.3</a>: In Edition 3, a
<span class="errorname">TypeError</span> is thrown if the second argument
passed to <span class="libname">Function.prototype.apply</span> is neither an
array object nor an arguments object. In Edition 5, the second argument may be
any kind of generic array-like object that has a valid
<code class="propname">length</code> property.</p>

<p><a href="#sec-15.3.4.3">15.3.4.3</a>, <a href="#sec-15.3.4.4">15.3.4.4</a>:
In Edition 3 passing <span class="value">undefined</span> or
<span class="value">null</span> as the first argument to either
<span class="libname">Function.prototype.apply</span> or
<span class="libname">Function.prototype.call</span> causes the global object
to be passed to the indirectly invoked target function as the
<span class="this">this</span> value. If the first argument is a primitive
value the result of calling <a href="#sec-9.9">ToObject</a> on the primitive
value is passed as the <span class="this">this</span> value. In Edition 5,
these transformations are not performed and the actual first argument value is
passed as the <span class="this">this</span> value. This difference will
normally be unobservable to existing ECMAScript Edition 3 code because a
corresponding transformation takes place upon activation of the target
function. However, depending upon the implementation, this difference may be
observable by host object functions called using
<span class="libname">apply</span> or <span class="libname">call</span>. In
addition, invoking a standard built-in function in this manner with
<span class="value">null</span> or <span class="value">undefined</span> passed
as the <span class="this">this</span> value will in many cases cause behaviour
in Edition 5 implementations that differ from Edition 3 behaviour. In
particular, in Edition 5 built-in functions that are specified to actually use
the passed <span class="this">this</span> value as an object typically throw a
<span class="errorname">TypeError</span> exception if passed
<span class="value">null</span> or <span class="value">undefined</span> as the
<span class="this">this</span> value.</p>

<p><a href="#sec-15.3.5.2">15.3.5.2</a>: In Edition 5, the
<code class="propname">prototype</code> property of Function instances is not
enumerable. In Edition 3, this property was enumerable.</p>

<p><a href="#sec-15.5.5.2">15.5.5.2</a>: In Edition 5, the individual
characters of a String object&rsquo;s [[PrimitiveValue] may be accessed as
array indexed properties of the String object. These properties are
non-writable and non-configurable and shadow any inherited properties with the
same names. In Edition 3, these properties did not exist and ECMAScript code
could dynamically add and remove writable properties with such names and could
access inherited properties with such names.</p>

<p><a href="#sec-15.9.4.2">15.9.4.2</a>:
<a href="#sec-15.9.4.2"><span class="libname">Date.parse</span></a> is now
required to first attempt to parse its argument as an ISO format string.
Programs that use this format but depended upon implementation specific
behaviour (including failure) may behave differently.</p>

<p><a href="#sec-15.10.2.12">15.10.2.12</a>: In Edition 5,
<code class="ch">\s</code> now additionally matches &lt;BOM&gt;.</p>

<p><a href="#sec-15.10.4.1">15.10.4.1</a>: In Edition 3, the exact form of the
String value of the <code class="propname">source</code> property of an object
created by the <span class="libname">RegExp</span> constructor is
implementation defined. In Edition 5, the String must conform to
<a href="#def-RegExp-source">certain specified requirements</a> and hence may
be different from that produced by an Edition 3 implementation.</p>

<p><a href="#sec-15.10.6.4">15.10.6.4</a>: In Edition 3, the result of
<a href="#sec-15.10.6.4"><span class="libname">RegExp.prototype.toString</span></a>
need not be derived from the value of the RegExp object&rsquo;s
<code class="propname">source</code> property. In Edition 5 the result must be
derived from the <code class="propname">source</code> property in a specified
manner and hence may be different from the result produced by an Edition 3
implementation.</p>

<p><a href="#sec-15.11.2.1">15.11.2.1</a>,
<a href="#sec-15.11.4.3">15.11.4.3</a>: In Edition 5, if an initial value for
the <code class="propname">message</code> property of an Error object is not
specified via the <span class="libname">Error</span> constructor the initial
value of the property is the empty String. In Edition 3, such an initial value
is implementation defined.</p>

<span class="pagemark" id="page249">PDF page 249 / printed page 239</span>
<p><a href="#sec-15.11.4.4">15.11.4.4</a>: In Edition 3, the result of
<a href="#sec-15.11.4.4"><span class="libname">Error.prototype.toString</span></a>
is implementation defined. In Edition 5, the result is fully specified and
hence may differ from some Edition 3 implementations.</p>

<p><a href="#sec-15.12">15.12</a>: In Edition 5, the name
<a href="#sec-15.12"><span class="libname">JSON</span></a> is defined in the
<a href="#sec-10.2.3">global environment</a>. In Edition 3, testing for the
presence of that name will show it to be undefined unless it is defined by the
program or implementation.</p>

<div class="blank-page">
  <span class="pagemark" id="page250">PDF page 250 / printed page 240</span>
</div>
</section>



<section id="bibliography">
<span class="pagemark" id="page251">PDF page 251 / printed page 241</span>

<h1>Bibliography</h1>

<ol class="bibliography">

  <li><span class="num">[1]</span> ANSI/IEEE Std 754-1985:
      <span class="book-title">IEEE Standard for Binary Floating-Point
      Arithmetic</span>. Institute of Electrical and Electronic Engineers, New
      York (1985)</li>

  <li><span class="num">[2]</span> The Unicode Consortium.
      <span class="book-title">The Unicode Standard, Version 3.0</span>,
      defined by: <span class="book-title">The Unicode Standard, Version
      3.0</span> (Boston, MA, Addison-Wesley, 2000. ISBN 0-201-61635-5)</li>

  <li><span class="num">[3]</span> Unicode Inc. (1998), Unicode Technical
      Report #15: Unicode Normalization Forms</li>

</ol>

</section>


<span class="pagemark" id="page252">PDF page 252</span>
<hr />
<div class="copyright">&copy; Ecma International 2009</div>

</section>
</body>
</html>
